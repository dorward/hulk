/*! For license information please see app.js.LICENSE.txt */
(self.webpackChunkhulk=self.webpackChunkhulk||[]).push([[143],{117:(e,t,n)=>{"use strict";var r=n(745),i=n(294),a=n(688),l=n(798),o=n(935);let s=function(e){e()};const u=()=>s,c=i.createContext(null);function h(){return(0,i.useContext)(c)}let f=()=>{throw new Error("uSES not initialized!")};const d=(e,t)=>e===t;function p(e=c){const t=e===c?h:()=>(0,i.useContext)(e);return function(e,n=d){const{store:r,subscription:a,getServerState:l}=t(),o=f(a.addNestedSub,r.getState,l||r.getState,e,n);return(0,i.useDebugValue)(o),o}}const m=p();n(679),n(864);const g={notify(){},get:()=>[]};const y="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect;let v=null;const b=function({store:e,context:t,children:n,serverState:r}){const a=(0,i.useMemo)((()=>{const t=function(e,t){let n,r=g;function i(){l.onStateChange&&l.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){const e=u();let t=null,n=null;return{clear(){t=null,n=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}const l={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=g)},getListeners:()=>r};return l}(e);return{store:e,subscription:t,getServerState:r?()=>r:void 0}}),[e,r]),l=(0,i.useMemo)((()=>e.getState()),[e]);y((()=>{const{subscription:t}=a;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),l!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}}),[a,l]);const o=t||c;return i.createElement(o.Provider,{value:a},n)};function S(e=c){const t=e===c?h:()=>(0,i.useContext)(e);return function(){const{store:e}=t();return e}}const w=S();function C(e=c){const t=e===c?w:S(e);return function(){return t().dispatch}}const _=C();var k;function E(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function P(e){return!!e&&!!e[fe]}function x(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===de}(e)||Array.isArray(e)||!!e[he]||!!e.constructor[he]||F(e)||W(e))}function T(e,t,n){void 0===n&&(n=!1),0===O(e)?(n?Object.keys:pe)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function O(e){var t=e[fe];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:F(e)?2:W(e)?3:0}function N(e,t){return 2===O(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function I(e,t,n){var r=O(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function A(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function F(e){return oe&&e instanceof Map}function W(e){return se&&e instanceof Set}function L(e){return e.o||e.t}function R(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=me(e);delete t[fe];for(var n=pe(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function V(e,t){return void 0===t&&(t=!1),j(e)||P(e)||!x(e)||(O(e)>1&&(e.set=e.add=e.clear=e.delete=D),Object.freeze(e),t&&T(e,(function(e,t){return V(t,!0)}),!0)),e}function D(){E(2)}function j(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function M(e){var t=ge[e];return t||E(18,e),t}function z(){return ae}function B(e,t){t&&(M("Patches"),e.u=[],e.s=[],e.v=t)}function U(e){G(e),e.p.forEach(H),e.p=null}function G(e){e===ae&&(ae=e.l)}function $(e){return ae={p:[],l:ae,h:e,m:!0,_:0}}function H(e){var t=e[fe];0===t.i||1===t.i?t.j():t.O=!0}function K(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||M("ES5").S(t,e,r),r?(n[fe].P&&(U(t),E(4)),x(e)&&(e=q(t,e),t.l||J(t,e)),t.u&&M("Patches").M(n[fe].t,e,t.u,t.s)):e=q(t,n,[]),U(t),t.u&&t.v(t.u,t.s),e!==ce?e:void 0}function q(e,t,n){if(j(t))return t;var r=t[fe];if(!r)return T(t,(function(i,a){return Q(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return J(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=R(r.k):r.o;T(3===r.i?new Set(i):i,(function(t,a){return Q(e,r,i,t,a,n)})),J(e,i,!1),n&&e.u&&M("Patches").R(r,n,e.u,e.s)}return r.o}function Q(e,t,n,r,i,a){if(P(i)){var l=q(e,i,a&&t&&3!==t.i&&!N(t.D,r)?a.concat(r):void 0);if(I(n,r,l),!P(l))return;e.m=!1}if(x(i)&&!j(i)){if(!e.h.F&&e._<1)return;q(e,i),t&&t.A.l||J(e,i)}}function J(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&V(t,n)}function X(e,t){var n=e[fe];return(n?L(n):e)[t]}function Y(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Z(e){e.P||(e.P=!0,e.l&&Z(e.l))}function ee(e){e.o||(e.o=R(e.t))}function te(e,t,n){var r=F(t)?M("MapSet").N(t,n):W(t)?M("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:z(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=ye;n&&(i=[r],a=ve);var l=Proxy.revocable(i,a),o=l.revoke,s=l.proxy;return r.k=s,r.j=o,s}(t,n):M("ES5").J(t,n);return(n?n.A:z()).p.push(r),r}function ne(e){return P(e)||E(22,e),function e(t){if(!x(t))return t;var n,r=t[fe],i=O(t);if(r){if(!r.P&&(r.i<4||!M("ES5").K(r)))return r.t;r.I=!0,n=re(t,i),r.I=!1}else n=re(t,i);return T(n,(function(t,i){r&&function(e,t){return 2===O(e)?e.get(t):e[t]}(r.t,t)===i||I(n,t,e(i))})),3===i?new Set(n):n}(e)}function re(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return R(e)}(e=>{f=e})(l.useSyncExternalStoreWithSelector),(e=>{v=e})(a.useSyncExternalStore),k=o.unstable_batchedUpdates,s=k;var ie,ae,le="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),oe="undefined"!=typeof Map,se="undefined"!=typeof Set,ue="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,ce=le?Symbol.for("immer-nothing"):((ie={})["immer-nothing"]=!0,ie),he=le?Symbol.for("immer-draftable"):"__$immer_draftable",fe=le?Symbol.for("immer-state"):"__$immer_state",de=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),pe="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,me=Object.getOwnPropertyDescriptors||function(e){var t={};return pe(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},ge={},ye={get:function(e,t){if(t===fe)return e;var n=L(e);if(!N(n,t))return function(e,t,n){var r,i=Y(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!x(r)?r:r===X(e.t,t)?(ee(e),e.o[t]=te(e.A.h,r,e)):r},has:function(e,t){return t in L(e)},ownKeys:function(e){return Reflect.ownKeys(L(e))},set:function(e,t,n){var r=Y(L(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=X(L(e),t),a=null==i?void 0:i[fe];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(A(n,i)&&(void 0!==n||N(e.t,t)))return!0;ee(e),Z(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==X(e.t,t)||t in e.t?(e.D[t]=!1,ee(e),Z(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=L(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){E(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){E(12)}},ve={};T(ye,(function(e,t){ve[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ve.deleteProperty=function(e,t){return ve.set.call(this,e,t,void 0)},ve.set=function(e,t,n){return ye.set.call(this,e[0],t,n,e[0])};var be=function(){function e(e){var t=this;this.g=ue,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,l=Array(r>1?r-1:0),o=1;o<r;o++)l[o-1]=arguments[o];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(l))}))}}var l;if("function"!=typeof n&&E(6),void 0!==r&&"function"!=typeof r&&E(7),x(e)){var o=$(t),s=te(t,e,void 0),u=!0;try{l=n(s),u=!1}finally{u?U(o):G(o)}return"undefined"!=typeof Promise&&l instanceof Promise?l.then((function(e){return B(o,r),K(e,o)}),(function(e){throw U(o),e})):(B(o,r),K(l,o))}if(!e||"object"!=typeof e){if(void 0===(l=n(e))&&(l=e),l===ce&&(l=void 0),t.F&&V(l,!0),r){var c=[],h=[];M("Patches").M(e,l,c,h),r(c,h)}return l}E(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){x(e)||E(8),P(e)&&(e=ne(e));var t=$(this),n=te(this,e,void 0);return n[fe].C=!0,G(t),n},t.finishDraft=function(e,t){var n=(e&&e[fe]).A;return B(n,t),K(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!ue&&E(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=M("Patches").$;return P(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Se=new be,we=Se.produce;Se.produceWithPatches.bind(Se),Se.setAutoFreeze.bind(Se),Se.setUseProxies.bind(Se),Se.applyPatches.bind(Se),Se.createDraft.bind(Se),Se.finishDraft.bind(Se);const Ce=we;function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var xe="function"==typeof Symbol&&Symbol.observable||"@@observable",Te=function(){return Math.random().toString(36).substring(7).split("").join(".")},Oe={INIT:"@@redux/INIT"+Te(),REPLACE:"@@redux/REPLACE"+Te(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Te()}};function Ne(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ie(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(Pe(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(Pe(1));return n(Ie)(e,t)}if("function"!=typeof e)throw new Error(Pe(2));var i=e,a=t,l=[],o=l,s=!1;function u(){o===l&&(o=l.slice())}function c(){if(s)throw new Error(Pe(3));return a}function h(e){if("function"!=typeof e)throw new Error(Pe(4));if(s)throw new Error(Pe(5));var t=!0;return u(),o.push(e),function(){if(t){if(s)throw new Error(Pe(6));t=!1,u();var n=o.indexOf(e);o.splice(n,1),l=null}}}function f(e){if(!Ne(e))throw new Error(Pe(7));if(void 0===e.type)throw new Error(Pe(8));if(s)throw new Error(Pe(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=l=o,n=0;n<t.length;n++)(0,t[n])();return e}function d(e){if("function"!=typeof e)throw new Error(Pe(10));i=e,f({type:Oe.REPLACE})}function p(){var e,t=h;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(Pe(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[xe]=function(){return this},e}return f({type:Oe.INIT}),(r={dispatch:f,subscribe:h,getState:c,replaceReducer:d})[xe]=p,r}function Ae(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Fe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Pe(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=Ae.apply(void 0,a)(n.dispatch),Ee(Ee({},n),{},{dispatch:r})}}}function We(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}var Le=We();Le.withExtraArgument=We;const Re=Le;var Ve,De=(Ve=function(e,t){return Ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Ve(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ve(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),je=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Me=Object.defineProperty,ze=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),Be=Object.prototype.hasOwnProperty,Ue=Object.prototype.propertyIsEnumerable,Ge=function(e,t,n){return t in e?Me(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},$e=function(e,t){for(var n in t||(t={}))Be.call(t,n)&&Ge(e,n,t[n]);if(ze)for(var r=0,i=ze(t);r<i.length;r++)n=i[r],Ue.call(t,n)&&Ge(e,n,t[n]);return e},He="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?Ae:Ae.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var Ke=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return De(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,je([void 0],e[0].concat(this)))):new(t.bind.apply(t,je([void 0],e.concat(this))))},t}(Array);function qe(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return $e($e({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Qe(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"==typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function Je(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:Ce(e.initialState,(function(){})),i=e.reducers||{},a=Object.keys(i),l={},o={},s={};function u(){var t="function"==typeof e.extraReducers?Qe(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],l=void 0===a?[]:a,s=t[2],u=void 0===s?void 0:s,c=$e($e({},i),o);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"==typeof t?Qe(t):[t,n,r],l=a[0],o=a[1],s=a[2];if(function(e){return"function"==typeof e}(e))i=function(){return Ce(e(),(function(){}))};else{var u=Ce(e,(function(){}));i=function(){return u}}function c(e,t){void 0===e&&(e=i());var n=je([l[t.type]],o.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[s]),n.reduce((function(e,n){if(n){var r;if(P(e))return void 0===(r=n(e,t))?e:r;if(x(e))return Ce(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return c.getInitialState=i,c}(r,c,l,u)}return a.forEach((function(e){var n,r,a=i[e],u=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,l[e]=n,o[u]=n,s[e]=r?qe(u,r):qe(u)})),{name:t,reducer:function(e,t){return n||(n=u()),n(e,t)},actions:s,caseReducers:l,getInitialState:function(){return n||(n=u()),n.getInitialState()}}}Object.assign;var Xe="listenerMiddleware";qe(Xe+"/add"),qe(Xe+"/removeAll"),qe(Xe+"/remove"),function(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[fe];return ye.get(t,e)},set:function(t){var n=this[fe];ye.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][fe];if(!i.P)switch(i.i){case 5:r(i)&&Z(i);break;case 4:n(i)&&Z(i)}}}function n(e){for(var t=e.t,n=e.k,r=pe(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==fe){var l=t[a];if(void 0===l&&!N(t,a))return!0;var o=n[a],s=o&&o[fe];if(s?s.t!==l:!A(o,l))return!0}}var u=!!t[fe];return r.length!==pe(t).length+(u?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};!function(e,t){ge[e]||(ge[e]=t)}("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=me(n);delete a[fe];for(var l=pe(a),o=0;o<l.length;o++){var s=l[o];a[s]=e(s,t||!!a[s].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:z(),P:!1,I:!1,D:{},l:n,t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,fe,{value:a,writable:!0}),i},S:function(e,n,i){i?P(n)&&n[fe].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[fe];if(n){var i=n.t,a=n.k,l=n.D,o=n.i;if(4===o)T(a,(function(t){t!==fe&&(void 0!==i[t]||N(i,t)?l[t]||e(a[t]):(l[t]=!0,Z(n)))})),T(i,(function(e){void 0!==a[e]||N(a,e)||(l[e]=!1,Z(n))}));else if(5===o){if(r(n)&&(Z(n),l.length=!0),a.length<i.length)for(var s=a.length;s<i.length;s++)l[s]=!1;else for(var u=i.length;u<a.length;u++)l[u]=!0;for(var c=Math.min(a.length,i.length),h=0;h<c;h++)a.hasOwnProperty(h)||(l[h]=!0),void 0===l[h]&&e(a[h])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}();var Ye=Je({name:"content",initialState:{content:[]},reducers:{add:function(e,t){e.content.push(t.payload)}}}),Ze=Ye.actions.add;const et=Ye.reducer;var tt=Je({name:"choice",initialState:{choices:[]},reducers:{setChoices:function(e,t){e.choices=t.payload}}}),nt=tt.actions.setChoices;const rt=tt.reducer,it=JSON.parse('{"inkVersion":20,"root":[["^You\'re the lucky one.","\\n","^The pirates in this part of space are well-known for their exotic religious beliefs.","\\n","^Your crewmates are destined to spend the rest of their lives as slaves and victims of the crazed cultists of the god of pain.","\\n","^You are not.","\\n","^The inhuman raiders picked you to escape their torture and other vices.","\\n","^Three days ago, they put you in an escape pod and launched it. You\'re lightyears from civilisation and have 30 minutes of oxygen remaining.","\\n","^The corsairs gave you three days to contemplate death by asphyxiation. Now it is almost here.","\\n","ev","str","^Is this the end?","/str","/ev",{"*":"0.c-0","flg":20},{"c-0":["^ ",{"->":"pod_thrusters"},"\\n",{"->":"0.g-0"},{"#f":5}],"g-0":["done",{"#f":5}]}],"done",{"pod_thrusters":[["^You feel a slight jerk as the escape pod\'s thrusters fire.","\\n","^It has locked onto a spacecraft that you hadn\'t noticed.","\\n","^Huge though it is, there is little light out here, and it doesn\'t seem to have any running lights on it.","\\n","^Maybe it is abandoned?","\\n","^Maybe it still has air?","\\n","^…and water?","\\n","^…and food?","\\n","^You\'ll be docking soon, so you\'ll find out.","\\n","ev","str","^Wait","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["^ ",{"->":"pod_docking"},"\\n",{"#f":5}]}],{"#f":1}],"pod_docking":["^There is a loud clank, or perhaps a clunk, as the pod connects to the hull of the larger vessel.","\\n","^The airlock… doesn\'t open.","\\n",{"->":"pod_choices"},{"#f":1}],"pod_choices":[[["ev",{"^->":"pod_choices.0.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Press the airlock release control ",{"->":"$r","var":true},null]}],["ev",{"^->":"pod_choices.0.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":18},{"s":["^Make use of the emergency toolkit that came with the pod ",{"->":"$r","var":true},null]}],["ev",{"^->":"pod_choices.0.2.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-2","flg":18},{"s":["^Rip off the plasteele panel under the pod\'s control panel and use it as a crowbar ",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"pod_choices.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],{"->":"pod_button"},"\\n",{"#f":5}],"c-1":["ev",{"^->":"pod_choices.0.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],{"->":"pod_toolkit"},"\\n",{"#f":5}],"c-2":["ev",{"^->":"pod_choices.0.c-2.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.2.s"},[{"#n":"$r2"}],{"->":"pod_crowbar"},"\\n",{"#f":5}]}],{"#f":1}],"pod_button":["^The door panel emits an unhappy \\"blat\\" noise. It isn\'t working.","\\n",{"->":"pod_choices"},{"#f":1}],"pod_toolkit":["^It opens!","\\n",{"->":"temp_end"},{"#f":1}],"pod_crowbar":["^It opens!","\\n",{"->":"temp_end"},{"#f":1}],"temp_end":["^Fin. For now.","\\n","end",{"#f":1}],"#f":1}],"listDefs":{}}');var at=n(723);console.log({data:it}),console.log({Inkjs:at});const lt=new at.Story(it);var ot=function(e){for(;lt.canContinue;){var t=lt.Continue();null!==t&&e(Ze(t))}var n=lt.currentChoices.map((function(e){return{text:e.text,index:e.index}}));e(nt(n))};var st=n(893);const ut=function(){var e,t=m((function(e){return e.content})),n=m((function(e){return e.choices})),r=(e=_(),(0,i.useEffect)((function(){return ot(e)}),[]),{choose:(0,i.useCallback)((function(t){lt.ChooseChoiceIndex(t),ot(e)}),[])}).choose;return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("h1",{children:"Hulk"}),(0,st.jsx)("div",{id:"story",children:t.content.map((function(e){return(0,st.jsx)("p",{children:e})}))}),(0,st.jsx)("div",{id:"choices",children:n.choices.map((function(e){return(0,st.jsx)("button",{onClick:function(){return r(e.index)},children:e.text},e.index)}))})]})};var ct=function(e){var t,n=function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new Ke);return n&&(function(e){return"boolean"==typeof e}(n)?r.push(Re):r.push(Re.withExtraArgument(n.extraArgument))),r}(e)},r=e||{},i=r.reducer,a=void 0===i?void 0:i,l=r.middleware,o=void 0===l?n():l,s=r.devTools,u=void 0===s||s,c=r.preloadedState,h=void 0===c?void 0:c,f=r.enhancers,d=void 0===f?void 0:f;if("function"==typeof a)t=a;else{if(!function(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var a,l=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:Oe.INIT}))throw new Error(Pe(12));if(void 0===n(void 0,{type:Oe.PROBE_UNKNOWN_ACTION()}))throw new Error(Pe(13))}))}(n)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},o=0;o<l.length;o++){var s=l[o],u=n[s],c=e[s],h=u(c,t);if(void 0===h)throw t&&t.type,new Error(Pe(14));i[s]=h,r=r||h!==c}return(r=r||l.length!==Object.keys(e).length)?i:e}}(a)}var p=o;"function"==typeof p&&(p=p(n));var m=Fe.apply(void 0,p),g=Ae;u&&(g=He($e({trace:!1},"object"==typeof u&&u)));var y=[m];return Array.isArray(d)?y=je([m],d):"function"==typeof d&&(y=d(y)),Ie(t,h,g.apply(void 0,y))}({reducer:{choices:rt,content:et}}),ht=document.getElementById("root");if(!ht)throw new Error("Could not find an element with the id 'root'.");(0,r.s)(ht).render((0,st.jsx)(b,{store:ct,children:(0,st.jsx)(ut,{})}))},679:(e,t,n)=>{"use strict";var r=n(296),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},l={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function s(e){return r.isMemo(e)?l:o[e.$$typeof]||i}o[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[r.Memo]=l;var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var l=c(n);h&&(l=l.concat(h(n)));for(var o=s(t),m=s(n),g=0;g<l.length;++g){var y=l[g];if(!(a[y]||r&&r[y]||m&&m[y]||o&&o[y])){var v=f(n,y);try{u(t,y,v)}catch(e){}}}}return t}},103:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,l=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,S=n?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case h:case a:case o:case l:case d:return e;default:switch(e=e&&e.$$typeof){case u:case f:case g:case m:case s:return e;default:return t}}case i:return t}}}function C(e){return w(e)===h}t.AsyncMode=c,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=s,t.Element=r,t.ForwardRef=f,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=o,t.StrictMode=l,t.Suspense=d,t.isAsyncMode=function(e){return C(e)||w(e)===c},t.isConcurrentMode=C,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===o},t.isStrictMode=function(e){return w(e)===l},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===h||e===o||e===l||e===d||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===s||e.$$typeof===u||e.$$typeof===f||e.$$typeof===v||e.$$typeof===b||e.$$typeof===S||e.$$typeof===y)},t.typeOf=w},296:(e,t,n)=>{"use strict";e.exports=n(103)},723:function(e,t){!function(e){"use strict";class t{constructor(){if(this._components=[],this._componentsString=null,this._isRelative=!1,"string"==typeof arguments[0]){let e=arguments[0];this.componentsString=e}else if(arguments[0]instanceof t.Component&&arguments[1]instanceof t){let e=arguments[0],t=arguments[1];this._components.push(e),this._components=this._components.concat(t._components)}else if(arguments[0]instanceof Array){let e=arguments[0],t=!!arguments[1];this._components=this._components.concat(e),this._isRelative=t}}get isRelative(){return this._isRelative}get componentCount(){return this._components.length}get head(){return this._components.length>0?this._components[0]:null}get tail(){if(this._components.length>=2){let e=this._components.slice(1,this._components.length);return new t(e)}return t.self}get length(){return this._components.length}get lastComponent(){let e=this._components.length-1;return e>=0?this._components[e]:null}get containsNamedComponent(){for(let e=0,t=this._components.length;e<t;e++)if(!this._components[e].isIndex)return!0;return!1}static get self(){let e=new t;return e._isRelative=!0,e}GetComponent(e){return this._components[e]}PathByAppendingPath(e){let n=new t,r=0;for(let t=0;t<e._components.length&&e._components[t].isParent;++t)r++;for(let e=0;e<this._components.length-r;++e)n._components.push(this._components[e]);for(let t=r;t<e._components.length;++t)n._components.push(e._components[t]);return n}get componentsString(){return null==this._componentsString&&(this._componentsString=this._components.join("."),this.isRelative&&(this._componentsString="."+this._componentsString)),this._componentsString}set componentsString(e){if(this._components.length=0,this._componentsString=e,null==this._componentsString||""==this._componentsString)return;"."==this._componentsString[0]&&(this._isRelative=!0,this._componentsString=this._componentsString.substring(1));let n=this._componentsString.split(".");for(let e of n)/^(\-|\+)?([0-9]+|Infinity)$/.test(e)?this._components.push(new t.Component(parseInt(e))):this._components.push(new t.Component(e))}toString(){return this.componentsString}Equals(e){if(null==e)return!1;if(e._components.length!=this._components.length)return!1;if(e.isRelative!=this.isRelative)return!1;for(let t=0,n=e._components.length;t<n;t++)if(!e._components[t].Equals(this._components[t]))return!1;return!0}PathByAppendingComponent(e){let n=new t;return n._components.push(...this._components),n._components.push(e),n}}var n,r,i,a;function l(e,t){return e instanceof t?h(e):null}function o(e,t){if(e instanceof t)return h(e);throw new Error(`${e} is not of type ${t}`)}function s(e){return e.hasValidName&&e.name?e:null}function u(e){return void 0===e?null:e}function c(e){return"object"==typeof e&&"function"==typeof e.Equals}function h(e,t){return e}t.parentId="^",function(e){class t{constructor(e){this.index=-1,this.name=null,"string"==typeof e?this.name=e:this.index=e}get isIndex(){return this.index>=0}get isParent(){return this.name==e.parentId}static ToParent(){return new t(e.parentId)}toString(){return this.isIndex?this.index.toString():this.name}Equals(e){return null!=e&&e.isIndex==this.isIndex&&(this.isIndex?this.index==e.index:this.name==e.name)}}e.Component=t}(t||(t={})),function(e){function t(e,t){if(!e)throw void 0!==t&&console.warn(t),console.trace&&console.trace(),new Error("")}e.AssertType=function(e,n,r){t(e instanceof n,r)},e.Assert=t}(n||(n={}));class f extends Error{}function d(e){throw new f(e+" is null or undefined")}class p{constructor(){this.parent=null,this._debugMetadata=null,this._path=null}get debugMetadata(){return null===this._debugMetadata&&this.parent?this.parent.debugMetadata:this._debugMetadata}set debugMetadata(e){this._debugMetadata=e}get ownDebugMetadata(){return this._debugMetadata}DebugLineNumberOfPath(e){if(null===e)return null;let t=this.rootContentContainer;if(t){let n=t.ContentAtPath(e).obj;if(n){let e=n.debugMetadata;if(null!==e)return e.startLineNumber}}return null}get path(){if(null==this._path)if(null==this.parent)this._path=new t;else{let e=[],n=this,r=l(n.parent,N);for(;null!==r;){let i=s(n);null!=i&&i.hasValidName?e.unshift(new t.Component(i.name)):e.unshift(new t.Component(r.content.indexOf(n))),n=r,r=l(r.parent,N)}this._path=new t(e)}return this._path}ResolvePath(e){if(null===e)return d("path");if(e.isRelative){let t=l(this,N);return null===t&&(n.Assert(null!==this.parent,"Can't resolve relative path because we don't have a parent"),t=l(this.parent,N),n.Assert(null!==t,"Expected parent to be a container"),n.Assert(e.GetComponent(0).isParent),e=e.tail),null===t?d("nearestContainer"):t.ContentAtPath(e)}{let t=this.rootContentContainer;return null===t?d("contentContainer"):t.ContentAtPath(e)}}ConvertPathToRelative(e){let n=this.path,r=Math.min(e.length,n.length),i=-1;for(let t=0;t<r;++t){let r=n.GetComponent(t),a=e.GetComponent(t);if(!r.Equals(a))break;i=t}if(-1==i)return e;let a=n.componentCount-1-i,l=[];for(let e=0;e<a;++e)l.push(t.Component.ToParent());for(let t=i+1;t<e.componentCount;++t)l.push(e.GetComponent(t));return new t(l,!0)}CompactPathString(e){let t=null,n=null;return e.isRelative?(n=e.componentsString,t=this.path.PathByAppendingPath(e).componentsString):(n=this.ConvertPathToRelative(e).componentsString,t=e.componentsString),n.length<t.length?n:t}get rootContentContainer(){let e=this;for(;e.parent;)e=e.parent;return l(e,N)}Copy(){throw Error("Not Implemented: Doesn't support copying")}SetChild(e,t,n){e[t]&&(e[t]=null),e[t]=n,e[t]&&(e[t].parent=this)}}class m{constructor(e){e=void 0!==e?e.toString():"",this.string=e}get Length(){return this.string.length}Append(e){null!==e&&(this.string+=e)}AppendLine(e){void 0!==e&&this.Append(e),this.string+="\n"}AppendFormat(e,...t){this.string+=e.replace(/{(\d+)}/g,((e,n)=>void 0!==t[n]?t[n]:e))}toString(){return this.string}}class g{constructor(){if(this.originName=null,this.itemName=null,void 0!==arguments[1]){let e=arguments[0],t=arguments[1];this.originName=e,this.itemName=t}else if(arguments[0]){let e=arguments[0].toString().split(".");this.originName=e[0],this.itemName=e[1]}}static get Null(){return new g(null,null)}get isNull(){return null==this.originName&&null==this.itemName}get fullName(){return(null!==this.originName?this.originName:"?")+"."+this.itemName}toString(){return this.fullName}Equals(e){if(e instanceof g){let t=e;return t.itemName==this.itemName&&t.originName==this.originName}return!1}copy(){return new g(this.originName,this.itemName)}serialized(){return JSON.stringify({originName:this.originName,itemName:this.itemName})}static fromSerializedKey(e){let t=JSON.parse(e);if(!g.isLikeInkListItem(t))return g.Null;let n=t;return new g(n.originName,n.itemName)}static isLikeInkListItem(e){return!("object"!=typeof e||!e.hasOwnProperty("originName")||!e.hasOwnProperty("itemName")||"string"!=typeof e.originName&&null!==typeof e.originName||"string"!=typeof e.itemName&&null!==typeof e.itemName)}}class y extends Map{constructor(){if(super(arguments[0]instanceof y?arguments[0]:[]),this.origins=null,this._originNames=[],arguments[0]instanceof y){let e=arguments[0];this._originNames=e.originNames,null!==e.origins&&(this.origins=e.origins.slice())}else if("string"==typeof arguments[0]){let e=arguments[0],t=arguments[1];if(this.SetInitialOriginName(e),null===t.listDefinitions)return d("originStory.listDefinitions");let n=t.listDefinitions.TryListGetDefinition(e,null);if(!n.exists)throw new Error("InkList origin could not be found in story when constructing new list: "+e);if(null===n.result)return d("def.result");this.origins=[n.result]}else if("object"==typeof arguments[0]&&arguments[0].hasOwnProperty("Key")&&arguments[0].hasOwnProperty("Value")){let e=arguments[0];this.Add(e.Key,e.Value)}}static FromString(e,t){var n;let r=null===(n=t.listDefinitions)||void 0===n?void 0:n.FindSingleItemListWithName(e);if(r)return null===r.value?d("listValue.value"):new y(r.value);throw new Error("Could not find the InkListItem from the string '"+e+"' to create an InkList because it doesn't exist in the original list definition in ink.")}AddItem(e){if(e instanceof g){let t=e;if(null==t.originName)return void this.AddItem(t.itemName);if(null===this.origins)return d("this.origins");for(let e of this.origins)if(e.name==t.originName){let n=e.TryGetValueForItem(t,0);if(n.exists)return void this.Add(t,n.result);throw new Error("Could not add the item "+t+" to this list because it doesn't exist in the original list definition in ink.")}throw new Error("Failed to add item to list because the item was from a new list definition that wasn't previously known to this list. Only items from previously known lists can be used, so that the int value can be found.")}{let t=e,n=null;if(null===this.origins)return d("this.origins");for(let e of this.origins){if(null===t)return d("itemName");if(e.ContainsItemWithName(t)){if(null!=n)throw new Error("Could not add the item "+t+" to this list because it could come from either "+e.name+" or "+n.name);n=e}}if(null==n)throw new Error("Could not add the item "+t+" to this list because it isn't known to any list definitions previously associated with this list.");let r=new g(n.name,t),i=n.ValueForItem(r);this.Add(r,i)}}ContainsItemNamed(e){for(let[t]of this)if(g.fromSerializedKey(t).itemName==e)return!0;return!1}ContainsKey(e){return this.has(e.serialized())}Add(e,t){let n=e.serialized();if(this.has(n))throw new Error("The Map already contains an entry for "+e);this.set(n,t)}Remove(e){return this.delete(e.serialized())}get Count(){return this.size}get originOfMaxItem(){if(null==this.origins)return null;let e=this.maxItem.Key.originName,t=null;return this.origins.every((n=>n.name!=e||(t=n,!1))),t}get originNames(){if(this.Count>0){null==this._originNames&&this.Count>0?this._originNames=[]:(this._originNames||(this._originNames=[]),this._originNames.length=0);for(let[e]of this){let t=g.fromSerializedKey(e);if(null===t.originName)return d("item.originName");this._originNames.push(t.originName)}}return this._originNames}SetInitialOriginName(e){this._originNames=[e]}SetInitialOriginNames(e){this._originNames=null==e?null:e.slice()}get maxItem(){let e={Key:g.Null,Value:0};for(let[t,n]of this){let r=g.fromSerializedKey(t);(e.Key.isNull||n>e.Value)&&(e={Key:r,Value:n})}return e}get minItem(){let e={Key:g.Null,Value:0};for(let[t,n]of this){let r=g.fromSerializedKey(t);(e.Key.isNull||n<e.Value)&&(e={Key:r,Value:n})}return e}get inverse(){let e=new y;if(null!=this.origins)for(let t of this.origins)for(let[n,r]of t.items){let t=g.fromSerializedKey(n);this.ContainsKey(t)||e.Add(t,r)}return e}get all(){let e=new y;if(null!=this.origins)for(let t of this.origins)for(let[n,r]of t.items){let t=g.fromSerializedKey(n);e.set(t.serialized(),r)}return e}Union(e){let t=new y(this);for(let[n,r]of e)t.set(n,r);return t}Intersect(e){let t=new y;for(let[n,r]of this)e.has(n)&&t.set(n,r);return t}Without(e){let t=new y(this);for(let[n]of e)t.delete(n);return t}Contains(e){for(let[t]of e)if(!this.has(t))return!1;return!0}GreaterThan(e){return 0!=this.Count&&(0==e.Count||this.minItem.Value>e.maxItem.Value)}GreaterThanOrEquals(e){return 0!=this.Count&&(0==e.Count||this.minItem.Value>=e.minItem.Value&&this.maxItem.Value>=e.maxItem.Value)}LessThan(e){return 0!=e.Count&&(0==this.Count||this.maxItem.Value<e.minItem.Value)}LessThanOrEquals(e){return 0!=e.Count&&(0==this.Count||this.maxItem.Value<=e.maxItem.Value&&this.minItem.Value<=e.minItem.Value)}MaxAsList(){return this.Count>0?new y(this.maxItem):new y}MinAsList(){return this.Count>0?new y(this.minItem):new y}ListWithSubRange(e,t){if(0==this.Count)return new y;let n=this.orderedItems,r=0,i=Number.MAX_SAFE_INTEGER;Number.isInteger(e)?r=e:e instanceof y&&e.Count>0&&(r=e.minItem.Value),Number.isInteger(t)?i=t:e instanceof y&&e.Count>0&&(i=t.maxItem.Value);let a=new y;a.SetInitialOriginNames(this.originNames);for(let e of n)e.Value>=r&&e.Value<=i&&a.Add(e.Key,e.Value);return a}Equals(e){if(e instanceof y==0)return!1;if(e.Count!=this.Count)return!1;for(let[t]of this)if(!e.has(t))return!1;return!0}get orderedItems(){let e=new Array;for(let[t,n]of this){let r=g.fromSerializedKey(t);e.push({Key:r,Value:n})}return e.sort(((e,t)=>null===e.Key.originName?d("x.Key.originName"):null===t.Key.originName?d("y.Key.originName"):e.Value==t.Value?e.Key.originName.localeCompare(t.Key.originName):e.Value<t.Value?-1:e.Value>t.Value?1:0)),e}toString(){let e=this.orderedItems,t=new m;for(let n=0;n<e.length;n++){n>0&&t.Append(", ");let r=e[n].Key;if(null===r.itemName)return d("item.itemName");t.Append(r.itemName)}return t.toString()}valueOf(){return NaN}}class v extends Error{constructor(e){super(e),this.useEndLineNumber=!1,this.message=e,this.name="StoryException"}}function b(e,t,n){if(null===e)return{result:n,exists:!1};let r=e.get(t);return void 0===r?{result:n,exists:!1}:{result:r,exists:!0}}class S extends p{static Create(e,n){if(n){if(n===r.Int&&Number.isInteger(Number(e)))return new _(Number(e));if(n===r.Float&&!isNaN(e))return new k(Number(e))}return"boolean"==typeof e?new C(Boolean(e)):"string"==typeof e?new E(String(e)):Number.isInteger(Number(e))?new _(Number(e)):isNaN(e)?e instanceof t?new P(o(e,t)):e instanceof y?new T(o(e,y)):null:new k(Number(e))}Copy(){return o(S.Create(this),p)}BadCastException(e){return new v("Can't cast "+this.valueObject+" from "+this.valueType+" to "+e)}}class w extends S{constructor(e){super(),this.value=e}get valueObject(){return this.value}toString(){return null===this.value?d("Value.value"):this.value.toString()}}class C extends w{constructor(e){super(e||!1)}get isTruthy(){return Boolean(this.value)}get valueType(){return r.Bool}Cast(e){if(null===this.value)return d("Value.value");if(e==this.valueType)return this;if(e==r.Int)return new _(this.value?1:0);if(e==r.Float)return new k(this.value?1:0);if(e==r.String)return new E(this.value?"true":"false");throw this.BadCastException(e)}toString(){return this.value?"true":"false"}}class _ extends w{constructor(e){super(e||0)}get isTruthy(){return 0!=this.value}get valueType(){return r.Int}Cast(e){if(null===this.value)return d("Value.value");if(e==this.valueType)return this;if(e==r.Bool)return new C(0!==this.value);if(e==r.Float)return new k(this.value);if(e==r.String)return new E(""+this.value);throw this.BadCastException(e)}}class k extends w{constructor(e){super(e||0)}get isTruthy(){return 0!=this.value}get valueType(){return r.Float}Cast(e){if(null===this.value)return d("Value.value");if(e==this.valueType)return this;if(e==r.Bool)return new C(0!==this.value);if(e==r.Int)return new _(this.value);if(e==r.String)return new E(""+this.value);throw this.BadCastException(e)}}class E extends w{constructor(e){if(super(e||""),this._isNewline="\n"==this.value,this._isInlineWhitespace=!0,null===this.value)return d("Value.value");this.value.length>0&&this.value.split("").every((e=>" "==e||"\t"==e||(this._isInlineWhitespace=!1,!1)))}get valueType(){return r.String}get isTruthy(){return null===this.value?d("Value.value"):this.value.length>0}get isNewline(){return this._isNewline}get isInlineWhitespace(){return this._isInlineWhitespace}get isNonWhitespace(){return!this.isNewline&&!this.isInlineWhitespace}Cast(e){if(e==this.valueType)return this;if(e==r.Int){let t=function(e,t=0){let n=parseInt(e);return Number.isNaN(n)?{result:t,exists:!1}:{result:n,exists:!0}}(this.value);if(t.exists)return new _(t.result);throw this.BadCastException(e)}if(e==r.Float){let t=function(e,t=0){let n=parseFloat(e);return Number.isNaN(n)?{result:t,exists:!1}:{result:n,exists:!0}}(this.value);if(t.exists)return new k(t.result);throw this.BadCastException(e)}throw this.BadCastException(e)}}class P extends w{constructor(e){super(e)}get valueType(){return r.DivertTarget}get targetPath(){return null===this.value?d("Value.value"):this.value}set targetPath(e){this.value=e}get isTruthy(){throw new Error("Shouldn't be checking the truthiness of a divert target")}Cast(e){if(e==this.valueType)return this;throw this.BadCastException(e)}toString(){return"DivertTargetValue("+this.targetPath+")"}}class x extends w{constructor(e,t=-1){super(e),this._contextIndex=t}get contextIndex(){return this._contextIndex}set contextIndex(e){this._contextIndex=e}get variableName(){return null===this.value?d("Value.value"):this.value}set variableName(e){this.value=e}get valueType(){return r.VariablePointer}get isTruthy(){throw new Error("Shouldn't be checking the truthiness of a variable pointer")}Cast(e){if(e==this.valueType)return this;throw this.BadCastException(e)}toString(){return"VariablePointerValue("+this.variableName+")"}Copy(){return new x(this.variableName,this.contextIndex)}}class T extends w{get isTruthy(){return null===this.value?d("this.value"):this.value.Count>0}get valueType(){return r.List}Cast(e){if(null===this.value)return d("Value.value");if(e==r.Int){let e=this.value.maxItem;return e.Key.isNull?new _(0):new _(e.Value)}if(e==r.Float){let e=this.value.maxItem;return e.Key.isNull?new k(0):new k(e.Value)}if(e==r.String){let e=this.value.maxItem;return e.Key.isNull?new E(""):new E(e.Key.toString())}if(e==this.valueType)return this;throw this.BadCastException(e)}constructor(e,t){super(null),e||t?e instanceof y?this.value=new y(e):e instanceof g&&"number"==typeof t&&(this.value=new y({Key:e,Value:t})):this.value=new y}static RetainListOriginsForAssignment(e,t){let n=l(e,T),r=l(t,T);return r&&null===r.value?d("newList.value"):n&&null===n.value?d("oldList.value"):void(n&&r&&0==r.value.Count&&r.value.SetInitialOriginNames(n.value.originNames))}}!function(e){e[e.Bool=-1]="Bool",e[e.Int=0]="Int",e[e.Float=1]="Float",e[e.List=2]="List",e[e.String=3]="String",e[e.DivertTarget=4]="DivertTarget",e[e.VariablePointer=5]="VariablePointer"}(r||(r={}));class O{constructor(){this.obj=null,this.approximate=!1}get correctObj(){return this.approximate?null:this.obj}get container(){return this.obj instanceof N?this.obj:null}copy(){let e=new O;return e.obj=this.obj,e.approximate=this.approximate,e}}class N extends p{constructor(){super(...arguments),this.name="",this._content=[],this.namedContent=new Map,this.visitsShouldBeCounted=!1,this.turnIndexShouldBeCounted=!1,this.countingAtStartOnly=!1,this._pathToFirstLeafContent=null}get hasValidName(){return null!=this.name&&this.name.length>0}get content(){return this._content}set content(e){this.AddContent(e)}get namedOnlyContent(){let e=new Map;for(let[t,n]of this.namedContent){let r=o(n,p);e.set(t,r)}for(let t of this.content){let n=s(t);null!=n&&n.hasValidName&&e.delete(n.name)}return 0==e.size&&(e=null),e}set namedOnlyContent(e){let t=this.namedOnlyContent;if(null!=t)for(let[e]of t)this.namedContent.delete(e);if(null!=e)for(let[,t]of e){let e=s(t);null!=e&&this.AddToNamedContentOnly(e)}}get countFlags(){let e=0;return this.visitsShouldBeCounted&&(e|=N.CountFlags.Visits),this.turnIndexShouldBeCounted&&(e|=N.CountFlags.Turns),this.countingAtStartOnly&&(e|=N.CountFlags.CountStartOnly),e==N.CountFlags.CountStartOnly&&(e=0),e}set countFlags(e){let t=e;(t&N.CountFlags.Visits)>0&&(this.visitsShouldBeCounted=!0),(t&N.CountFlags.Turns)>0&&(this.turnIndexShouldBeCounted=!0),(t&N.CountFlags.CountStartOnly)>0&&(this.countingAtStartOnly=!0)}get pathToFirstLeafContent(){return null==this._pathToFirstLeafContent&&(this._pathToFirstLeafContent=this.path.PathByAppendingPath(this.internalPathToFirstLeafContent)),this._pathToFirstLeafContent}get internalPathToFirstLeafContent(){let e=[],n=this;for(;n instanceof N;)n.content.length>0&&(e.push(new t.Component(0)),n=n.content[0]);return new t(e)}AddContent(e){if(e instanceof Array){let t=e;for(let e of t)this.AddContent(e)}else{let t=e;if(this._content.push(t),t.parent)throw new Error("content is already in "+t.parent);t.parent=this,this.TryAddNamedContent(t)}}TryAddNamedContent(e){let t=s(e);null!=t&&t.hasValidName&&this.AddToNamedContentOnly(t)}AddToNamedContentOnly(e){n.AssertType(e,p,"Can only add Runtime.Objects to a Runtime.Container"),o(e,p).parent=this,this.namedContent.set(e.name,e)}ContentAtPath(e,t=0,n=-1){-1==n&&(n=e.length);let r=new O;r.approximate=!1;let i=this,a=this;for(let o=t;o<n;++o){let t=e.GetComponent(o);if(null==i){r.approximate=!0;break}let n=i.ContentWithPathComponent(t);if(null==n){r.approximate=!0;break}a=n,i=l(n,N)}return r.obj=a,r}InsertContent(e,t){if(this.content[t]=e,e.parent)throw new Error("content is already in "+e.parent);e.parent=this,this.TryAddNamedContent(e)}AddContentsOfContainer(e){this.content=this.content.concat(e.content);for(let t of e.content)t.parent=this,this.TryAddNamedContent(t)}ContentWithPathComponent(e){if(e.isIndex)return e.index>=0&&e.index<this.content.length?this.content[e.index]:null;if(e.isParent)return this.parent;{if(null===e.name)return d("component.name");let t=b(this.namedContent,e.name,null);return t.exists?o(t.result,p):null}}BuildStringOfHierarchy(){let e;if(0==arguments.length)return e=new m,this.BuildStringOfHierarchy(e,0,null),e.toString();e=arguments[0];let t=arguments[1],r=arguments[2];function i(){for(let n=0;n<4*t;++n)e.Append(" ")}i(),e.Append("["),this.hasValidName&&e.AppendFormat(" ({0})",this.name),this==r&&e.Append("  <---"),e.AppendLine(),t++;for(let n=0;n<this.content.length;++n){let a=this.content[n];a instanceof N?a.BuildStringOfHierarchy(e,t,r):(i(),a instanceof E?(e.Append('"'),e.Append(a.toString().replace("\n","\\n")),e.Append('"')):e.Append(a.toString())),n!=this.content.length-1&&e.Append(","),a instanceof N||a!=r||e.Append("  <---"),e.AppendLine()}let a=new Map;for(let[e,t]of this.namedContent)this.content.indexOf(o(t,p))>=0||a.set(e,t);if(a.size>0){i(),e.AppendLine("-- named: --");for(let[,i]of a)n.AssertType(i,N,"Can only print out named Containers"),i.BuildStringOfHierarchy(e,t,r),e.AppendLine()}t--,i(),e.Append("]")}}!function(e){var t;(t=e.CountFlags||(e.CountFlags={}))[t.Visits=1]="Visits",t[t.Turns=2]="Turns",t[t.CountStartOnly=4]="CountStartOnly"}(N||(N={}));class I extends p{toString(){return"Glue"}}class A extends p{constructor(e=A.CommandType.NotSet){super(),this._commandType=e}get commandType(){return this._commandType}Copy(){return new A(this.commandType)}static EvalStart(){return new A(A.CommandType.EvalStart)}static EvalOutput(){return new A(A.CommandType.EvalOutput)}static EvalEnd(){return new A(A.CommandType.EvalEnd)}static Duplicate(){return new A(A.CommandType.Duplicate)}static PopEvaluatedValue(){return new A(A.CommandType.PopEvaluatedValue)}static PopFunction(){return new A(A.CommandType.PopFunction)}static PopTunnel(){return new A(A.CommandType.PopTunnel)}static BeginString(){return new A(A.CommandType.BeginString)}static EndString(){return new A(A.CommandType.EndString)}static NoOp(){return new A(A.CommandType.NoOp)}static ChoiceCount(){return new A(A.CommandType.ChoiceCount)}static Turns(){return new A(A.CommandType.Turns)}static TurnsSince(){return new A(A.CommandType.TurnsSince)}static ReadCount(){return new A(A.CommandType.ReadCount)}static Random(){return new A(A.CommandType.Random)}static SeedRandom(){return new A(A.CommandType.SeedRandom)}static VisitIndex(){return new A(A.CommandType.VisitIndex)}static SequenceShuffleIndex(){return new A(A.CommandType.SequenceShuffleIndex)}static StartThread(){return new A(A.CommandType.StartThread)}static Done(){return new A(A.CommandType.Done)}static End(){return new A(A.CommandType.End)}static ListFromInt(){return new A(A.CommandType.ListFromInt)}static ListRange(){return new A(A.CommandType.ListRange)}static ListRandom(){return new A(A.CommandType.ListRandom)}toString(){return this.commandType.toString()}}!function(e){var t;(t=e.CommandType||(e.CommandType={}))[t.NotSet=-1]="NotSet",t[t.EvalStart=0]="EvalStart",t[t.EvalOutput=1]="EvalOutput",t[t.EvalEnd=2]="EvalEnd",t[t.Duplicate=3]="Duplicate",t[t.PopEvaluatedValue=4]="PopEvaluatedValue",t[t.PopFunction=5]="PopFunction",t[t.PopTunnel=6]="PopTunnel",t[t.BeginString=7]="BeginString",t[t.EndString=8]="EndString",t[t.NoOp=9]="NoOp",t[t.ChoiceCount=10]="ChoiceCount",t[t.Turns=11]="Turns",t[t.TurnsSince=12]="TurnsSince",t[t.Random=13]="Random",t[t.SeedRandom=14]="SeedRandom",t[t.VisitIndex=15]="VisitIndex",t[t.SequenceShuffleIndex=16]="SequenceShuffleIndex",t[t.StartThread=17]="StartThread",t[t.Done=18]="Done",t[t.End=19]="End",t[t.ListFromInt=20]="ListFromInt",t[t.ListRange=21]="ListRange",t[t.ListRandom=22]="ListRandom",t[t.ReadCount=23]="ReadCount",t[t.TOTAL_VALUES=24]="TOTAL_VALUES"}(A||(A={})),function(e){e[e.Tunnel=0]="Tunnel",e[e.Function=1]="Function",e[e.FunctionEvaluationFromGame=2]="FunctionEvaluationFromGame"}(i||(i={}));class F{constructor(){this.container=null,this.index=-1,2===arguments.length&&(this.container=arguments[0],this.index=arguments[1])}Resolve(){return this.index<0?this.container:null==this.container?null:0==this.container.content.length?this.container:this.index>=this.container.content.length?null:this.container.content[this.index]}get isNull(){return null==this.container}get path(){return this.isNull?null:this.index>=0?this.container.path.PathByAppendingComponent(new t.Component(this.index)):this.container.path}toString(){return this.container?"Ink Pointer -> "+this.container.path.toString()+" -- index "+this.index:"Ink Pointer (null)"}copy(){return new F(this.container,this.index)}static StartOf(e){return new F(e,0)}static get Null(){return new F(null,-1)}}class W extends p{constructor(e){super(),this._targetPath=null,this._targetPointer=F.Null,this.variableDivertName=null,this.pushesToStack=!1,this.stackPushType=0,this.isExternal=!1,this.externalArgs=0,this.isConditional=!1,this.pushesToStack=!1,void 0!==e&&(this.pushesToStack=!0,this.stackPushType=e)}get targetPath(){if(null!=this._targetPath&&this._targetPath.isRelative){let e=this.targetPointer.Resolve();e&&(this._targetPath=e.path)}return this._targetPath}set targetPath(e){this._targetPath=e,this._targetPointer=F.Null}get targetPointer(){if(this._targetPointer.isNull){let e=this.ResolvePath(this._targetPath).obj;if(null===this._targetPath)return d("this._targetPath");if(null===this._targetPath.lastComponent)return d("this._targetPath.lastComponent");if(this._targetPath.lastComponent.isIndex){if(null===e)return d("targetObj");this._targetPointer.container=e.parent instanceof N?e.parent:null,this._targetPointer.index=this._targetPath.lastComponent.index}else this._targetPointer=F.StartOf(e instanceof N?e:null)}return this._targetPointer.copy()}get targetPathString(){return null==this.targetPath?null:this.CompactPathString(this.targetPath)}set targetPathString(e){this.targetPath=null==e?null:new t(e)}get hasVariableTarget(){return null!=this.variableDivertName}Equals(e){let t=e;return t instanceof W&&this.hasVariableTarget==t.hasVariableTarget&&(this.hasVariableTarget?this.variableDivertName==t.variableDivertName:null===this.targetPath?d("this.targetPath"):this.targetPath.Equals(t.targetPath))}toString(){if(this.hasVariableTarget)return"Divert(variable: "+this.variableDivertName+")";if(null==this.targetPath)return"Divert(null)";{let e=new m,t=this.targetPath.toString();return e.Append("Divert"),this.isConditional&&e.Append("?"),this.pushesToStack&&(this.stackPushType==i.Function?e.Append(" function"):e.Append(" tunnel")),e.Append(" -> "),e.Append(this.targetPathString),e.Append(" ("),e.Append(t),e.Append(")"),e.toString()}}}class L extends p{constructor(e=!0){super(),this._pathOnChoice=null,this.hasCondition=!1,this.hasStartContent=!1,this.hasChoiceOnlyContent=!1,this.isInvisibleDefault=!1,this.onceOnly=!0,this.onceOnly=e}get pathOnChoice(){if(null!=this._pathOnChoice&&this._pathOnChoice.isRelative){let e=this.choiceTarget;e&&(this._pathOnChoice=e.path)}return this._pathOnChoice}set pathOnChoice(e){this._pathOnChoice=e}get choiceTarget(){return null===this._pathOnChoice?d("ChoicePoint._pathOnChoice"):this.ResolvePath(this._pathOnChoice).container}get pathStringOnChoice(){return null===this.pathOnChoice?d("ChoicePoint.pathOnChoice"):this.CompactPathString(this.pathOnChoice)}set pathStringOnChoice(e){this.pathOnChoice=new t(e)}get flags(){let e=0;return this.hasCondition&&(e|=1),this.hasStartContent&&(e|=2),this.hasChoiceOnlyContent&&(e|=4),this.isInvisibleDefault&&(e|=8),this.onceOnly&&(e|=16),e}set flags(e){this.hasCondition=(1&e)>0,this.hasStartContent=(2&e)>0,this.hasChoiceOnlyContent=(4&e)>0,this.isInvisibleDefault=(8&e)>0,this.onceOnly=(16&e)>0}toString(){return null===this.pathOnChoice?d("ChoicePoint.pathOnChoice"):"Choice: -> "+this.pathOnChoice.toString()}}class R extends p{constructor(e=null){super(),this.pathForCount=null,this.name=e}get containerForCount(){return null===this.pathForCount?null:this.ResolvePath(this.pathForCount).container}get pathStringForCount(){return null===this.pathForCount?null:this.CompactPathString(this.pathForCount)}set pathStringForCount(e){this.pathForCount=null===e?null:new t(e)}toString(){return null!=this.name?"var("+this.name+")":"read_count("+this.pathStringForCount+")"}}class V extends p{constructor(e,t){super(),this.variableName=e||null,this.isNewDeclaration=!!t,this.isGlobal=!1}toString(){return"VarAssign to "+this.variableName}}class D extends p{}class j extends p{constructor(){if(super(),this._name=null,this._numberOfParameters=0,this._prototype=null,this._isPrototype=!1,this._operationFuncs=null,0===arguments.length)j.GenerateNativeFunctionsIfNecessary();else if(1===arguments.length){let e=arguments[0];j.GenerateNativeFunctionsIfNecessary(),this.name=e}else if(2===arguments.length){let e=arguments[0],t=arguments[1];this._isPrototype=!0,this.name=e,this.numberOfParameters=t}}static CallWithName(e){return new j(e)}static CallExistsWithName(e){return this.GenerateNativeFunctionsIfNecessary(),this._nativeFunctions.get(e)}get name(){return null===this._name?d("NativeFunctionCall._name"):this._name}set name(e){this._name=e,this._isPrototype||(null===j._nativeFunctions?d("NativeFunctionCall._nativeFunctions"):this._prototype=j._nativeFunctions.get(this._name)||null)}get numberOfParameters(){return this._prototype?this._prototype.numberOfParameters:this._numberOfParameters}set numberOfParameters(e){this._numberOfParameters=e}Call(e){if(this._prototype)return this._prototype.Call(e);if(this.numberOfParameters!=e.length)throw new Error("Unexpected number of parameters");let t=!1;for(let n of e){if(n instanceof D)throw new v('Attempting to perform operation on a void value. Did you forget to "return" a value from a function you called here?');n instanceof T&&(t=!0)}if(2==e.length&&t)return this.CallBinaryListOperation(e);let n=this.CoerceValuesToSingleType(e),i=n[0].valueType;return i==r.Int||i==r.Float||i==r.String||i==r.DivertTarget||i==r.List?this.CallType(n):null}CallType(e){let t=o(e[0],w),n=t.valueType,i=t,a=e.length;if(2==a||1==a){if(null===this._operationFuncs)return d("NativeFunctionCall._operationFuncs");let l=this._operationFuncs.get(n);if(!l){const e=r[n];throw new v("Cannot perform operation "+this.name+" on "+e)}if(2==a){let t=o(e[1],w),n=l;if(null===i.value||null===t.value)return d("NativeFunctionCall.Call BinaryOp values");let r=n(i.value,t.value);return w.Create(r)}{let e=l;if(null===i.value)return d("NativeFunctionCall.Call UnaryOp value");let n=e(i.value);return this.name===j.Int?w.Create(n,r.Int):this.name===j.Float?w.Create(n,r.Float):w.Create(n,t.valueType)}}throw new Error("Unexpected number of parameters to NativeFunctionCall: "+e.length)}CallBinaryListOperation(e){if(("+"==this.name||"-"==this.name)&&e[0]instanceof T&&e[1]instanceof _)return this.CallListIncrementOperation(e);let t=o(e[0],w),n=o(e[1],w);if(!("&&"!=this.name&&"||"!=this.name||t.valueType==r.List&&n.valueType==r.List)){if(null===this._operationFuncs)return d("NativeFunctionCall._operationFuncs");let e=this._operationFuncs.get(r.Int);if(null===e)return d("NativeFunctionCall.CallBinaryListOperation op");let i=function(e){if("boolean"==typeof e)return e;throw new Error(e+" is not a boolean")}(e(t.isTruthy?1:0,n.isTruthy?1:0));return new C(i)}if(t.valueType==r.List&&n.valueType==r.List)return this.CallType([t,n]);throw new v("Can not call use "+this.name+" operation on "+r[t.valueType]+" and "+r[n.valueType])}CallListIncrementOperation(e){let t=o(e[0],T),n=o(e[1],_),i=new y;if(null===t.value)return d("NativeFunctionCall.CallListIncrementOperation listVal.value");for(let[e,a]of t.value){let l=g.fromSerializedKey(e);if(null===this._operationFuncs)return d("NativeFunctionCall._operationFuncs");let o=this._operationFuncs.get(r.Int);if(null===n.value)return d("NativeFunctionCall.CallListIncrementOperation intVal.value");let s=o(a,n.value),u=null;if(null===t.value.origins)return d("NativeFunctionCall.CallListIncrementOperation listVal.value.origins");for(let e of t.value.origins)if(e.name==l.originName){u=e;break}if(null!=u){let e=u.TryGetItemWithValue(s,g.Null);e.exists&&i.Add(e.result,s)}}return new T(i)}CoerceValuesToSingleType(e){let t=r.Int,n=null;for(let i of e){let e=o(i,w);e.valueType>t&&(t=e.valueType),e.valueType==r.List&&(n=l(e,T))}let i=[];if(r[t]==r[r.List])for(let t of e){let e=o(t,w);if(e.valueType==r.List)i.push(e);else{if(e.valueType!=r.Int){const t=r[e.valueType];throw new v("Cannot mix Lists and "+t+" values in this operation")}{let t=parseInt(e.valueObject);if(n=o(n,T),null===n.value)return d("NativeFunctionCall.CoerceValuesToSingleType specialCaseList.value");let r=n.value.originOfMaxItem;if(null===r)return d("NativeFunctionCall.CoerceValuesToSingleType list");let a=r.TryGetItemWithValue(t,g.Null);if(!a.exists)throw new v("Could not find List item with the value "+t+" in "+r.name);{let e=new T(a.result,t);i.push(e)}}}}else for(let n of e){let e=o(n,w).Cast(t);i.push(e)}return i}static Identity(e){return e}static GenerateNativeFunctionsIfNecessary(){if(null==this._nativeFunctions){this._nativeFunctions=new Map,this.AddIntBinaryOp(this.Add,((e,t)=>e+t)),this.AddIntBinaryOp(this.Subtract,((e,t)=>e-t)),this.AddIntBinaryOp(this.Multiply,((e,t)=>e*t)),this.AddIntBinaryOp(this.Divide,((e,t)=>Math.floor(e/t))),this.AddIntBinaryOp(this.Mod,((e,t)=>e%t)),this.AddIntUnaryOp(this.Negate,(e=>-e)),this.AddIntBinaryOp(this.Equal,((e,t)=>e==t)),this.AddIntBinaryOp(this.Greater,((e,t)=>e>t)),this.AddIntBinaryOp(this.Less,((e,t)=>e<t)),this.AddIntBinaryOp(this.GreaterThanOrEquals,((e,t)=>e>=t)),this.AddIntBinaryOp(this.LessThanOrEquals,((e,t)=>e<=t)),this.AddIntBinaryOp(this.NotEquals,((e,t)=>e!=t)),this.AddIntUnaryOp(this.Not,(e=>0==e)),this.AddIntBinaryOp(this.And,((e,t)=>0!=e&&0!=t)),this.AddIntBinaryOp(this.Or,((e,t)=>0!=e||0!=t)),this.AddIntBinaryOp(this.Max,((e,t)=>Math.max(e,t))),this.AddIntBinaryOp(this.Min,((e,t)=>Math.min(e,t))),this.AddIntBinaryOp(this.Pow,((e,t)=>Math.pow(e,t))),this.AddIntUnaryOp(this.Floor,j.Identity),this.AddIntUnaryOp(this.Ceiling,j.Identity),this.AddIntUnaryOp(this.Int,j.Identity),this.AddIntUnaryOp(this.Float,(e=>e)),this.AddFloatBinaryOp(this.Add,((e,t)=>e+t)),this.AddFloatBinaryOp(this.Subtract,((e,t)=>e-t)),this.AddFloatBinaryOp(this.Multiply,((e,t)=>e*t)),this.AddFloatBinaryOp(this.Divide,((e,t)=>e/t)),this.AddFloatBinaryOp(this.Mod,((e,t)=>e%t)),this.AddFloatUnaryOp(this.Negate,(e=>-e)),this.AddFloatBinaryOp(this.Equal,((e,t)=>e==t)),this.AddFloatBinaryOp(this.Greater,((e,t)=>e>t)),this.AddFloatBinaryOp(this.Less,((e,t)=>e<t)),this.AddFloatBinaryOp(this.GreaterThanOrEquals,((e,t)=>e>=t)),this.AddFloatBinaryOp(this.LessThanOrEquals,((e,t)=>e<=t)),this.AddFloatBinaryOp(this.NotEquals,((e,t)=>e!=t)),this.AddFloatUnaryOp(this.Not,(e=>0==e)),this.AddFloatBinaryOp(this.And,((e,t)=>0!=e&&0!=t)),this.AddFloatBinaryOp(this.Or,((e,t)=>0!=e||0!=t)),this.AddFloatBinaryOp(this.Max,((e,t)=>Math.max(e,t))),this.AddFloatBinaryOp(this.Min,((e,t)=>Math.min(e,t))),this.AddFloatBinaryOp(this.Pow,((e,t)=>Math.pow(e,t))),this.AddFloatUnaryOp(this.Floor,(e=>Math.floor(e))),this.AddFloatUnaryOp(this.Ceiling,(e=>Math.ceil(e))),this.AddFloatUnaryOp(this.Int,(e=>Math.floor(e))),this.AddFloatUnaryOp(this.Float,j.Identity),this.AddStringBinaryOp(this.Add,((e,t)=>e+t)),this.AddStringBinaryOp(this.Equal,((e,t)=>e===t)),this.AddStringBinaryOp(this.NotEquals,((e,t)=>!(e===t))),this.AddStringBinaryOp(this.Has,((e,t)=>e.includes(t))),this.AddStringBinaryOp(this.Hasnt,((e,t)=>!e.includes(t))),this.AddListBinaryOp(this.Add,((e,t)=>e.Union(t))),this.AddListBinaryOp(this.Subtract,((e,t)=>e.Without(t))),this.AddListBinaryOp(this.Has,((e,t)=>e.Contains(t))),this.AddListBinaryOp(this.Hasnt,((e,t)=>!e.Contains(t))),this.AddListBinaryOp(this.Intersect,((e,t)=>e.Intersect(t))),this.AddListBinaryOp(this.Equal,((e,t)=>e.Equals(t))),this.AddListBinaryOp(this.Greater,((e,t)=>e.GreaterThan(t))),this.AddListBinaryOp(this.Less,((e,t)=>e.LessThan(t))),this.AddListBinaryOp(this.GreaterThanOrEquals,((e,t)=>e.GreaterThanOrEquals(t))),this.AddListBinaryOp(this.LessThanOrEquals,((e,t)=>e.LessThanOrEquals(t))),this.AddListBinaryOp(this.NotEquals,((e,t)=>!e.Equals(t))),this.AddListBinaryOp(this.And,((e,t)=>e.Count>0&&t.Count>0)),this.AddListBinaryOp(this.Or,((e,t)=>e.Count>0||t.Count>0)),this.AddListUnaryOp(this.Not,(e=>0==e.Count?1:0)),this.AddListUnaryOp(this.Invert,(e=>e.inverse)),this.AddListUnaryOp(this.All,(e=>e.all)),this.AddListUnaryOp(this.ListMin,(e=>e.MinAsList())),this.AddListUnaryOp(this.ListMax,(e=>e.MaxAsList())),this.AddListUnaryOp(this.Count,(e=>e.Count)),this.AddListUnaryOp(this.ValueOfList,(e=>e.maxItem.Value));let e=(e,t)=>e.Equals(t),t=(e,t)=>!e.Equals(t);this.AddOpToNativeFunc(this.Equal,2,r.DivertTarget,e),this.AddOpToNativeFunc(this.NotEquals,2,r.DivertTarget,t)}}AddOpFuncForType(e,t){null==this._operationFuncs&&(this._operationFuncs=new Map),this._operationFuncs.set(e,t)}static AddOpToNativeFunc(e,t,n,r){if(null===this._nativeFunctions)return d("NativeFunctionCall._nativeFunctions");let i=this._nativeFunctions.get(e);i||(i=new j(e,t),this._nativeFunctions.set(e,i)),i.AddOpFuncForType(n,r)}static AddIntBinaryOp(e,t){this.AddOpToNativeFunc(e,2,r.Int,t)}static AddIntUnaryOp(e,t){this.AddOpToNativeFunc(e,1,r.Int,t)}static AddFloatBinaryOp(e,t){this.AddOpToNativeFunc(e,2,r.Float,t)}static AddFloatUnaryOp(e,t){this.AddOpToNativeFunc(e,1,r.Float,t)}static AddStringBinaryOp(e,t){this.AddOpToNativeFunc(e,2,r.String,t)}static AddListBinaryOp(e,t){this.AddOpToNativeFunc(e,2,r.List,t)}static AddListUnaryOp(e,t){this.AddOpToNativeFunc(e,1,r.List,t)}toString(){return'Native "'+this.name+'"'}}j.Add="+",j.Subtract="-",j.Divide="/",j.Multiply="*",j.Mod="%",j.Negate="_",j.Equal="==",j.Greater=">",j.Less="<",j.GreaterThanOrEquals=">=",j.LessThanOrEquals="<=",j.NotEquals="!=",j.Not="!",j.And="&&",j.Or="||",j.Min="MIN",j.Max="MAX",j.Pow="POW",j.Floor="FLOOR",j.Ceiling="CEILING",j.Int="INT",j.Float="FLOAT",j.Has="?",j.Hasnt="!?",j.Intersect="^",j.ListMin="LIST_MIN",j.ListMax="LIST_MAX",j.All="LIST_ALL",j.Count="LIST_COUNT",j.ValueOfList="LIST_VALUE",j.Invert="LIST_INVERT",j._nativeFunctions=null;class M extends p{constructor(e){super(),this.text=e.toString()||""}toString(){return"# "+this.text}}class z extends p{constructor(){super(...arguments),this.text="",this.index=0,this.threadAtGeneration=null,this.sourcePath="",this.targetPath=null,this.isInvisibleDefault=!1,this.originalThreadIndex=0}get pathStringOnChoice(){return null===this.targetPath?d("Choice.targetPath"):this.targetPath.toString()}set pathStringOnChoice(e){this.targetPath=new t(e)}}class B{constructor(e,t){this._name=e||"",this._items=null,this._itemNameToValues=t||new Map}get name(){return this._name}get items(){if(null==this._items){this._items=new Map;for(let[e,t]of this._itemNameToValues){let n=new g(this.name,e);this._items.set(n.serialized(),t)}}return this._items}ValueForItem(e){if(!e.itemName)return 0;let t=this._itemNameToValues.get(e.itemName);return void 0!==t?t:0}ContainsItem(e){return!!e.itemName&&e.originName==this.name&&this._itemNameToValues.has(e.itemName)}ContainsItemWithName(e){return this._itemNameToValues.has(e)}TryGetItemWithValue(e,t){for(let[t,n]of this._itemNameToValues)if(n==e)return{result:new g(this.name,t),exists:!0};return{result:g.Null,exists:!1}}TryGetValueForItem(e,t){if(!e.itemName)return{result:0,exists:!1};let n=this._itemNameToValues.get(e.itemName);return n?{result:n,exists:!0}:{result:0,exists:!1}}}class U{constructor(e){this._lists=new Map,this._allUnambiguousListValueCache=new Map;for(let t of e){this._lists.set(t.name,t);for(let[e,n]of t.items){let t=g.fromSerializedKey(e),r=new T(t,n);if(!t.itemName)throw new Error("item.itemName is null or undefined.");this._allUnambiguousListValueCache.set(t.itemName,r),this._allUnambiguousListValueCache.set(t.fullName,r)}}}get lists(){let e=[];for(let[,t]of this._lists)e.push(t);return e}TryListGetDefinition(e,t){if(null===e)return{result:t,exists:!1};let n=this._lists.get(e);return n?{result:n,exists:!0}:{result:t,exists:!1}}FindSingleItemListWithName(e){if(null===e)return d("name");let t=this._allUnambiguousListValueCache.get(e);return void 0!==t?t:null}}class G{static JArrayToRuntimeObjList(e,t=!1){let n=e.length;t&&n--;let r=[];for(let t=0;t<n;t++){let n=e[t],i=this.JTokenToRuntimeObject(n);if(null===i)return d("runtimeObj");r.push(i)}return r}static WriteDictionaryRuntimeObjs(e,t){e.WriteObjectStart();for(let[n,r]of t)e.WritePropertyStart(n),this.WriteRuntimeObject(e,r),e.WritePropertyEnd();e.WriteObjectEnd()}static WriteListRuntimeObjs(e,t){e.WriteArrayStart();for(let n of t)this.WriteRuntimeObject(e,n);e.WriteArrayEnd()}static WriteIntDictionary(e,t){e.WriteObjectStart();for(let[n,r]of t)e.WriteIntProperty(n,r);e.WriteObjectEnd()}static WriteRuntimeObject(e,t){let n=l(t,N);if(n)return void this.WriteRuntimeContainer(e,n);let r=l(t,W);if(r){let t,n="->";return r.isExternal?n="x()":r.pushesToStack&&(r.stackPushType==i.Function?n="f()":r.stackPushType==i.Tunnel&&(n="->t->")),t=r.hasVariableTarget?r.variableDivertName:r.targetPathString,e.WriteObjectStart(),e.WriteProperty(n,t),r.hasVariableTarget&&e.WriteProperty("var",!0),r.isConditional&&e.WriteProperty("c",!0),r.externalArgs>0&&e.WriteIntProperty("exArgs",r.externalArgs),void e.WriteObjectEnd()}let a=l(t,L);if(a)return e.WriteObjectStart(),e.WriteProperty("*",a.pathStringOnChoice),e.WriteIntProperty("flg",a.flags),void e.WriteObjectEnd();let o=l(t,C);if(o)return void e.WriteBool(o.value);let s=l(t,_);if(s)return void e.WriteInt(s.value);let u=l(t,k);if(u)return void e.WriteFloat(u.value);let c=l(t,E);if(c)return void(c.isNewline?e.Write("\n",!1):(e.WriteStringStart(),e.WriteStringInner("^"),e.WriteStringInner(c.value),e.WriteStringEnd()));let h=l(t,T);if(h)return void this.WriteInkList(e,h);let f=l(t,P);if(f)return e.WriteObjectStart(),null===f.value?d("divTargetVal.value"):(e.WriteProperty("^->",f.value.componentsString),void e.WriteObjectEnd());let p=l(t,x);if(p)return e.WriteObjectStart(),e.WriteProperty("^var",p.value),e.WriteIntProperty("ci",p.contextIndex),void e.WriteObjectEnd();if(l(t,I))return void e.Write("<>");let m=l(t,A);if(m)return void e.Write(G._controlCommandNames[m.commandType]);let g=l(t,j);if(g){let t=g.name;return"^"==t&&(t="L^"),void e.Write(t)}let y=l(t,R);if(y){e.WriteObjectStart();let t=y.pathStringForCount;return null!=t?e.WriteProperty("CNT?",t):e.WriteProperty("VAR?",y.name),void e.WriteObjectEnd()}let v=l(t,V);if(v){e.WriteObjectStart();let t=v.isGlobal?"VAR=":"temp=";return e.WriteProperty(t,v.variableName),v.isNewDeclaration||e.WriteProperty("re",!0),void e.WriteObjectEnd()}if(l(t,D))return void e.Write("void");let b=l(t,M);if(b)return e.WriteObjectStart(),e.WriteProperty("#",b.text),void e.WriteObjectEnd();let S=l(t,z);if(!S)throw new Error("Failed to convert runtime object to Json token: "+t);this.WriteChoice(e,S)}static JObjectToDictionaryRuntimeObjs(e){let t=new Map;for(let n in e)if(e.hasOwnProperty(n)){let r=this.JTokenToRuntimeObject(e[n]);if(null===r)return d("inkObject");t.set(n,r)}return t}static JObjectToIntDictionary(e){let t=new Map;for(let n in e)e.hasOwnProperty(n)&&t.set(n,parseInt(e[n]));return t}static JTokenToRuntimeObject(e){if("number"==typeof e&&!isNaN(e)||"boolean"==typeof e)return w.Create(e);if("string"==typeof e){let t=e.toString(),n=t[0];if("^"==n)return new E(t.substring(1));if("\n"==n&&1==t.length)return new E("\n");if("<>"==t)return new I;for(let e=0;e<G._controlCommandNames.length;++e)if(t==G._controlCommandNames[e])return new A(e);if("L^"==t&&(t="^"),j.CallExistsWithName(t))return j.CallWithName(t);if("->->"==t)return A.PopTunnel();if("~ret"==t)return A.PopFunction();if("void"==t)return new D}if("object"==typeof e&&!Array.isArray(e)){let n,r=e;if(r["^->"])return n=r["^->"],new P(new t(n.toString()));if(r["^var"]){n=r["^var"];let e=new x(n.toString());return"ci"in r&&(n=r.ci,e.contextIndex=parseInt(n)),e}let a=!1,l=!1,o=i.Function,s=!1;if((n=r["->"])?a=!0:(n=r["f()"])?(a=!0,l=!0,o=i.Function):(n=r["->t->"])?(a=!0,l=!0,o=i.Tunnel):(n=r["x()"])&&(a=!0,s=!0,l=!1,o=i.Function),a){let e=new W;e.pushesToStack=l,e.stackPushType=o,e.isExternal=s;let t=n.toString();return(n=r.var)?e.variableDivertName=t:e.targetPathString=t,e.isConditional=!!r.c,s&&(n=r.exArgs)&&(e.externalArgs=parseInt(n)),e}if(n=r["*"]){let e=new L;return e.pathStringOnChoice=n.toString(),(n=r.flg)&&(e.flags=parseInt(n)),e}if(n=r["VAR?"])return new R(n.toString());if(n=r["CNT?"]){let e=new R;return e.pathStringForCount=n.toString(),e}let u=!1,c=!1;if((n=r["VAR="])?(u=!0,c=!0):(n=r["temp="])&&(u=!0,c=!1),u){let e=n.toString(),t=!r.re,i=new V(e,t);return i.isGlobal=c,i}if(void 0!==r["#"])return n=r["#"],new M(n.toString());if(n=r.list){let e=n,t=new y;if(n=r.origins){let e=n;t.SetInitialOriginNames(e)}for(let n in e)if(e.hasOwnProperty(n)){let r=e[n],i=new g(n),a=parseInt(r);t.Add(i,a)}return new T(t)}if(null!=r.originalChoicePath)return this.JObjectToChoice(r)}if(Array.isArray(e))return this.JArrayToContainer(e);if(null==e)return null;throw new Error("Failed to convert token to runtime object: "+JSON.stringify(e))}static WriteRuntimeContainer(e,t,n=!1){if(e.WriteArrayStart(),null===t)return d("container");for(let n of t.content)this.WriteRuntimeObject(e,n);let r=t.namedOnlyContent,i=t.countFlags,a=null!=t.name&&!n,o=null!=r||i>0||a;if(o&&e.WriteObjectStart(),null!=r)for(let[t,n]of r){let r=t,i=l(n,N);e.WritePropertyStart(r),this.WriteRuntimeContainer(e,i,!0),e.WritePropertyEnd()}a&&e.WriteProperty("#n",t.name),o?e.WriteObjectEnd():e.WriteNull(),e.WriteArrayEnd()}static JArrayToContainer(e){let t=new N;t.content=this.JArrayToRuntimeObjList(e,!0);let n=e[e.length-1];if(null!=n){let e=new Map;for(let r in n)if("#f"==r)t.countFlags=parseInt(n[r]);else if("#n"==r)t.name=n[r].toString();else{let t=this.JTokenToRuntimeObject(n[r]),i=l(t,N);i&&(i.name=r),e.set(r,t)}t.namedOnlyContent=e}return t}static JObjectToChoice(e){let t=new z;return t.text=e.text.toString(),t.index=parseInt(e.index),t.sourcePath=e.originalChoicePath.toString(),t.originalThreadIndex=parseInt(e.originalThreadIndex),t.pathStringOnChoice=e.targetPath.toString(),t}static WriteChoice(e,t){e.WriteObjectStart(),e.WriteProperty("text",t.text),e.WriteIntProperty("index",t.index),e.WriteProperty("originalChoicePath",t.sourcePath),e.WriteIntProperty("originalThreadIndex",t.originalThreadIndex),e.WriteProperty("targetPath",t.pathStringOnChoice),e.WriteObjectEnd()}static WriteInkList(e,t){let n=t.value;if(null===n)return d("rawList");e.WriteObjectStart(),e.WritePropertyStart("list"),e.WriteObjectStart();for(let[t,r]of n){let n=g.fromSerializedKey(t),i=r;if(null===n.itemName)return d("item.itemName");e.WritePropertyNameStart(),e.WritePropertyNameInner(n.originName?n.originName:"?"),e.WritePropertyNameInner("."),e.WritePropertyNameInner(n.itemName),e.WritePropertyNameEnd(),e.Write(i),e.WritePropertyEnd()}if(e.WriteObjectEnd(),e.WritePropertyEnd(),0==n.Count&&null!=n.originNames&&n.originNames.length>0){e.WritePropertyStart("origins"),e.WriteArrayStart();for(let t of n.originNames)e.Write(t);e.WriteArrayEnd(),e.WritePropertyEnd()}e.WriteObjectEnd()}static ListDefinitionsToJToken(e){let t={};for(let n of e.lists){let e={};for(let[t,r]of n.items){let n=g.fromSerializedKey(t);if(null===n.itemName)return d("item.itemName");e[n.itemName]=r}t[n.name]=e}return t}static JTokenToListDefinitions(e){let t=e,n=[];for(let e in t)if(t.hasOwnProperty(e)){let r=e.toString(),i=t[e],a=new Map;for(let n in i)if(t.hasOwnProperty(e)){let e=i[n];a.set(n,parseInt(e))}let l=new B(r,a);n.push(l)}return new U(n)}}G._controlCommandNames=(()=>{let e=[];e[A.CommandType.EvalStart]="ev",e[A.CommandType.EvalOutput]="out",e[A.CommandType.EvalEnd]="/ev",e[A.CommandType.Duplicate]="du",e[A.CommandType.PopEvaluatedValue]="pop",e[A.CommandType.PopFunction]="~ret",e[A.CommandType.PopTunnel]="->->",e[A.CommandType.BeginString]="str",e[A.CommandType.EndString]="/str",e[A.CommandType.NoOp]="nop",e[A.CommandType.ChoiceCount]="choiceCnt",e[A.CommandType.Turns]="turn",e[A.CommandType.TurnsSince]="turns",e[A.CommandType.ReadCount]="readc",e[A.CommandType.Random]="rnd",e[A.CommandType.SeedRandom]="srnd",e[A.CommandType.VisitIndex]="visit",e[A.CommandType.SequenceShuffleIndex]="seq",e[A.CommandType.StartThread]="thread",e[A.CommandType.Done]="done",e[A.CommandType.End]="end",e[A.CommandType.ListFromInt]="listInt",e[A.CommandType.ListRange]="range",e[A.CommandType.ListRandom]="lrnd";for(let t=0;t<A.CommandType.TOTAL_VALUES;++t)if(null==e[t])throw new Error("Control command not accounted for in serialisation");return e})();class ${constructor(){if(this._threadCounter=0,this._startOfRoot=F.Null,arguments[0]instanceof Z){let e=arguments[0];this._startOfRoot=F.StartOf(e.rootContentContainer),this.Reset()}else{let e=arguments[0];this._threads=[];for(let t of e._threads)this._threads.push(t.Copy());this._threadCounter=e._threadCounter,this._startOfRoot=e._startOfRoot.copy()}}get elements(){return this.callStack}get depth(){return this.elements.length}get currentElement(){let e=this._threads[this._threads.length-1].callstack;return e[e.length-1]}get currentElementIndex(){return this.callStack.length-1}get currentThread(){return this._threads[this._threads.length-1]}set currentThread(e){n.Assert(1==this._threads.length,"Shouldn't be directly setting the current thread when we have a stack of them"),this._threads.length=0,this._threads.push(e)}get canPop(){return this.callStack.length>1}Reset(){this._threads=[],this._threads.push(new $.Thread),this._threads[0].callstack.push(new $.Element(i.Tunnel,this._startOfRoot))}SetJsonToken(e,t){this._threads.length=0;let n=e.threads;for(let e of n){let n=e,r=new $.Thread(n,t);this._threads.push(r)}this._threadCounter=parseInt(e.threadCounter),this._startOfRoot=F.StartOf(t.rootContentContainer)}WriteJson(e){e.WriteObject((e=>{e.WritePropertyStart("threads"),e.WriteArrayStart();for(let t of this._threads)t.WriteJson(e);e.WriteArrayEnd(),e.WritePropertyEnd(),e.WritePropertyStart("threadCounter"),e.WriteInt(this._threadCounter),e.WritePropertyEnd()}))}PushThread(){let e=this.currentThread.Copy();this._threadCounter++,e.threadIndex=this._threadCounter,this._threads.push(e)}ForkThread(){let e=this.currentThread.Copy();return this._threadCounter++,e.threadIndex=this._threadCounter,e}PopThread(){if(!this.canPopThread)throw new Error("Can't pop thread");this._threads.splice(this._threads.indexOf(this.currentThread),1)}get canPopThread(){return this._threads.length>1&&!this.elementIsEvaluateFromGame}get elementIsEvaluateFromGame(){return this.currentElement.type==i.FunctionEvaluationFromGame}Push(e,t=0,n=0){let r=new $.Element(e,this.currentElement.currentPointer,!1);r.evaluationStackHeightWhenPushed=t,r.functionStartInOutputStream=n,this.callStack.push(r)}CanPop(e=null){return!!this.canPop&&(null==e||this.currentElement.type==e)}Pop(e=null){if(!this.CanPop(e))throw new Error("Mismatched push/pop in Callstack");this.callStack.pop()}GetTemporaryVariableWithName(e,t=-1){-1==t&&(t=this.currentElementIndex+1);let n=b(this.callStack[t-1].temporaryVariables,e,null);return n.exists?n.result:null}SetTemporaryVariable(e,t,n,r=-1){-1==r&&(r=this.currentElementIndex+1);let i=this.callStack[r-1];if(!n&&!i.temporaryVariables.get(e))throw new Error("Could not find temporary variable to set: "+e);let a=b(i.temporaryVariables,e,null);a.exists&&T.RetainListOriginsForAssignment(a.result,t),i.temporaryVariables.set(e,t)}ContextForVariableNamed(e){return this.currentElement.temporaryVariables.get(e)?this.currentElementIndex+1:0}ThreadWithIndex(e){let t=this._threads.filter((t=>{if(t.threadIndex==e)return t}));return t.length>0?t[0]:null}get callStack(){return this.currentThread.callstack}get callStackTrace(){let e=new m;for(let t=0;t<this._threads.length;t++){let n=this._threads[t],r=t==this._threads.length-1;e.AppendFormat("=== THREAD {0}/{1} {2}===\n",t+1,this._threads.length,r?"(current) ":"");for(let t=0;t<n.callstack.length;t++){n.callstack[t].type==i.Function?e.Append("  [FUNCTION] "):e.Append("  [TUNNEL] ");let r=n.callstack[t].currentPointer;if(!r.isNull){if(e.Append("<SOMEWHERE IN "),null===r.container)return d("pointer.container");e.Append(r.container.path.toString()),e.AppendLine(">")}}}return e.toString()}}!function(e){class n{constructor(e,t,n=!1){this.evaluationStackHeightWhenPushed=0,this.functionStartInOutputStream=0,this.currentPointer=t.copy(),this.inExpressionEvaluation=n,this.temporaryVariables=new Map,this.type=e}Copy(){let e=new n(this.type,this.currentPointer,this.inExpressionEvaluation);return e.temporaryVariables=new Map(this.temporaryVariables),e.evaluationStackHeightWhenPushed=this.evaluationStackHeightWhenPushed,e.functionStartInOutputStream=this.functionStartInOutputStream,e}}e.Element=n;class r{constructor(){if(this.threadIndex=0,this.previousPointer=F.Null,this.callstack=[],arguments[0]&&arguments[1]){let e=arguments[0],r=arguments[1];this.threadIndex=parseInt(e.threadIndex);let i=e.callstack;for(let e of i){let i,a=e,l=parseInt(a.type),o=F.Null,s=a.cPath;if(void 0!==s){i=s.toString();let e=r.ContentAtPath(new t(i));if(o.container=e.container,o.index=parseInt(a.idx),null==e.obj)throw new Error("When loading state, internal story location couldn't be found: "+i+". Has the story changed since this save data was created?");if(e.approximate){if(null===o.container)return d("pointer.container");r.Warning("When loading state, exact internal story location couldn't be found: '"+i+"', so it was approximated to '"+o.container.path.toString()+"' to recover. Has the story changed since this save data was created?")}}let u=!!a.exp,c=new n(l,o,u),h=a.temp;void 0!==h?c.temporaryVariables=G.JObjectToDictionaryRuntimeObjs(h):c.temporaryVariables.clear(),this.callstack.push(c)}let a=e.previousContentObject;if(void 0!==a){let e=new t(a.toString());this.previousPointer=r.PointerAtPath(e)}}}Copy(){let e=new r;e.threadIndex=this.threadIndex;for(let t of this.callstack)e.callstack.push(t.Copy());return e.previousPointer=this.previousPointer.copy(),e}WriteJson(e){e.WriteObjectStart(),e.WritePropertyStart("callstack"),e.WriteArrayStart();for(let t of this.callstack){if(e.WriteObjectStart(),!t.currentPointer.isNull){if(null===t.currentPointer.container)return d("el.currentPointer.container");e.WriteProperty("cPath",t.currentPointer.container.path.componentsString),e.WriteIntProperty("idx",t.currentPointer.index)}e.WriteProperty("exp",t.inExpressionEvaluation),e.WriteIntProperty("type",t.type),t.temporaryVariables.size>0&&(e.WritePropertyStart("temp"),G.WriteDictionaryRuntimeObjs(e,t.temporaryVariables),e.WritePropertyEnd()),e.WriteObjectEnd()}if(e.WriteArrayEnd(),e.WritePropertyEnd(),e.WriteIntProperty("threadIndex",this.threadIndex),!this.previousPointer.isNull){let t=this.previousPointer.Resolve();if(null===t)return d("this.previousPointer.Resolve()");e.WriteProperty("previousContentObject",t.path.toString())}e.WriteObjectEnd()}}e.Thread=r}($||($={}));class H{constructor(e,t){this.variableChangedEventCallbacks=[],this.patch=null,this._batchObservingVariableChanges=!1,this._defaultGlobalVariables=new Map,this._changedVariablesForBatchObs=new Set,this._globalVariables=new Map,this._callStack=e,this._listDefsOrigin=t;try{return new Proxy(this,{get:(e,t)=>t in e?e[t]:e.$(t),set:(e,t,n)=>(t in e?e[t]=n:e.$(t,n),!0)})}catch(e){}}variableChangedEvent(e,t){for(let n of this.variableChangedEventCallbacks)n(e,t)}get batchObservingVariableChanges(){return this._batchObservingVariableChanges}set batchObservingVariableChanges(e){if(this._batchObservingVariableChanges=e,e)this._changedVariablesForBatchObs=new Set;else if(null!=this._changedVariablesForBatchObs){for(let e of this._changedVariablesForBatchObs){let t=this._globalVariables.get(e);t?this.variableChangedEvent(e,t):d("currentValue")}this._changedVariablesForBatchObs=null}}get callStack(){return this._callStack}set callStack(e){this._callStack=e}$(e,t){if(void 0===t){let t=null;return null!==this.patch&&(t=this.patch.TryGetGlobal(e,null),t.exists)?t.result.valueObject:(t=this._globalVariables.get(e),void 0===t&&(t=this._defaultGlobalVariables.get(e)),void 0!==t?t.valueObject:null)}{if(void 0===this._defaultGlobalVariables.get(e))throw new v("Cannot assign to a variable ("+e+") that hasn't been declared in the story");let n=w.Create(t);if(null==n)throw null==t?new Error("Cannot pass null to VariableState"):new Error("Invalid value passed to VariableState: "+t.toString());this.SetGlobal(e,n)}}ApplyPatch(){if(null===this.patch)return d("this.patch");for(let[e,t]of this.patch.globals)this._globalVariables.set(e,t);if(null!==this._changedVariablesForBatchObs)for(let e of this.patch.changedVariables)this._changedVariablesForBatchObs.add(e);this.patch=null}SetJsonToken(e){this._globalVariables.clear();for(let[t,n]of this._defaultGlobalVariables){let r=e[t];if(void 0!==r){let e=G.JTokenToRuntimeObject(r);if(null===e)return d("tokenInkObject");this._globalVariables.set(t,e)}else this._globalVariables.set(t,n)}}WriteJson(e){e.WriteObjectStart();for(let[t,n]of this._globalVariables){let r=t,i=n;if(H.dontSaveDefaultValues&&this._defaultGlobalVariables.has(r)){let e=this._defaultGlobalVariables.get(r);if(this.RuntimeObjectsEqual(i,e))continue}e.WritePropertyStart(r),G.WriteRuntimeObject(e,i),e.WritePropertyEnd()}e.WriteObjectEnd()}RuntimeObjectsEqual(e,t){if(null===e)return d("obj1");if(null===t)return d("obj2");if(e.constructor!==t.constructor)return!1;let n=l(e,C);if(null!==n)return n.value===o(t,C).value;let r=l(e,_);if(null!==r)return r.value===o(t,_).value;let i=l(e,k);if(null!==i)return i.value===o(t,k).value;let a=l(e,w),s=l(t,w);if(null!==a&&null!==s)return c(a.valueObject)&&c(s.valueObject)?a.valueObject.Equals(s.valueObject):a.valueObject===s.valueObject;throw new Error("FastRoughDefinitelyEquals: Unsupported runtime object type: "+e.constructor.name)}GetVariableWithName(e,t=-1){let n=this.GetRawVariableWithName(e,t),r=l(n,x);return null!==r&&(n=this.ValueAtVariablePointer(r)),n}TryGetDefaultVariableValue(e){let t=b(this._defaultGlobalVariables,e,null);return t.exists?t.result:null}GlobalVariableExistsWithName(e){return this._globalVariables.has(e)||null!==this._defaultGlobalVariables&&this._defaultGlobalVariables.has(e)}GetRawVariableWithName(e,t){let n=null;if(0==t||-1==t){let t=null;if(null!==this.patch&&(t=this.patch.TryGetGlobal(e,null),t.exists))return t.result;if(t=b(this._globalVariables,e,null),t.exists)return t.result;if(null!==this._defaultGlobalVariables&&(t=b(this._defaultGlobalVariables,e,null),t.exists))return t.result;if(null===this._listDefsOrigin)return d("VariablesState._listDefsOrigin");let n=this._listDefsOrigin.FindSingleItemListWithName(e);if(n)return n}return n=this._callStack.GetTemporaryVariableWithName(e,t),n}ValueAtVariablePointer(e){return this.GetVariableWithName(e.variableName,e.contextIndex)}Assign(e,t){let n=e.variableName;if(null===n)return d("name");let r=-1,i=!1;if(i=e.isNewDeclaration?e.isGlobal:this.GlobalVariableExistsWithName(n),e.isNewDeclaration){let e=l(t,x);null!==e&&(t=this.ResolveVariablePointer(e))}else{let e=null;do{e=l(this.GetRawVariableWithName(n,r),x),null!=e&&(n=e.variableName,r=e.contextIndex,i=0==r)}while(null!=e)}i?this.SetGlobal(n,t):this._callStack.SetTemporaryVariable(n,t,e.isNewDeclaration,r)}SnapshotDefaultGlobals(){this._defaultGlobalVariables=new Map(this._globalVariables)}RetainListOriginsForAssignment(e,t){let n=o(e,T),r=o(t,T);n.value&&r.value&&0==r.value.Count&&r.value.SetInitialOriginNames(n.value.originNames)}SetGlobal(e,t){let n=null;if(null===this.patch&&(n=b(this._globalVariables,e,null)),null!==this.patch&&(n=this.patch.TryGetGlobal(e,null),n.exists||(n=b(this._globalVariables,e,null))),T.RetainListOriginsForAssignment(n.result,t),null===e)return d("variableName");if(null!==this.patch?this.patch.SetGlobal(e,t):this._globalVariables.set(e,t),null!==this.variableChangedEvent&&null!==n&&t!==n.result)if(this.batchObservingVariableChanges){if(null===this._changedVariablesForBatchObs)return d("this._changedVariablesForBatchObs");null!==this.patch?this.patch.AddChangedVariable(e):null!==this._changedVariablesForBatchObs&&this._changedVariablesForBatchObs.add(e)}else this.variableChangedEvent(e,t)}ResolveVariablePointer(e){let t=e.contextIndex;-1==t&&(t=this.GetContextIndexOfVariableNamed(e.variableName));let n=l(this.GetRawVariableWithName(e.variableName,t),x);return null!=n?n:new x(e.variableName,t)}GetContextIndexOfVariableNamed(e){return this.GlobalVariableExistsWithName(e)?0:this._callStack.currentElementIndex}ObserveVariableChange(e){this.variableChangedEventCallbacks.push(e)}}H.dontSaveDefaultValues=!0;class K{constructor(e){this.seed=e%2147483647,this.seed<=0&&(this.seed+=2147483646)}next(){return this.seed=16807*this.seed%2147483647}nextFloat(){return(this.next()-1)/2147483646}}class q{constructor(){if(this._changedVariables=new Set,this._visitCounts=new Map,this._turnIndices=new Map,1===arguments.length&&null!==arguments[0]){let e=arguments[0];this._globals=new Map(e._globals),this._changedVariables=new Set(e._changedVariables),this._visitCounts=new Map(e._visitCounts),this._turnIndices=new Map(e._turnIndices)}else this._globals=new Map,this._changedVariables=new Set,this._visitCounts=new Map,this._turnIndices=new Map}get globals(){return this._globals}get changedVariables(){return this._changedVariables}get visitCounts(){return this._visitCounts}get turnIndices(){return this._turnIndices}TryGetGlobal(e,t){return null!==e&&this._globals.has(e)?{result:this._globals.get(e),exists:!0}:{result:t,exists:!1}}SetGlobal(e,t){this._globals.set(e,t)}AddChangedVariable(e){return this._changedVariables.add(e)}TryGetVisitCount(e,t){return this._visitCounts.has(e)?{result:this._visitCounts.get(e),exists:!0}:{result:t,exists:!1}}SetVisitCount(e,t){this._visitCounts.set(e,t)}SetTurnIndex(e,t){this._turnIndices.set(e,t)}TryGetTurnIndex(e,t){return this._turnIndices.has(e)?{result:this._turnIndices.get(e),exists:!0}:{result:t,exists:!1}}}class Q{static TextToDictionary(e){return new Q.Reader(e).ToDictionary()}static TextToArray(e){return new Q.Reader(e).ToArray()}}!function(e){e.Reader=class{constructor(e){this._rootObject=JSON.parse(e)}ToDictionary(){return this._rootObject}ToArray(){return this._rootObject}};class t{constructor(){this._currentPropertyName=null,this._currentString=null,this._stateStack=[],this._collectionStack=[],this._propertyNameStack=[],this._jsonObject=null}WriteObject(e){this.WriteObjectStart(),e(this),this.WriteObjectEnd()}WriteObjectStart(){this.StartNewObject(!0);let t={};if(this.state===e.Writer.State.Property){this.Assert(null!==this.currentCollection),this.Assert(null!==this.currentPropertyName);let e=this._propertyNameStack.pop();this.currentCollection[e]=t,this._collectionStack.push(t)}else this.state===e.Writer.State.Array?(this.Assert(null!==this.currentCollection),this.currentCollection.push(t),this._collectionStack.push(t)):(this.Assert(this.state===e.Writer.State.None),this._jsonObject=t,this._collectionStack.push(t));this._stateStack.push(new e.Writer.StateElement(e.Writer.State.Object))}WriteObjectEnd(){this.Assert(this.state===e.Writer.State.Object),this._collectionStack.pop(),this._stateStack.pop()}WriteProperty(e,t){if(this.WritePropertyStart(e),arguments[1]instanceof Function)(0,arguments[1])(this);else{let e=arguments[1];this.Write(e)}this.WritePropertyEnd()}WriteIntProperty(e,t){this.WritePropertyStart(e),this.WriteInt(t),this.WritePropertyEnd()}WriteFloatProperty(e,t){this.WritePropertyStart(e),this.WriteFloat(t),this.WritePropertyEnd()}WritePropertyStart(t){this.Assert(this.state===e.Writer.State.Object),this._propertyNameStack.push(t),this.IncrementChildCount(),this._stateStack.push(new e.Writer.StateElement(e.Writer.State.Property))}WritePropertyEnd(){this.Assert(this.state===e.Writer.State.Property),this.Assert(1===this.childCount),this._stateStack.pop()}WritePropertyNameStart(){this.Assert(this.state===e.Writer.State.Object),this.IncrementChildCount(),this._currentPropertyName="",this._stateStack.push(new e.Writer.StateElement(e.Writer.State.Property)),this._stateStack.push(new e.Writer.StateElement(e.Writer.State.PropertyName))}WritePropertyNameEnd(){this.Assert(this.state===e.Writer.State.PropertyName),this.Assert(null!==this._currentPropertyName),this._propertyNameStack.push(this._currentPropertyName),this._currentPropertyName=null,this._stateStack.pop()}WritePropertyNameInner(t){this.Assert(this.state===e.Writer.State.PropertyName),this.Assert(null!==this._currentPropertyName),this._currentPropertyName+=t}WriteArrayStart(){this.StartNewObject(!0);let t=[];if(this.state===e.Writer.State.Property){this.Assert(null!==this.currentCollection),this.Assert(null!==this.currentPropertyName);let e=this._propertyNameStack.pop();this.currentCollection[e]=t,this._collectionStack.push(t)}else this.state===e.Writer.State.Array?(this.Assert(null!==this.currentCollection),this.currentCollection.push(t),this._collectionStack.push(t)):(this.Assert(this.state===e.Writer.State.None),this._jsonObject=t,this._collectionStack.push(t));this._stateStack.push(new e.Writer.StateElement(e.Writer.State.Array))}WriteArrayEnd(){this.Assert(this.state===e.Writer.State.Array),this._collectionStack.pop(),this._stateStack.pop()}Write(e,t=!0){null!==e?(this.StartNewObject(!1),this._addToCurrentObject(e)):console.error("Warning: trying to write a null string")}WriteBool(e){null!==e&&(this.StartNewObject(!1),this._addToCurrentObject(e))}WriteInt(e){null!==e&&(this.StartNewObject(!1),this._addToCurrentObject(Math.floor(e)))}WriteFloat(e){null!==e&&(this.StartNewObject(!1),e==Number.POSITIVE_INFINITY?this._addToCurrentObject(34e37):e==Number.NEGATIVE_INFINITY?this._addToCurrentObject(-34e37):isNaN(e)?this._addToCurrentObject(0):this._addToCurrentObject(e))}WriteNull(){this.StartNewObject(!1),this._addToCurrentObject(null)}WriteStringStart(){this.StartNewObject(!1),this._currentString="",this._stateStack.push(new e.Writer.StateElement(e.Writer.State.String))}WriteStringEnd(){this.Assert(this.state==e.Writer.State.String),this._stateStack.pop(),this._addToCurrentObject(this._currentString),this._currentString=null}WriteStringInner(t,n=!0){this.Assert(this.state===e.Writer.State.String),null!==t?this._currentString+=t:console.error("Warning: trying to write a null string")}ToString(){return null===this._jsonObject?"":JSON.stringify(this._jsonObject)}StartNewObject(t){t?this.Assert(this.state===e.Writer.State.None||this.state===e.Writer.State.Property||this.state===e.Writer.State.Array):this.Assert(this.state===e.Writer.State.Property||this.state===e.Writer.State.Array),this.state===e.Writer.State.Property&&this.Assert(0===this.childCount),this.state!==e.Writer.State.Array&&this.state!==e.Writer.State.Property||this.IncrementChildCount()}get state(){return this._stateStack.length>0?this._stateStack[this._stateStack.length-1].type:e.Writer.State.None}get childCount(){return this._stateStack.length>0?this._stateStack[this._stateStack.length-1].childCount:0}get currentCollection(){return this._collectionStack.length>0?this._collectionStack[this._collectionStack.length-1]:null}get currentPropertyName(){return this._propertyNameStack.length>0?this._propertyNameStack[this._propertyNameStack.length-1]:null}IncrementChildCount(){this.Assert(this._stateStack.length>0);let e=this._stateStack.pop();e.childCount++,this._stateStack.push(e)}Assert(e){if(!e)throw Error("Assert failed while writing JSON")}_addToCurrentObject(t){this.Assert(null!==this.currentCollection),this.state===e.Writer.State.Array?(this.Assert(Array.isArray(this.currentCollection)),this.currentCollection.push(t)):this.state===e.Writer.State.Property&&(this.Assert(!Array.isArray(this.currentCollection)),this.Assert(null!==this.currentPropertyName),this.currentCollection[this.currentPropertyName]=t,this._propertyNameStack.pop())}}e.Writer=t,function(t){var n;(n=t.State||(t.State={}))[n.None=0]="None",n[n.Object=1]="Object",n[n.Array=2]="Array",n[n.Property=3]="Property",n[n.PropertyName=4]="PropertyName",n[n.String=5]="String",t.StateElement=class{constructor(t){this.type=e.Writer.State.None,this.childCount=0,this.type=t}}}(t=e.Writer||(e.Writer={}))}(Q||(Q={}));class J{constructor(){let e=arguments[0],t=arguments[1];if(this.name=e,this.callStack=new $(t),arguments[2]){let e=arguments[2];this.callStack.SetJsonToken(e.callstack,t),this.outputStream=G.JArrayToRuntimeObjList(e.outputStream),this.currentChoices=G.JArrayToRuntimeObjList(e.currentChoices);let n=e.choiceThreads;void 0!==n&&this.LoadFlowChoiceThreads(n,t)}else this.outputStream=[],this.currentChoices=[]}WriteJson(e){e.WriteObjectStart(),e.WriteProperty("callstack",(e=>this.callStack.WriteJson(e))),e.WriteProperty("outputStream",(e=>G.WriteListRuntimeObjs(e,this.outputStream)));let t=!1;for(let n of this.currentChoices){if(null===n.threadAtGeneration)return d("c.threadAtGeneration");n.originalThreadIndex=n.threadAtGeneration.threadIndex,null===this.callStack.ThreadWithIndex(n.originalThreadIndex)&&(t||(t=!0,e.WritePropertyStart("choiceThreads"),e.WriteObjectStart()),e.WritePropertyStart(n.originalThreadIndex),n.threadAtGeneration.WriteJson(e),e.WritePropertyEnd())}t&&(e.WriteObjectEnd(),e.WritePropertyEnd()),e.WriteProperty("currentChoices",(e=>{e.WriteArrayStart();for(let t of this.currentChoices)G.WriteChoice(e,t);e.WriteArrayEnd()})),e.WriteObjectEnd()}LoadFlowChoiceThreads(e,t){for(let n of this.currentChoices){let r=this.callStack.ThreadWithIndex(n.originalThreadIndex);if(null!==r)n.threadAtGeneration=r.Copy();else{let r=e[""+n.originalThreadIndex];n.threadAtGeneration=new $.Thread(r,t)}}}}class X{constructor(e){this.kInkSaveStateVersion=9,this.kMinCompatibleLoadVersion=8,this.onDidLoadState=null,this._currentErrors=null,this._currentWarnings=null,this.divertedPointer=F.Null,this._currentTurnIndex=0,this.storySeed=0,this.previousRandom=0,this.didSafeExit=!1,this._currentText=null,this._currentTags=null,this._outputStreamTextDirty=!0,this._outputStreamTagsDirty=!0,this._patch=null,this._namedFlows=null,this.kDefaultFlowName="DEFAULT_FLOW",this.story=e,this._currentFlow=new J(this.kDefaultFlowName,e),this.OutputStreamDirty(),this._evaluationStack=[],this._variablesState=new H(this.callStack,e.listDefinitions),this._visitCounts=new Map,this._turnIndices=new Map,this.currentTurnIndex=-1;let t=(new Date).getTime();this.storySeed=new K(t).next()%100,this.previousRandom=0,this.GoToStart()}ToJson(e=!1){let t=new Q.Writer;return this.WriteJson(t),t.ToString()}toJson(e=!1){return this.ToJson(e)}LoadJson(e){let t=Q.TextToDictionary(e);this.LoadJsonObj(t),null!==this.onDidLoadState&&this.onDidLoadState()}VisitCountAtPathString(e){let n;if(null!==this._patch){let r=this.story.ContentAtPath(new t(e)).container;if(null===r)throw new Error("Content at path not found: "+e);if(n=this._patch.TryGetVisitCount(r,0),n.exists)return n.result}return n=b(this._visitCounts,e,null),n.exists?n.result:0}VisitCountForContainer(e){if(null===e)return d("container");if(!e.visitsShouldBeCounted)return this.story.Error("Read count for target ("+e.name+" - on "+e.debugMetadata+") unknown. The story may need to be compiled with countAllVisits flag (-c)."),0;if(null!==this._patch){let t=this._patch.TryGetVisitCount(e,0);if(t.exists)return t.result}let t=e.path.toString(),n=b(this._visitCounts,t,null);return n.exists?n.result:0}IncrementVisitCountForContainer(e){if(null!==this._patch){let t=this.VisitCountForContainer(e);return t++,void this._patch.SetVisitCount(e,t)}let t=e.path.toString(),n=b(this._visitCounts,t,null);n.exists?this._visitCounts.set(t,n.result+1):this._visitCounts.set(t,1)}RecordTurnIndexVisitToContainer(e){if(null!==this._patch)return void this._patch.SetTurnIndex(e,this.currentTurnIndex);let t=e.path.toString();this._turnIndices.set(t,this.currentTurnIndex)}TurnsSinceForContainer(e){if(e.turnIndexShouldBeCounted||this.story.Error("TURNS_SINCE() for target ("+e.name+" - on "+e.debugMetadata+") unknown. The story may need to be compiled with countAllVisits flag (-c)."),null!==this._patch){let t=this._patch.TryGetTurnIndex(e,0);if(t.exists)return this.currentTurnIndex-t.result}let t=e.path.toString(),n=b(this._turnIndices,t,0);return n.exists?this.currentTurnIndex-n.result:-1}get callstackDepth(){return this.callStack.depth}get outputStream(){return this._currentFlow.outputStream}get currentChoices(){return this.canContinue?[]:this._currentFlow.currentChoices}get generatedChoices(){return this._currentFlow.currentChoices}get currentErrors(){return this._currentErrors}get currentWarnings(){return this._currentWarnings}get variablesState(){return this._variablesState}set variablesState(e){this._variablesState=e}get callStack(){return this._currentFlow.callStack}get evaluationStack(){return this._evaluationStack}get currentTurnIndex(){return this._currentTurnIndex}set currentTurnIndex(e){this._currentTurnIndex=e}get currentPathString(){let e=this.currentPointer;return e.isNull?null:null===e.path?d("pointer.path"):e.path.toString()}get currentPointer(){return this.callStack.currentElement.currentPointer.copy()}set currentPointer(e){this.callStack.currentElement.currentPointer=e.copy()}get previousPointer(){return this.callStack.currentThread.previousPointer.copy()}set previousPointer(e){this.callStack.currentThread.previousPointer=e.copy()}get canContinue(){return!this.currentPointer.isNull&&!this.hasError}get hasError(){return null!=this.currentErrors&&this.currentErrors.length>0}get hasWarning(){return null!=this.currentWarnings&&this.currentWarnings.length>0}get currentText(){if(this._outputStreamTextDirty){let e=new m;for(let t of this.outputStream){let n=l(t,E);null!==n&&e.Append(n.value)}this._currentText=this.CleanOutputWhitespace(e.toString()),this._outputStreamTextDirty=!1}return this._currentText}CleanOutputWhitespace(e){let t=new m,n=-1,r=0;for(let i=0;i<e.length;i++){let a=e.charAt(i),l=" "==a||"\t"==a;l&&-1==n&&(n=i),l||("\n"!=a&&n>0&&n!=r&&t.Append(" "),n=-1),"\n"==a&&(r=i+1),l||t.Append(a)}return t.toString()}get currentTags(){if(this._outputStreamTagsDirty){this._currentTags=[];for(let e of this.outputStream){let t=l(e,M);null!==t&&this._currentTags.push(t.text)}this._outputStreamTagsDirty=!1}return this._currentTags}get currentFlowName(){return this._currentFlow.name}get inExpressionEvaluation(){return this.callStack.currentElement.inExpressionEvaluation}set inExpressionEvaluation(e){this.callStack.currentElement.inExpressionEvaluation=e}GoToStart(){this.callStack.currentElement.currentPointer=F.StartOf(this.story.mainContentContainer)}SwitchFlow_Internal(e){if(null===e)throw new Error("Must pass a non-null string to Story.SwitchFlow");if(null===this._namedFlows&&(this._namedFlows=new Map,this._namedFlows.set(this.kDefaultFlowName,this._currentFlow)),e===this._currentFlow.name)return;let t,n=b(this._namedFlows,e,null);n.exists?t=n.result:(t=new J(e,this.story),this._namedFlows.set(e,t)),this._currentFlow=t,this.variablesState.callStack=this._currentFlow.callStack,this.OutputStreamDirty()}SwitchToDefaultFlow_Internal(){null!==this._namedFlows&&this.SwitchFlow_Internal(this.kDefaultFlowName)}RemoveFlow_Internal(e){if(null===e)throw new Error("Must pass a non-null string to Story.DestroyFlow");if(e===this.kDefaultFlowName)throw new Error("Cannot destroy default flow");if(this._currentFlow.name===e&&this.SwitchToDefaultFlow_Internal(),null===this._namedFlows)return d("this._namedFlows");this._namedFlows.delete(e)}CopyAndStartPatching(){let e=new X(this.story);if(e._patch=new q(this._patch),e._currentFlow.name=this._currentFlow.name,e._currentFlow.callStack=new $(this._currentFlow.callStack),e._currentFlow.currentChoices.push(...this._currentFlow.currentChoices),e._currentFlow.outputStream.push(...this._currentFlow.outputStream),e.OutputStreamDirty(),null!==this._namedFlows){e._namedFlows=new Map;for(let[t,n]of this._namedFlows)e._namedFlows.set(t,n);e._namedFlows.set(this._currentFlow.name,e._currentFlow)}return this.hasError&&(e._currentErrors=[],e._currentErrors.push(...this.currentErrors||[])),this.hasWarning&&(e._currentWarnings=[],e._currentWarnings.push(...this.currentWarnings||[])),e.variablesState=this.variablesState,e.variablesState.callStack=e.callStack,e.variablesState.patch=e._patch,e.evaluationStack.push(...this.evaluationStack),this.divertedPointer.isNull||(e.divertedPointer=this.divertedPointer.copy()),e.previousPointer=this.previousPointer.copy(),e._visitCounts=this._visitCounts,e._turnIndices=this._turnIndices,e.currentTurnIndex=this.currentTurnIndex,e.storySeed=this.storySeed,e.previousRandom=this.previousRandom,e.didSafeExit=this.didSafeExit,e}RestoreAfterPatch(){this.variablesState.callStack=this.callStack,this.variablesState.patch=this._patch}ApplyAnyPatch(){if(null!==this._patch){this.variablesState.ApplyPatch();for(let[e,t]of this._patch.visitCounts)this.ApplyCountChanges(e,t,!0);for(let[e,t]of this._patch.turnIndices)this.ApplyCountChanges(e,t,!1);this._patch=null}}ApplyCountChanges(e,t,n){(n?this._visitCounts:this._turnIndices).set(e.path.toString(),t)}WriteJson(e){if(e.WriteObjectStart(),e.WritePropertyStart("flows"),e.WriteObjectStart(),null!==this._namedFlows)for(let[t,n]of this._namedFlows)e.WriteProperty(t,(e=>n.WriteJson(e)));else e.WriteProperty(this._currentFlow.name,(e=>this._currentFlow.WriteJson(e)));if(e.WriteObjectEnd(),e.WritePropertyEnd(),e.WriteProperty("currentFlowName",this._currentFlow.name),e.WriteProperty("variablesState",(e=>this.variablesState.WriteJson(e))),e.WriteProperty("evalStack",(e=>G.WriteListRuntimeObjs(e,this.evaluationStack))),!this.divertedPointer.isNull){if(null===this.divertedPointer.path)return d("divertedPointer");e.WriteProperty("currentDivertTarget",this.divertedPointer.path.componentsString)}e.WriteProperty("visitCounts",(e=>G.WriteIntDictionary(e,this._visitCounts))),e.WriteProperty("turnIndices",(e=>G.WriteIntDictionary(e,this._turnIndices))),e.WriteIntProperty("turnIdx",this.currentTurnIndex),e.WriteIntProperty("storySeed",this.storySeed),e.WriteIntProperty("previousRandom",this.previousRandom),e.WriteIntProperty("inkSaveVersion",this.kInkSaveStateVersion),e.WriteIntProperty("inkFormatVersion",Z.inkVersionCurrent),e.WriteObjectEnd()}LoadJsonObj(e){let n=e,r=n.inkSaveVersion;if(null==r)throw new Error("ink save format incorrect, can't load.");if(parseInt(r)<this.kMinCompatibleLoadVersion)throw new Error("Ink save format isn't compatible with the current version (saw '"+r+"', but minimum is "+this.kMinCompatibleLoadVersion+"), so can't load.");let i=n.flows;if(null!=i){let e=i;1===Object.keys(e).length?this._namedFlows=null:null===this._namedFlows?this._namedFlows=new Map:this._namedFlows.clear();let t=Object.entries(e);for(let[n,r]of t){let t=n,i=r,a=new J(t,this.story,i);if(1===Object.keys(e).length)this._currentFlow=new J(t,this.story,i);else{if(null===this._namedFlows)return d("this._namedFlows");this._namedFlows.set(t,a)}}if(null!=this._namedFlows&&this._namedFlows.size>1){let e=n.currentFlowName;this._currentFlow=this._namedFlows.get(e)}}else{this._namedFlows=null,this._currentFlow.name=this.kDefaultFlowName,this._currentFlow.callStack.SetJsonToken(n.callstackThreads,this.story),this._currentFlow.outputStream=G.JArrayToRuntimeObjList(n.outputStream),this._currentFlow.currentChoices=G.JArrayToRuntimeObjList(n.currentChoices);let e=n.choiceThreads;this._currentFlow.LoadFlowChoiceThreads(e,this.story)}this.OutputStreamDirty(),this.variablesState.SetJsonToken(n.variablesState),this.variablesState.callStack=this._currentFlow.callStack,this._evaluationStack=G.JArrayToRuntimeObjList(n.evalStack);let a=n.currentDivertTarget;if(null!=a){let e=new t(a.toString());this.divertedPointer=this.story.PointerAtPath(e)}this._visitCounts=G.JObjectToIntDictionary(n.visitCounts),this._turnIndices=G.JObjectToIntDictionary(n.turnIndices),this.currentTurnIndex=parseInt(n.turnIdx),this.storySeed=parseInt(n.storySeed),this.previousRandom=parseInt(n.previousRandom)}ResetErrors(){this._currentErrors=null,this._currentWarnings=null}ResetOutput(e=null){this.outputStream.length=0,null!==e&&this.outputStream.push(...e),this.OutputStreamDirty()}PushToOutputStream(e){let t=l(e,E);if(null!==t){let e=this.TrySplittingHeadTailWhitespace(t);if(null!==e){for(let t of e)this.PushToOutputStreamIndividual(t);return void this.OutputStreamDirty()}}this.PushToOutputStreamIndividual(e),this.OutputStreamDirty()}PopFromOutputStream(e){this.outputStream.splice(this.outputStream.length-e,e),this.OutputStreamDirty()}TrySplittingHeadTailWhitespace(e){let t=e.value;if(null===t)return d("single.value");let n=-1,r=-1;for(let e=0;e<t.length;e++){let i=t[e];if("\n"!=i){if(" "==i||"\t"==i)continue;break}-1==n&&(n=e),r=e}let i=-1,a=-1;for(let e=t.length-1;e>=0;e--){let n=t[e];if("\n"!=n){if(" "==n||"\t"==n)continue;break}-1==i&&(i=e),a=e}if(-1==n&&-1==i)return null;let l=[],o=0,s=t.length;if(-1!=n){if(n>0){let e=new E(t.substring(0,n));l.push(e)}l.push(new E("\n")),o=r+1}if(-1!=i&&(s=a),s>o){let e=t.substring(o,s-o);l.push(new E(e))}if(-1!=i&&a>r&&(l.push(new E("\n")),i<t.length-1)){let e=t.length-i-1,n=new E(t.substring(i+1,e));l.push(n)}return l}PushToOutputStreamIndividual(e){let t=l(e,I),n=l(e,E),r=!0;if(t)this.TrimNewlinesFromOutputStream(),r=!0;else if(n){let e=-1,t=this.callStack.currentElement;t.type==i.Function&&(e=t.functionStartInOutputStream);let a=-1;for(let t=this.outputStream.length-1;t>=0;t--){let n=this.outputStream[t],r=n instanceof A?n:null;if(null!=(n instanceof I?n:null)){a=t;break}if(null!=r&&r.commandType==A.CommandType.BeginString){t>=e&&(e=-1);break}}let l=-1;if(l=-1!=a&&-1!=e?Math.min(e,a):-1!=a?a:e,-1!=l){if(n.isNewline)r=!1;else if(n.isNonWhitespace&&(a>-1&&this.RemoveExistingGlue(),e>-1)){let e=this.callStack.elements;for(let t=e.length-1;t>=0;t--){let n=e[t];if(n.type!=i.Function)break;n.functionStartInOutputStream=-1}}}else n.isNewline&&(!this.outputStreamEndsInNewline&&this.outputStreamContainsContent||(r=!1))}if(r){if(null===e)return d("obj");this.outputStream.push(e),this.OutputStreamDirty()}}TrimNewlinesFromOutputStream(){let e=-1,t=this.outputStream.length-1;for(;t>=0;){let n=this.outputStream[t],r=l(n,A),i=l(n,E);if(null!=r||null!=i&&i.isNonWhitespace)break;null!=i&&i.isNewline&&(e=t),t--}if(e>=0)for(t=e;t<this.outputStream.length;)l(this.outputStream[t],E)?this.outputStream.splice(t,1):t++;this.OutputStreamDirty()}RemoveExistingGlue(){for(let e=this.outputStream.length-1;e>=0;e--){let t=this.outputStream[e];if(t instanceof I)this.outputStream.splice(e,1);else if(t instanceof A)break}this.OutputStreamDirty()}get outputStreamEndsInNewline(){if(this.outputStream.length>0)for(let e=this.outputStream.length-1;e>=0&&!(this.outputStream[e]instanceof A);e--){let t=this.outputStream[e];if(t instanceof E){if(t.isNewline)return!0;if(t.isNonWhitespace)break}}return!1}get outputStreamContainsContent(){for(let e of this.outputStream)if(e instanceof E)return!0;return!1}get inStringEvaluation(){for(let e=this.outputStream.length-1;e>=0;e--){let t=l(this.outputStream[e],A);if(t instanceof A&&t.commandType==A.CommandType.BeginString)return!0}return!1}PushEvaluationStack(e){let t=l(e,T);if(t){let e=t.value;if(null===e)return d("rawList");if(null!=e.originNames){e.origins||(e.origins=[]),e.origins.length=0;for(let t of e.originNames){if(null===this.story.listDefinitions)return d("StoryState.story.listDefinitions");let n=this.story.listDefinitions.TryListGetDefinition(t,null);if(null===n.result)return d("StoryState def.result");e.origins.indexOf(n.result)<0&&e.origins.push(n.result)}}}if(null===e)return d("obj");this.evaluationStack.push(e)}PopEvaluationStack(e){if(void 0===e)return u(this.evaluationStack.pop());if(e>this.evaluationStack.length)throw new Error("trying to pop too many objects");return u(this.evaluationStack.splice(this.evaluationStack.length-e,e))}PeekEvaluationStack(){return this.evaluationStack[this.evaluationStack.length-1]}ForceEnd(){this.callStack.Reset(),this._currentFlow.currentChoices.length=0,this.currentPointer=F.Null,this.previousPointer=F.Null,this.didSafeExit=!0}TrimWhitespaceFromFunctionEnd(){n.Assert(this.callStack.currentElement.type==i.Function);let e=this.callStack.currentElement.functionStartInOutputStream;-1==e&&(e=0);for(let t=this.outputStream.length-1;t>=e;t--){let e=this.outputStream[t],n=l(e,E),r=l(e,A);if(null!=n){if(r)break;if(!n.isNewline&&!n.isInlineWhitespace)break;this.outputStream.splice(t,1),this.OutputStreamDirty()}}}PopCallStack(e=null){this.callStack.currentElement.type==i.Function&&this.TrimWhitespaceFromFunctionEnd(),this.callStack.Pop(e)}SetChosenPath(e,t){this._currentFlow.currentChoices.length=0;let n=this.story.PointerAtPath(e);n.isNull||-1!=n.index||(n.index=0),this.currentPointer=n,t&&this.currentTurnIndex++}StartFunctionEvaluationFromGame(e,t){this.callStack.Push(i.FunctionEvaluationFromGame,this.evaluationStack.length),this.callStack.currentElement.currentPointer=F.StartOf(e),this.PassArgumentsToEvaluationStack(t)}PassArgumentsToEvaluationStack(e){if(null!==e)for(let t=0;t<e.length;t++){if("number"!=typeof e[t]&&"string"!=typeof e[t]||e[t]instanceof y)throw new Error((u(arguments[t]),"null"));this.PushEvaluationStack(w.Create(e[t]))}}TryExitFunctionEvaluationFromGame(){return this.callStack.currentElement.type==i.FunctionEvaluationFromGame&&(this.currentPointer=F.Null,this.didSafeExit=!0,!0)}CompleteFunctionEvaluationFromGame(){if(this.callStack.currentElement.type!=i.FunctionEvaluationFromGame)throw new Error("Expected external function evaluation to be complete. Stack trace: "+this.callStack.callStackTrace);let e=this.callStack.currentElement.evaluationStackHeightWhenPushed,t=null;for(;this.evaluationStack.length>e;){let e=this.PopEvaluationStack();null===t&&(t=e)}if(this.PopCallStack(i.FunctionEvaluationFromGame),t){if(t instanceof D)return null;let e=o(t,w);return e.valueType==r.DivertTarget?e.valueObject.toString():e.valueObject}return null}AddError(e,t){t?(null==this._currentWarnings&&(this._currentWarnings=[]),this._currentWarnings.push(e)):(null==this._currentErrors&&(this._currentErrors=[]),this._currentErrors.push(e))}OutputStreamDirty(){this._outputStreamTextDirty=!0,this._outputStreamTagsDirty=!0}}class Y{constructor(){this.startTime=void 0}get ElapsedMilliseconds(){return void 0===this.startTime?0:(new Date).getTime()-this.startTime}Start(){this.startTime=(new Date).getTime()}Stop(){this.startTime=void 0}}!function(e){e[e.Author=0]="Author",e[e.Warning=1]="Warning",e[e.Error=2]="Error"}(a||(a={})),Number.isInteger||(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&e>-9007199254740992&&e<9007199254740992&&Math.floor(e)===e});class Z extends p{constructor(){let e;super(),this.inkVersionMinimumCompatible=18,this.onError=null,this.onDidContinue=null,this.onMakeChoice=null,this.onEvaluateFunction=null,this.onCompleteEvaluateFunction=null,this.onChoosePathString=null,this._prevContainers=[],this.allowExternalFunctionFallbacks=!1,this._listDefinitions=null,this._variableObservers=null,this._hasValidatedExternals=!1,this._temporaryEvaluationContainer=null,this._asyncContinueActive=!1,this._stateSnapshotAtLastNewline=null,this._sawLookaheadUnsafeFunctionAfterNewline=!1,this._recursiveContinueCount=0,this._asyncSaving=!1,this._profiler=null;let t=null,n=null;if(arguments[0]instanceof N)e=arguments[0],void 0!==arguments[1]&&(t=arguments[1]),this._mainContentContainer=e;else if("string"==typeof arguments[0]){let e=arguments[0];n=Q.TextToDictionary(e)}else n=arguments[0];if(null!=t&&(this._listDefinitions=new U(t)),this._externals=new Map,null!==n){let e=n,t=e.inkVersion;if(null==t)throw new Error("ink version number not found. Are you sure it's a valid .ink.json file?");let r=parseInt(t);if(r>Z.inkVersionCurrent)throw new Error("Version of ink used to build story was newer than the current version of the engine");if(r<this.inkVersionMinimumCompatible)throw new Error("Version of ink used to build story is too old to be loaded by this version of the engine");r!=Z.inkVersionCurrent&&console.warn("WARNING: Version of ink used to build story doesn't match current version of engine. Non-critical, but recommend synchronising.");let i,a=e.root;if(null==a)throw new Error("Root node for ink not found. Are you sure it's a valid .ink.json file?");(i=e.listDefs)&&(this._listDefinitions=G.JTokenToListDefinitions(i)),this._mainContentContainer=o(G.JTokenToRuntimeObject(a),N),this.ResetState()}}get currentChoices(){let e=[];if(null===this._state)return d("this._state");for(let t of this._state.currentChoices)t.isInvisibleDefault||(t.index=e.length,e.push(t));return e}get currentText(){return this.IfAsyncWeCant("call currentText since it's a work in progress"),this.state.currentText}get currentTags(){return this.IfAsyncWeCant("call currentTags since it's a work in progress"),this.state.currentTags}get currentErrors(){return this.state.currentErrors}get currentWarnings(){return this.state.currentWarnings}get currentFlowName(){return this.state.currentFlowName}get hasError(){return this.state.hasError}get hasWarning(){return this.state.hasWarning}get variablesState(){return this.state.variablesState}get listDefinitions(){return this._listDefinitions}get state(){return this._state}StartProfiling(){}EndProfiling(){}ToJson(e){let t=!1;if(e||(t=!0,e=new Q.Writer),e.WriteObjectStart(),e.WriteIntProperty("inkVersion",Z.inkVersionCurrent),e.WriteProperty("root",(e=>G.WriteRuntimeContainer(e,this._mainContentContainer))),null!=this._listDefinitions){e.WritePropertyStart("listDefs"),e.WriteObjectStart();for(let t of this._listDefinitions.lists){e.WritePropertyStart(t.name),e.WriteObjectStart();for(let[n,r]of t.items){let t=g.fromSerializedKey(n),i=r;e.WriteIntProperty(t.itemName,i)}e.WriteObjectEnd(),e.WritePropertyEnd()}e.WriteObjectEnd(),e.WritePropertyEnd()}if(e.WriteObjectEnd(),t)return e.ToString()}ResetState(){this.IfAsyncWeCant("ResetState"),this._state=new X(this),this._state.variablesState.ObserveVariableChange(this.VariableStateDidChangeEvent.bind(this)),this.ResetGlobals()}ResetErrors(){if(null===this._state)return d("this._state");this._state.ResetErrors()}ResetCallstack(){if(this.IfAsyncWeCant("ResetCallstack"),null===this._state)return d("this._state");this._state.ForceEnd()}ResetGlobals(){if(this._mainContentContainer.namedContent.get("global decl")){let e=this.state.currentPointer.copy();this.ChoosePath(new t("global decl"),!1),this.ContinueInternal(),this.state.currentPointer=e}this.state.variablesState.SnapshotDefaultGlobals()}SwitchFlow(e){if(this.IfAsyncWeCant("switch flow"),this._asyncSaving)throw new Error("Story is already in background saving mode, can't switch flow to "+e);this.state.SwitchFlow_Internal(e)}RemoveFlow(e){this.state.RemoveFlow_Internal(e)}SwitchToDefaultFlow(){this.state.SwitchToDefaultFlow_Internal()}Continue(){return this.ContinueAsync(0),this.currentText}get canContinue(){return this.state.canContinue}get asyncContinueComplete(){return!this._asyncContinueActive}ContinueAsync(e){this._hasValidatedExternals||this.ValidateExternalBindings(),this.ContinueInternal(e)}ContinueInternal(e=0){null!=this._profiler&&this._profiler.PreContinue();let t=e>0;if(this._recursiveContinueCount++,!this._asyncContinueActive){if(this._asyncContinueActive=t,!this.canContinue)throw new Error("Can't continue - should check canContinue before calling Continue");this._state.didSafeExit=!1,this._state.ResetOutput(),1==this._recursiveContinueCount&&(this._state.variablesState.batchObservingVariableChanges=!0)}let n=new Y;n.Start();let r=!1;this._sawLookaheadUnsafeFunctionAfterNewline=!1;do{try{r=this.ContinueSingleStep()}catch(e){if(!(e instanceof v))throw e;this.AddError(e.message,void 0,e.useEndLineNumber);break}if(r)break;if(this._asyncContinueActive&&n.ElapsedMilliseconds>e)break}while(this.canContinue);if(n.Stop(),!r&&this.canContinue||(null!==this._stateSnapshotAtLastNewline&&this.RestoreStateSnapshot(),this.canContinue||(this.state.callStack.canPopThread&&this.AddError("Thread available to pop, threads should always be flat by the end of evaluation?"),0!=this.state.generatedChoices.length||this.state.didSafeExit||null!=this._temporaryEvaluationContainer||(this.state.callStack.CanPop(i.Tunnel)?this.AddError("unexpectedly reached end of content. Do you need a '->->' to return from a tunnel?"):this.state.callStack.CanPop(i.Function)?this.AddError("unexpectedly reached end of content. Do you need a '~ return'?"):this.state.callStack.canPop?this.AddError("unexpectedly reached end of content for unknown reason. Please debug compiler!"):this.AddError("ran out of content. Do you need a '-> DONE' or '-> END'?"))),this.state.didSafeExit=!1,this._sawLookaheadUnsafeFunctionAfterNewline=!1,1==this._recursiveContinueCount&&(this._state.variablesState.batchObservingVariableChanges=!1),this._asyncContinueActive=!1,null!==this.onDidContinue&&this.onDidContinue()),this._recursiveContinueCount--,null!=this._profiler&&this._profiler.PostContinue(),this.state.hasError||this.state.hasWarning){if(null===this.onError){let e=new m;throw e.Append("Ink had "),this.state.hasError&&(e.Append(""+this.state.currentErrors.length),e.Append(1==this.state.currentErrors.length?" error":"errors"),this.state.hasWarning&&e.Append(" and ")),this.state.hasWarning&&(e.Append(""+this.state.currentWarnings.length),e.Append(1==this.state.currentWarnings.length?" warning":"warnings"),this.state.hasWarning&&e.Append(" and ")),e.Append(". It is strongly suggested that you assign an error handler to story.onError. The first issue was: "),e.Append(this.state.hasError?this.state.currentErrors[0]:this.state.currentWarnings[0]),new v(e.toString())}if(this.state.hasError)for(let e of this.state.currentErrors)this.onError(e,a.Error);if(this.state.hasWarning)for(let e of this.state.currentWarnings)this.onError(e,a.Warning);this.ResetErrors()}}ContinueSingleStep(){if(null!=this._profiler&&this._profiler.PreStep(),this.Step(),null!=this._profiler&&this._profiler.PostStep(),this.canContinue||this.state.callStack.elementIsEvaluateFromGame||this.TryFollowDefaultInvisibleChoice(),null!=this._profiler&&this._profiler.PreSnapshot(),!this.state.inStringEvaluation){if(null!==this._stateSnapshotAtLastNewline){if(null===this._stateSnapshotAtLastNewline.currentTags)return d("this._stateAtLastNewline.currentTags");if(null===this.state.currentTags)return d("this.state.currentTags");let e=this.CalculateNewlineOutputStateChange(this._stateSnapshotAtLastNewline.currentText,this.state.currentText,this._stateSnapshotAtLastNewline.currentTags.length,this.state.currentTags.length);if(e==Z.OutputStateChange.ExtendedBeyondNewline||this._sawLookaheadUnsafeFunctionAfterNewline)return this.RestoreStateSnapshot(),!0;e==Z.OutputStateChange.NewlineRemoved&&this.DiscardSnapshot()}this.state.outputStreamEndsInNewline&&(this.canContinue?null==this._stateSnapshotAtLastNewline&&this.StateSnapshot():this.DiscardSnapshot())}return null!=this._profiler&&this._profiler.PostSnapshot(),!1}CalculateNewlineOutputStateChange(e,t,n,r){if(null===e)return d("prevText");if(null===t)return d("currText");let i=t.length>=e.length&&"\n"==t.charAt(e.length-1);if(n==r&&e.length==t.length&&i)return Z.OutputStateChange.NoChange;if(!i)return Z.OutputStateChange.NewlineRemoved;if(r>n)return Z.OutputStateChange.ExtendedBeyondNewline;for(let n=e.length;n<t.length;n++){let e=t.charAt(n);if(" "!=e&&"\t"!=e)return Z.OutputStateChange.ExtendedBeyondNewline}return Z.OutputStateChange.NoChange}ContinueMaximally(){this.IfAsyncWeCant("ContinueMaximally");let e=new m;for(;this.canContinue;)e.Append(this.Continue());return e.toString()}ContentAtPath(e){return this.mainContentContainer.ContentAtPath(e)}KnotContainerWithName(e){let t=this.mainContentContainer.namedContent.get(e);return t instanceof N?t:null}PointerAtPath(e){if(0==e.length)return F.Null;let t=new F,n=e.length,r=null;return null===e.lastComponent?d("path.lastComponent"):(e.lastComponent.isIndex?(n=e.length-1,r=this.mainContentContainer.ContentAtPath(e,void 0,n),t.container=r.container,t.index=e.lastComponent.index):(r=this.mainContentContainer.ContentAtPath(e),t.container=r.container,t.index=-1),null==r.obj||r.obj==this.mainContentContainer&&n>0?this.Error("Failed to find content at path '"+e+"', and no approximation of it was possible."):r.approximate&&this.Warning("Failed to find content at path '"+e+"', so it was approximated to: '"+r.obj.path+"'."),t)}StateSnapshot(){this._stateSnapshotAtLastNewline=this._state,this._state=this._state.CopyAndStartPatching()}RestoreStateSnapshot(){null===this._stateSnapshotAtLastNewline&&d("_stateSnapshotAtLastNewline"),this._stateSnapshotAtLastNewline.RestoreAfterPatch(),this._state=this._stateSnapshotAtLastNewline,this._stateSnapshotAtLastNewline=null,this._asyncSaving||this._state.ApplyAnyPatch()}DiscardSnapshot(){this._asyncSaving||this._state.ApplyAnyPatch(),this._stateSnapshotAtLastNewline=null}CopyStateForBackgroundThreadSave(){if(this.IfAsyncWeCant("start saving on a background thread"),this._asyncSaving)throw new Error("Story is already in background saving mode, can't call CopyStateForBackgroundThreadSave again!");let e=this._state;return this._state=this._state.CopyAndStartPatching(),this._asyncSaving=!0,e}BackgroundSaveComplete(){null===this._stateSnapshotAtLastNewline&&this._state.ApplyAnyPatch(),this._asyncSaving=!1}Step(){let e=!0,t=this.state.currentPointer.copy();if(t.isNull)return;let n=l(t.Resolve(),N);for(;n&&(this.VisitContainer(n,!0),0!=n.content.length);)t=F.StartOf(n),n=l(t.Resolve(),N);this.state.currentPointer=t.copy(),null!=this._profiler&&this._profiler.Step(this.state.callStack);let r=t.Resolve(),i=this.PerformLogicAndFlowControl(r);if(this.state.currentPointer.isNull)return;i&&(e=!1);let a=l(r,L);if(a){let t=this.ProcessChoice(a);t&&this.state.generatedChoices.push(t),r=null,e=!1}if(r instanceof N&&(e=!1),e){let e=l(r,x);if(e&&-1==e.contextIndex){let t=this.state.callStack.ContextForVariableNamed(e.variableName);r=new x(e.variableName,t)}this.state.inExpressionEvaluation?this.state.PushEvaluationStack(r):this.state.PushToOutputStream(r)}this.NextContent();let o=l(r,A);o&&o.commandType==A.CommandType.StartThread&&this.state.callStack.PushThread()}VisitContainer(e,t){e.countingAtStartOnly&&!t||(e.visitsShouldBeCounted&&this.state.IncrementVisitCountForContainer(e),e.turnIndexShouldBeCounted&&this.state.RecordTurnIndexVisitToContainer(e))}VisitChangedContainersDueToDivert(){let e=this.state.previousPointer.copy(),t=this.state.currentPointer.copy();if(t.isNull||-1==t.index)return;if(this._prevContainers.length=0,!e.isNull){let t=l(e.Resolve(),N)||l(e.container,N);for(;t;)this._prevContainers.push(t),t=l(t.parent,N)}let n=t.Resolve();if(null==n)return;let r=l(n.parent,N),i=!0;for(;r&&(this._prevContainers.indexOf(r)<0||r.countingAtStartOnly);){let e=r.content.length>0&&n==r.content[0]&&i;e||(i=!1),this.VisitContainer(r,e),n=r,r=l(r.parent,N)}}ProcessChoice(e){let t=!0;if(e.hasCondition){let e=this.state.PopEvaluationStack();this.IsTruthy(e)||(t=!1)}let n="",r="";if(e.hasChoiceOnlyContent&&(r=o(this.state.PopEvaluationStack(),E).value||""),e.hasStartContent&&(n=o(this.state.PopEvaluationStack(),E).value||""),e.onceOnly&&this.state.VisitCountForContainer(e.choiceTarget)>0&&(t=!1),!t)return null;let i=new z;return i.targetPath=e.pathOnChoice,i.sourcePath=e.path.toString(),i.isInvisibleDefault=e.isInvisibleDefault,i.threadAtGeneration=this.state.callStack.ForkThread(),i.text=(n+r).replace(/^[ \t]+|[ \t]+$/g,""),i}IsTruthy(e){if(e instanceof w){let t=e;if(t instanceof P){let e=t;return this.Error("Shouldn't use a divert target (to "+e.targetPath+") as a conditional value. Did you intend a function call 'likeThis()' or a read count check 'likeThis'? (no arrows)"),!1}return t.isTruthy}return!1}PerformLogicAndFlowControl(e){if(null==e)return!1;if(e instanceof W){let t=e;if(t.isConditional){let e=this.state.PopEvaluationStack();if(!this.IsTruthy(e))return!0}if(t.hasVariableTarget){let e=t.variableDivertName,n=this.state.variablesState.GetVariableWithName(e);if(null==n)this.Error("Tried to divert using a target from a variable that could not be found ("+e+")");else if(!(n instanceof P)){let t=l(n,_),r="Tried to divert to a target from a variable, but the variable ("+e+") didn't contain a divert target, it ";t instanceof _&&0==t.value?r+="was empty/null (the value 0).":r+="contained '"+n+"'.",this.Error(r)}let r=o(n,P);this.state.divertedPointer=this.PointerAtPath(r.targetPath)}else{if(t.isExternal)return this.CallExternalFunction(t.targetPathString,t.externalArgs),!0;this.state.divertedPointer=t.targetPointer.copy()}return t.pushesToStack&&this.state.callStack.Push(t.stackPushType,void 0,this.state.outputStream.length),this.state.divertedPointer.isNull&&!t.isExternal&&(t&&t.debugMetadata&&null!=t.debugMetadata.sourceName?this.Error("Divert target doesn't exist: "+t.debugMetadata.sourceName):this.Error("Divert resolution failed: "+t)),!0}if(e instanceof A){let t=e;switch(t.commandType){case A.CommandType.EvalStart:this.Assert(!1===this.state.inExpressionEvaluation,"Already in expression evaluation?"),this.state.inExpressionEvaluation=!0;break;case A.CommandType.EvalEnd:this.Assert(!0===this.state.inExpressionEvaluation,"Not in expression evaluation mode"),this.state.inExpressionEvaluation=!1;break;case A.CommandType.EvalOutput:if(this.state.evaluationStack.length>0){let e=this.state.PopEvaluationStack();if(!(e instanceof D)){let t=new E(e.toString());this.state.PushToOutputStream(t)}}break;case A.CommandType.NoOp:break;case A.CommandType.Duplicate:this.state.PushEvaluationStack(this.state.PeekEvaluationStack());break;case A.CommandType.PopEvaluatedValue:this.state.PopEvaluationStack();break;case A.CommandType.PopFunction:case A.CommandType.PopTunnel:let e=t.commandType==A.CommandType.PopFunction?i.Function:i.Tunnel,n=null;if(e==i.Tunnel){let e=this.state.PopEvaluationStack();n=l(e,P),null===n&&this.Assert(e instanceof D,"Expected void if ->-> doesn't override target")}if(this.state.TryExitFunctionEvaluationFromGame())break;if(this.state.callStack.currentElement.type==e&&this.state.callStack.canPop)this.state.PopCallStack(),n&&(this.state.divertedPointer=this.PointerAtPath(n.targetPath));else{let t=new Map;t.set(i.Function,"function return statement (~ return)"),t.set(i.Tunnel,"tunnel onwards statement (->->)");let n=t.get(this.state.callStack.currentElement.type);this.state.callStack.canPop||(n="end of flow (-> END or choice)");let r="Found "+t.get(e)+", when expected "+n;this.Error(r)}break;case A.CommandType.BeginString:this.state.PushToOutputStream(t),this.Assert(!0===this.state.inExpressionEvaluation,"Expected to be in an expression when evaluating a string"),this.state.inExpressionEvaluation=!1;break;case A.CommandType.EndString:let r=[],a=0;for(let e=this.state.outputStream.length-1;e>=0;--e){let t=this.state.outputStream[e];a++;let n=l(t,A);if(n&&n.commandType==A.CommandType.BeginString)break;t instanceof E&&r.push(t)}this.state.PopFromOutputStream(a),r=r.reverse();let s=new m;for(let e of r)s.Append(e.toString());this.state.inExpressionEvaluation=!0,this.state.PushEvaluationStack(new E(s.toString()));break;case A.CommandType.ChoiceCount:let u=this.state.generatedChoices.length;this.state.PushEvaluationStack(new _(u));break;case A.CommandType.Turns:this.state.PushEvaluationStack(new _(this.state.currentTurnIndex+1));break;case A.CommandType.TurnsSince:case A.CommandType.ReadCount:let c=this.state.PopEvaluationStack();if(!(c instanceof P)){let e="";c instanceof _&&(e=". Did you accidentally pass a read count ('knot_name') instead of a target ('-> knot_name')?"),this.Error("TURNS_SINCE / READ_COUNT expected a divert target (knot, stitch, label name), but saw "+c+e);break}let h,f=o(c,P),p=l(this.ContentAtPath(f.targetPath).correctObj,N);null!=p?h=t.commandType==A.CommandType.TurnsSince?this.state.TurnsSinceForContainer(p):this.state.VisitCountForContainer(p):(h=t.commandType==A.CommandType.TurnsSince?-1:0,this.Warning("Failed to find container for "+t.toString()+" lookup at "+f.targetPath.toString())),this.state.PushEvaluationStack(new _(h));break;case A.CommandType.Random:{let e=l(this.state.PopEvaluationStack(),_),t=l(this.state.PopEvaluationStack(),_);if(null==t||t instanceof _==0)return this.Error("Invalid value for minimum parameter of RANDOM(min, max)");if(null==e||t instanceof _==0)return this.Error("Invalid value for maximum parameter of RANDOM(min, max)");if(null===e.value)return d("maxInt.value");if(null===t.value)return d("minInt.value");let n=e.value-t.value+1;(!isFinite(n)||n>Number.MAX_SAFE_INTEGER)&&(n=Number.MAX_SAFE_INTEGER,this.Error("RANDOM was called with a range that exceeds the size that ink numbers can use.")),n<=0&&this.Error("RANDOM was called with minimum as "+t.value+" and maximum as "+e.value+". The maximum must be larger");let r=this.state.storySeed+this.state.previousRandom,i=new K(r).next(),a=i%n+t.value;this.state.PushEvaluationStack(new _(a)),this.state.previousRandom=i;break}case A.CommandType.SeedRandom:let b=l(this.state.PopEvaluationStack(),_);if(null==b||b instanceof _==0)return this.Error("Invalid value passed to SEED_RANDOM");if(null===b.value)return d("minInt.value");this.state.storySeed=b.value,this.state.previousRandom=0,this.state.PushEvaluationStack(new D);break;case A.CommandType.VisitIndex:let S=this.state.VisitCountForContainer(this.state.currentPointer.container)-1;this.state.PushEvaluationStack(new _(S));break;case A.CommandType.SequenceShuffleIndex:let C=this.NextSequenceShuffleIndex();this.state.PushEvaluationStack(new _(C));break;case A.CommandType.StartThread:break;case A.CommandType.Done:this.state.callStack.canPopThread?this.state.callStack.PopThread():(this.state.didSafeExit=!0,this.state.currentPointer=F.Null);break;case A.CommandType.End:this.state.ForceEnd();break;case A.CommandType.ListFromInt:let k=l(this.state.PopEvaluationStack(),_),x=o(this.state.PopEvaluationStack(),E);if(null===k)throw new v("Passed non-integer when creating a list element from a numerical value.");let O=null;if(null===this.listDefinitions)return d("this.listDefinitions");let I=this.listDefinitions.TryListGetDefinition(x.value,null);if(!I.exists)throw new v("Failed to find LIST called "+x.value);{if(null===k.value)return d("minInt.value");let e=I.result.TryGetItemWithValue(k.value,g.Null);e.exists&&(O=new T(e.result,k.value))}null==O&&(O=new T),this.state.PushEvaluationStack(O);break;case A.CommandType.ListRange:let W=l(this.state.PopEvaluationStack(),w),L=l(this.state.PopEvaluationStack(),w),R=l(this.state.PopEvaluationStack(),T);if(null===R||null===L||null===W)throw new v("Expected list, minimum and maximum for LIST_RANGE");if(null===R.value)return d("targetList.value");let V=R.value.ListWithSubRange(L.valueObject,W.valueObject);this.state.PushEvaluationStack(new T(V));break;case A.CommandType.ListRandom:{let e=this.state.PopEvaluationStack();if(null===e)throw new v("Expected list for LIST_RANDOM");let t=e.value,n=null;if(null===t)throw d("list");if(0==t.Count)n=new y;else{let e=this.state.storySeed+this.state.previousRandom,r=new K(e).next(),i=r%t.Count,a=t.entries();for(let e=0;e<=i-1;e++)a.next();let l=a.next().value,o={Key:g.fromSerializedKey(l[0]),Value:l[1]};if(null===o.Key.originName)return d("randomItem.Key.originName");n=new y(o.Key.originName,this),n.Add(o.Key,o.Value),this.state.previousRandom=r}this.state.PushEvaluationStack(new T(n));break}default:this.Error("unhandled ControlCommand: "+t)}return!0}if(e instanceof V){let t=e,n=this.state.PopEvaluationStack();return this.state.variablesState.Assign(t,n),!0}if(e instanceof R){let t=e,n=null;if(null!=t.pathForCount){let e=t.containerForCount,r=this.state.VisitCountForContainer(e);n=new _(r)}else n=this.state.variablesState.GetVariableWithName(t.name),null==n&&(this.Warning("Variable not found: '"+t.name+"'. Using default value of 0 (false). This can happen with temporary variables if the declaration hasn't yet been hit. Globals are always given a default value on load if a value doesn't exist in the save state."),n=new _(0));return this.state.PushEvaluationStack(n),!0}if(e instanceof j){let t=e,n=this.state.PopEvaluationStack(t.numberOfParameters),r=t.Call(n);return this.state.PushEvaluationStack(r),!0}return!1}ChoosePathString(e,n=!0,r=[]){if(this.IfAsyncWeCant("call ChoosePathString right now"),null!==this.onChoosePathString&&this.onChoosePathString(e,r),n)this.ResetCallstack();else if(this.state.callStack.currentElement.type==i.Function){let t="",n=this.state.callStack.currentElement.currentPointer.container;throw null!=n&&(t="("+n.path.toString()+") "),new Error("Story was running a function "+t+"when you called ChoosePathString("+e+") - this is almost certainly not not what you want! Full stack trace: \n"+this.state.callStack.callStackTrace)}this.state.PassArgumentsToEvaluationStack(r),this.ChoosePath(new t(e))}IfAsyncWeCant(e){if(this._asyncContinueActive)throw new Error("Can't "+e+". Story is in the middle of a ContinueAsync(). Make more ContinueAsync() calls or a single Continue() call beforehand.")}ChoosePath(e,t=!0){this.state.SetChosenPath(e,t),this.VisitChangedContainersDueToDivert()}ChooseChoiceIndex(e){let t=this.currentChoices;this.Assert(e>=0&&e<t.length,"choice out of range");let n=t[e];return null!==this.onMakeChoice&&this.onMakeChoice(n),null===n.threadAtGeneration?d("choiceToChoose.threadAtGeneration"):null===n.targetPath?d("choiceToChoose.targetPath"):(this.state.callStack.currentThread=n.threadAtGeneration,void this.ChoosePath(n.targetPath))}HasFunction(e){try{return null!=this.KnotContainerWithName(e)}catch(e){return!1}}EvaluateFunction(e,t=[],n=!1){if(null!==this.onEvaluateFunction&&this.onEvaluateFunction(e,t),this.IfAsyncWeCant("evaluate a function"),null==e)throw new Error("Function is null");if(""==e||""==e.trim())throw new Error("Function is empty or white space.");let r=this.KnotContainerWithName(e);if(null==r)throw new Error("Function doesn't exist: '"+e+"'");let i=[];i.push(...this.state.outputStream),this._state.ResetOutput(),this.state.StartFunctionEvaluationFromGame(r,t);let a=new m;for(;this.canContinue;)a.Append(this.Continue());let l=a.toString();this._state.ResetOutput(i);let o=this.state.CompleteFunctionEvaluationFromGame();return null!=this.onCompleteEvaluateFunction&&this.onCompleteEvaluateFunction(e,t,l,o),n?{returned:o,output:l}:o}EvaluateExpression(e){let t=this.state.callStack.elements.length;this.state.callStack.Push(i.Tunnel),this._temporaryEvaluationContainer=e,this.state.GoToStart();let n=this.state.evaluationStack.length;return this.Continue(),this._temporaryEvaluationContainer=null,this.state.callStack.elements.length>t&&this.state.PopCallStack(),this.state.evaluationStack.length>n?this.state.PopEvaluationStack():null}CallExternalFunction(e,t){if(null===e)return d("funcName");let n=this._externals.get(e),r=null,a=void 0!==n;if(a&&!n.lookAheadSafe&&null!==this._stateSnapshotAtLastNewline)return void(this._sawLookaheadUnsafeFunctionAfterNewline=!0);if(!a){if(this.allowExternalFunctionFallbacks)return r=this.KnotContainerWithName(e),this.Assert(null!==r,"Trying to call EXTERNAL function '"+e+"' which has not been bound, and fallback ink function could not be found."),this.state.callStack.Push(i.Function,void 0,this.state.outputStream.length),void(this.state.divertedPointer=F.StartOf(r));this.Assert(!1,"Trying to call EXTERNAL function '"+e+"' which has not been bound (and ink fallbacks disabled).")}let l=[];for(let e=0;e<t;++e){let e=o(this.state.PopEvaluationStack(),w).valueObject;l.push(e)}l.reverse();let s=n.function(l),u=null;null!=s?(u=w.Create(s),this.Assert(null!==u,"Could not create ink value from returned object of type "+typeof s)):u=new D,this.state.PushEvaluationStack(u)}BindExternalFunctionGeneral(e,t,n){this.IfAsyncWeCant("bind an external function"),this.Assert(!this._externals.has(e),"Function '"+e+"' has already been bound."),this._externals.set(e,{function:t,lookAheadSafe:n})}TryCoerce(e){return e}BindExternalFunction(e,t,n){this.Assert(null!=t,"Can't bind a null function"),this.BindExternalFunctionGeneral(e,(e=>{this.Assert(e.length>=t.length,"External function expected "+t.length+" arguments");let n=[];for(let t=0,r=e.length;t<r;t++)n[t]=this.TryCoerce(e[t]);return t.apply(null,n)}),n)}UnbindExternalFunction(e){this.IfAsyncWeCant("unbind an external a function"),this.Assert(this._externals.has(e),"Function '"+e+"' has not been bound."),this._externals.delete(e)}ValidateExternalBindings(){let e=null,t=null,n=arguments[1]||new Set;if(arguments[0]instanceof N&&(e=arguments[0]),arguments[0]instanceof p&&(t=arguments[0]),null===e&&null===t)if(this.ValidateExternalBindings(this._mainContentContainer,n),this._hasValidatedExternals=!0,0==n.size)this._hasValidatedExternals=!0;else{let e="Error: Missing function binding for external";e+=n.size>1?"s":"",e+=": '",e+=Array.from(n).join("', '"),e+="' ",e+=this.allowExternalFunctionFallbacks?", and no fallback ink function found.":" (ink fallbacks disabled)",this.Error(e)}else if(null!=e){for(let t of e.content){let e=t;null!=e&&e.hasValidName||this.ValidateExternalBindings(t,n)}for(let[,t]of e.namedContent)this.ValidateExternalBindings(l(t,p),n)}else if(null!=t){let e=l(t,W);if(e&&e.isExternal){let t=e.targetPathString;if(null===t)return d("name");this._externals.has(t)||this.allowExternalFunctionFallbacks&&this.mainContentContainer.namedContent.has(t)||n.add(t)}}}ObserveVariable(e,t){if(this.IfAsyncWeCant("observe a new variable"),null===this._variableObservers&&(this._variableObservers=new Map),!this.state.variablesState.GlobalVariableExistsWithName(e))throw new Error("Cannot observe variable '"+e+"' because it wasn't declared in the ink story.");this._variableObservers.has(e)?this._variableObservers.get(e).push(t):this._variableObservers.set(e,[t])}ObserveVariables(e,t){for(let n=0,r=e.length;n<r;n++)this.ObserveVariable(e[n],t[n])}RemoveVariableObserver(e,t){if(this.IfAsyncWeCant("remove a variable observer"),null!==this._variableObservers)if(null!=t){if(this._variableObservers.has(t))if(null!=e){let n=this._variableObservers.get(t);null!=n&&(n.splice(n.indexOf(e),1),0===n.length&&this._variableObservers.delete(t))}else this._variableObservers.delete(t)}else if(null!=e){let t=this._variableObservers.keys();for(let n of t){let t=this._variableObservers.get(n);null!=t&&(t.splice(t.indexOf(e),1),0===t.length&&this._variableObservers.delete(n))}}}VariableStateDidChangeEvent(e,t){if(null===this._variableObservers)return;let n=this._variableObservers.get(e);if(void 0!==n){if(!(t instanceof w))throw new Error("Tried to get the value of a variable that isn't a standard type");let r=o(t,w);for(let t of n)t(e,r.valueObject)}}get globalTags(){return this.TagsAtStartOfFlowContainerWithPathString("")}TagsForContentAtPath(e){return this.TagsAtStartOfFlowContainerWithPathString(e)}TagsAtStartOfFlowContainerWithPathString(e){let n=new t(e),r=this.ContentAtPath(n).container;if(null===r)return d("flowContainer");for(;;){let e=r.content[0];if(!(e instanceof N))break;r=e}let i=null;for(let e of r.content){let t=l(e,M);if(!t)break;null==i&&(i=[]),i.push(t.text)}return i}BuildStringOfHierarchy(){let e=new m;return this.mainContentContainer.BuildStringOfHierarchy(e,0,this.state.currentPointer.Resolve()),e.toString()}BuildStringOfContainer(e){let t=new m;return e.BuildStringOfHierarchy(t,0,this.state.currentPointer.Resolve()),t.toString()}NextContent(){if(this.state.previousPointer=this.state.currentPointer.copy(),(this.state.divertedPointer.isNull||(this.state.currentPointer=this.state.divertedPointer.copy(),this.state.divertedPointer=F.Null,this.VisitChangedContainersDueToDivert(),this.state.currentPointer.isNull))&&!this.IncrementContentPointer()){let e=!1;this.state.callStack.CanPop(i.Function)?(this.state.PopCallStack(i.Function),this.state.inExpressionEvaluation&&this.state.PushEvaluationStack(new D),e=!0):this.state.callStack.canPopThread?(this.state.callStack.PopThread(),e=!0):this.state.TryExitFunctionEvaluationFromGame(),e&&!this.state.currentPointer.isNull&&this.NextContent()}}IncrementContentPointer(){let e=!0,t=this.state.callStack.currentElement.currentPointer.copy();if(t.index++,null===t.container)return d("pointer.container");for(;t.index>=t.container.content.length;){e=!1;let n=l(t.container.parent,N);if(n instanceof N==0)break;let r=n.content.indexOf(t.container);if(-1==r)break;if(t=new F(n,r),t.index++,e=!0,null===t.container)return d("pointer.container")}return e||(t=F.Null),this.state.callStack.currentElement.currentPointer=t.copy(),e}TryFollowDefaultInvisibleChoice(){let e=this._state.currentChoices,t=e.filter((e=>e.isInvisibleDefault));if(0==t.length||e.length>t.length)return!1;let n=t[0];return null===n.targetPath?d("choice.targetPath"):null===n.threadAtGeneration?d("choice.threadAtGeneration"):(this.state.callStack.currentThread=n.threadAtGeneration,null!==this._stateSnapshotAtLastNewline&&(this.state.callStack.currentThread=this.state.callStack.ForkThread()),this.ChoosePath(n.targetPath,!1),!0)}NextSequenceShuffleIndex(){let e=l(this.state.PopEvaluationStack(),_);if(!(e instanceof _))return this.Error("expected number of elements in sequence for shuffle index"),0;let t=this.state.currentPointer.container;if(null===t)return d("seqContainer");if(null===e.value)return d("numElementsIntVal.value");let n=e.value,r=o(this.state.PopEvaluationStack(),_).value;if(null===r)return d("seqCount");let i=r/n,a=r%n,s=t.path.toString(),u=0;for(let e=0,t=s.length;e<t;e++)u+=s.charCodeAt(e)||0;let c=u+i+this.state.storySeed,h=new K(Math.floor(c)),f=[];for(let e=0;e<n;++e)f.push(e);for(let e=0;e<=a;++e){let t=h.next()%f.length,n=f[t];if(f.splice(t,1),e==a)return n}throw new Error("Should never reach here")}Error(e,t=!1){let n=new v(e);throw n.useEndLineNumber=t,n}Warning(e){this.AddError(e,!0)}AddError(e,t=!1,n=!1){let r=this.currentDebugMetadata,i=t?"WARNING":"ERROR";if(null!=r){let t=n?r.endLineNumber:r.startLineNumber;e="RUNTIME "+i+": '"+r.fileName+"' line "+t+": "+e}else e=this.state.currentPointer.isNull?"RUNTIME "+i+": "+e:"RUNTIME "+i+": ("+this.state.currentPointer+"): "+e;this.state.AddError(e,t),t||this.state.ForceEnd()}Assert(e,t=null){if(0==e)throw null==t&&(t="Story assert"),new Error(t+" "+this.currentDebugMetadata)}get currentDebugMetadata(){let e,t=this.state.currentPointer;if(!t.isNull&&null!==t.Resolve()&&(e=t.Resolve().debugMetadata,null!==e))return e;for(let n=this.state.callStack.elements.length-1;n>=0;--n)if(t=this.state.callStack.elements[n].currentPointer,!t.isNull&&null!==t.Resolve()&&(e=t.Resolve().debugMetadata,null!==e))return e;for(let t=this.state.outputStream.length-1;t>=0;--t)if(e=this.state.outputStream[t].debugMetadata,null!==e)return e;return null}get mainContentContainer(){return this._temporaryEvaluationContainer?this._temporaryEvaluationContainer:this._mainContentContainer}}Z.inkVersionCurrent=20,function(e){var t;(t=e.OutputStateChange||(e.OutputStateChange={}))[t.NoChange=0]="NoChange",t[t.ExtendedBeyondNewline=1]="ExtendedBeyondNewline",t[t.NewlineRemoved=2]="NewlineRemoved"}(Z||(Z={})),e.InkList=y,e.Story=Z,Object.defineProperty(e,"__esModule",{value:!0})}(t)},448:(e,t,n)=>{"use strict";var r=n(294),i=n(840);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,o={};function s(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(o[e]=t,e=0;e<t.length;e++)l.add(t[e])}var c=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function m(e,t,n,r,i,a,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var S=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),C=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),x=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var F=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var W=Symbol.iterator;function L(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=W&&e[W]||e["@@iterator"])?e:null}var R,V=Object.assign;function D(e){if(void 0===R)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var j=!1;function M(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),a=r.stack.split("\n"),l=i.length-1,o=a.length-1;1<=l&&0<=o&&i[l]!==a[o];)o--;for(;1<=l&&0<=o;l--,o--)if(i[l]!==a[o]){if(1!==l||1!==o)do{if(l--,0>--o||i[l]!==a[o]){var s="\n"+i[l].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=l&&0<=o);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function z(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return M(e.type,!1);case 11:return M(e.type.render,!1);case 1:return M(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case _:return"Fragment";case C:return"Portal";case E:return"Profiler";case k:return"StrictMode";case O:return"Suspense";case N:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return B(e(t))}catch(e){}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function q(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return V({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Y(e,t){X(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return V({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ae(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Se=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,_e=null,ke=null;function Ee(e){if(e=bi(e)){if("function"!=typeof Ce)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),Ce(e.stateNode,e.type,t))}}function Pe(e){_e?ke?ke.push(e):ke=[e]:_e=e}function xe(){if(_e){var e=_e,t=ke;if(ke=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function Oe(){}var Ne=!1;function Ie(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Te(e,t,n)}finally{Ne=!1,(null!==_e||null!==ke)&&(Oe(),xe())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var Fe=!1;if(c)try{var We={};Object.defineProperty(We,"passive",{get:function(){Fe=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch(ce){Fe=!1}function Le(e,t,n,r,i,a,l,o,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Re=!1,Ve=null,De=!1,je=null,Me={onError:function(e){Re=!0,Ve=e}};function ze(e,t,n,r,i,a,l,o,s){Re=!1,Ve=null,Le.apply(Me,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Ge(e){if(Be(e)!==e)throw Error(a(188))}function $e(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var l=i.alternate;if(null===l){if(null!==(r=i.return)){n=r;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return Ge(i),e;if(l===r)return Ge(i),t;l=l.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=l;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=l;break}if(s===r){o=!0,r=i,n=l;break}s=s.sibling}if(!o){for(s=l.child;s;){if(s===n){o=!0,n=l,r=i;break}if(s===r){o=!0,r=l,n=i;break}s=s.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,qe=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,Ye=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null,lt=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(ot(e)/st|0)|0},ot=Math.log,st=Math.LN2,ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,l=268435455&n;if(0!==l){var o=l&~i;0!==o?r=ht(o):0!=(a&=l)&&(r=ht(a))}else 0!=(l=n&~i)?r=ht(l):0!==a&&(r=ht(a));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!=(4194240&a)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-lt(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0==(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-lt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function St(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var wt,Ct,_t,kt,Et,Pt=!1,xt=[],Tt=null,Ot=null,Nt=null,It=new Map,At=new Map,Ft=[],Wt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Rt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&null!==(t=bi(t))&&Ct(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Vt(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ue(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Ct(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Se=r,n.target.dispatchEvent(r),Se=null,t.shift()}return!0}function jt(e,t,n){Dt(e)&&n.delete(t)}function Mt(){Pt=!1,null!==Tt&&Dt(Tt)&&(Tt=null),null!==Ot&&Dt(Ot)&&(Ot=null),null!==Nt&&Dt(Nt)&&(Nt=null),It.forEach(jt),At.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Pt||(Pt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Mt)))}function Bt(e){function t(t){return zt(t,e)}if(0<xt.length){zt(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&zt(Tt,e),null!==Ot&&zt(Ot,e),null!==Nt&&zt(Nt,e),It.forEach(t),At.forEach(t),n=0;n<Ft.length;n++)(r=Ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ft.length&&null===(n=Ft[0]).blockedOn;)Vt(n),null===n.blockedOn&&Ft.shift()}var Ut=S.ReactCurrentBatchConfig,Gt=!0;function $t(e,t,n,r){var i=bt,a=Ut.transition;Ut.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,Ut.transition=a}}function Ht(e,t,n,r){var i=bt,a=Ut.transition;Ut.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,Ut.transition=a}}function Kt(e,t,n,r){if(Gt){var i=Qt(e,t,n,r);if(null===i)Gr(e,t,r,qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Rt(Tt,e,t,n,r,i),!0;case"dragenter":return Ot=Rt(Ot,e,t,n,r,i),!0;case"mouseover":return Nt=Rt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return It.set(a,Rt(It.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,At.set(a,Rt(At.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Wt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&Gr(e,t,r,qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var qt=null;function Qt(e,t,n,r){if(qt=null,null!==(e=vi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Yt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Yt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var l=r-e;for(t=1;t<=l&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var l in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(i):i[l]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return V(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var ln,on,sn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),hn=V({},un,{view:0,detail:0}),fn=an(hn),dn=V({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(ln=e.screenX-sn.screenX,on=e.screenY-sn.screenY):on=ln=0,sn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=an(dn),mn=an(V({},dn,{dataTransfer:0})),gn=an(V({},hn,{relatedTarget:0})),yn=an(V({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=V({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(vn),Sn=an(V({},un,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return kn}var Pn=V({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=an(Pn),Tn=an(V({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=an(V({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=an(V({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=V({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=an(In),Fn=[9,13,27,32],Wn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Rn=c&&"TextEvent"in window&&!Ln,Vn=c&&(!Wn||Ln&&8<Ln&&11>=Ln),Dn=String.fromCharCode(32),jn=!1;function Mn(e,t){switch(e){case"keyup":return-1!==Fn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1,Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function $n(e,t,n,r){Pe(r),0<(t=Hr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Kn=null;function qn(e){Dr(e,0)}function Qn(e){if(K(Si(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Yn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"==typeof er.oninput}Yn=Zn}else Yn=!1;Xn=Yn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Kn=Hn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];$n(t,Kn,e,we(e)),Ie(qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function ar(e,t){if("click"===e)return Qn(t)}function lr(e,t){if("input"===e||"change"===e)return Qn(t)}var or="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function sr(e,t){if(or(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!or(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var l=cr(n,r);i&&l&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==q(r)||(r="selectionStart"in(r=gr)&&dr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&sr(vr,r)||(vr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},kr={};function Er(e){if(_r[e])return _r[e];if(!Cr[e])return e;var t,n=Cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return _r[e]=n[t];return e}c&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);var Pr=Er("animationend"),xr=Er("animationiteration"),Tr=Er("animationstart"),Or=Er("transitionend"),Nr=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Nr.set(e,t),s(t,[e])}for(var Fr=0;Fr<Ir.length;Fr++){var Wr=Ir[Fr];Ar(Wr.toLowerCase(),"on"+(Wr[0].toUpperCase()+Wr.slice(1)))}Ar(Pr,"onAnimationEnd"),Ar(xr,"onAnimationIteration"),Ar(Tr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Or,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Vr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,l,o,s,u){if(ze.apply(this,arguments),Re){if(!Re)throw Error(a(198));var c=Ve;Re=!1,Ve=null,De||(De=!0,je=c)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var l=r.length-1;0<=l;l--){var o=r[l],s=o.instance,u=o.currentTarget;if(o=o.listener,s!==a&&i.isPropagationStopped())break e;Vr(i,o,u),a=s}else for(l=0;l<r.length;l++){if(s=(o=r[l]).instance,u=o.currentTarget,o=o.listener,s!==a&&i.isPropagationStopped())break e;Vr(i,o,u),a=s}}}if(De)throw e=je,De=!1,je=null,e}function jr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Ur(t,e,2,!1),n.add(r))}function Mr(e,t,n){var r=0;t&&(r|=4),Ur(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,l.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||Mr(t,!1,e),Mr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Mr("selectionchange",!1,t))}}function Ur(e,t,n,r){switch(Jt(t)){case 1:var i=$t;break;case 4:i=Ht;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Fe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var a=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var l=r.tag;if(3===l||4===l){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===l)for(l=r.return;null!==l;){var s=l.tag;if((3===s||4===s)&&((s=l.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;l=l.return}for(;null!==o;){if(null===(l=vi(o)))return;if(5===(s=l.tag)||6===s){r=a=l;continue e}o=o.parentNode}}r=r.return}Ie((function(){var r=a,i=we(n),l=[];e:{var o=Nr.get(e);if(void 0!==o){var s=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=xn;break;case"focusin":u="focus",s=gn;break;case"focusout":u="blur",s=gn;break;case"beforeblur":case"afterblur":s=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=On;break;case Pr:case xr:case Tr:s=yn;break;case Or:s=Nn;break;case"scroll":s=fn;break;case"wheel":s=An;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Tn}var c=0!=(4&t),h=!c&&"scroll"===e,f=c?null!==o?o+"Capture":null:o;c=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==f&&null!=(m=Ae(p,f))&&c.push($r(p,m,d))),h)break;p=p.return}0<c.length&&(o=new s(o,u,null,n,i),l.push({event:o,listeners:c}))}}if(0==(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Se||!(u=n.relatedTarget||n.fromElement)||!vi(u)&&!u[pi])&&(s||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,s?(s=r,null!==(u=(u=n.relatedTarget||n.toElement)?vi(u):null)&&(u!==(h=Be(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(s=null,u=r),s!==u)){if(c=pn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,m="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==s?o:Si(s),d=null==u?o:Si(u),(o=new c(m,p+"leave",s,n,i)).target=h,o.relatedTarget=d,m=null,vi(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=d,c.relatedTarget=h,m=c),h=m,s&&u)e:{for(f=u,p=0,d=c=s;d;d=Kr(d))p++;for(d=0,m=f;m;m=Kr(m))d++;for(;0<p-d;)c=Kr(c),p--;for(;0<d-p;)f=Kr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Kr(c),f=Kr(f)}c=null}else c=null;null!==s&&qr(l,o,s,c,!1),null!==u&&null!==h&&qr(l,h,u,c,!0)}if("select"===(s=(o=r?Si(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===s&&"file"===o.type)var g=Jn;else if(Gn(o))if(Xn)g=lr;else{g=ir;var y=rr}else(s=o.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ar);switch(g&&(g=g(e,r))?$n(l,g,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?Si(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,Sr(l,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":Sr(l,n,i)}var v;if(Wn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Mn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Vn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(v=en()):(Yt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Hr(r,b)).length&&(b=new Sn(b,e,null,n,i),l.push({event:b,listeners:y}),(v||null!==(v=zn(n)))&&(b.data=v))),(v=Rn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Dn);case"textInput":return(e=t.data)===Dn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Wn&&Mn(e,t)?(e=en(),Zt=Yt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Hr(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),l.push({event:i,listeners:r}),i.data=v)}Dr(l,t)}))}function $r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ae(e,n))&&r.unshift($r(e,a,i)),null!=(a=Ae(e,t))&&r.push($r(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,i){for(var a=t._reactName,l=[];null!==n&&n!==r;){var o=n,s=o.alternate,u=o.stateNode;if(null!==s&&s===r)break;5===o.tag&&null!==u&&(o=u,i?null!=(s=Ae(n,a))&&l.unshift($r(n,s,o)):i||null!=(s=Ae(n,a))&&l.push($r(n,s,o))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var Qr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"==typeof e?e:""+e).replace(Qr,"\n").replace(Jr,"")}function Yr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0,ai="function"==typeof Promise?Promise:void 0,li="function"==typeof queueMicrotask?queueMicrotask:void 0!==ai?function(e){return ai.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Si(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var Ci=[],_i=-1;function ki(e){return{current:e}}function Ei(e){0>_i||(e.current=Ci[_i],Ci[_i]=null,_i--)}function Pi(e,t){_i++,Ci[_i]=e.current,e.current=t}var xi={},Ti=ki(xi),Oi=ki(!1),Ni=xi;function Ii(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ai(e){return null!=e.childContextTypes}function Fi(){Ei(Oi),Ei(Ti)}function Wi(e,t,n){if(Ti.current!==xi)throw Error(a(168));Pi(Ti,t),Pi(Oi,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,U(e)||"Unknown",i));return V({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,Ni=Ti.current,Pi(Ti,e),Pi(Oi,Oi.current),!0}function Vi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(Oi),Ei(Ti),Pi(Ti,e)):Ei(Oi),Pi(Oi,n)}var Di=null,ji=!1,Mi=!1;function zi(e){null===Di?Di=[e]:Di.push(e)}function Bi(){if(!Mi&&null!==Di){Mi=!0;var e=0,t=bt;try{var n=Di;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Di=null,ji=!1}catch(t){throw null!==Di&&(Di=Di.slice(e+1)),Ke(Ze,Bi),t}finally{bt=t,Mi=!1}}return null}var Ui=S.ReactCurrentBatchConfig;function Gi(e,t){if(e&&e.defaultProps){for(var n in t=V({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $i=ki(null),Hi=null,Ki=null,qi=null;function Qi(){qi=Ki=Hi=null}function Ji(e){var t=$i.current;Ei($i),e._currentValue=t}function Xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Yi(e,t){Hi=e,qi=Ki=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(wo=!0),e.firstContext=null)}function Zi(e){var t=e._currentValue;if(qi!==e)if(e={context:e,memoizedValue:t,next:null},null===Ki){if(null===Hi)throw Error(a(308));Ki=e,Hi.dependencies={lanes:0,firstContext:e}}else Ki=Ki.next=e;return t}var ea=null,ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function aa(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tu(e)?(null===(e=n.interleaved)?(t.next=t,null===ea?ea=[n]:ea.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function la(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function oa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=l:a=a.next=l,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sa(e,t,n,r){var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var s=o,u=s.next;s.next=null,null===l?a=u:l.next=u,l=s;var c=e.alternate;null!==c&&(o=(c=c.updateQueue).lastBaseUpdate)!==l&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=s)}if(null!==a){var h=i.baseState;for(l=0,c=u=s=null,o=a;;){var f=o.lane,d=o.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(f=t,d=n,m.tag){case 1:if("function"==typeof(p=m.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(f="function"==typeof(p=m.payload)?p.call(d,h,f):p))break e;h=V({},h,f);break e;case 2:ta=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[o]:f.push(o))}else d={eventTime:d,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=d,s=h):c=c.next=d,l|=f;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(f=o).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(s=h),i.baseState=s,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{l|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=l,e.lanes=l,e.memoizedState=h}}function ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var ca=(new r.Component).refs;function ha(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:V({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fa={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xs(),i=Ys(e),a=ia(r,i);a.payload=t,null!=n&&(a.callback=n),aa(e,a),null!==(t=Zs(e,i,r))&&la(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xs(),i=Ys(e),a=ia(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),aa(e,a),null!==(t=Zs(e,i,r))&&la(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xs(),r=Ys(e),i=ia(n,r);i.tag=2,null!=t&&(i.callback=t),aa(e,i),null!==(t=Zs(e,r,n))&&la(t,e,r)}};function da(e,t,n,r,i,a,l){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,l):!(t.prototype&&t.prototype.isPureReactComponent&&sr(n,r)&&sr(i,a))}function pa(e,t,n){var r=!1,i=xi,a=t.contextType;return"object"==typeof a&&null!==a?a=Zi(a):(i=Ai(t)?Ni:Ti.current,a=(r=null!=(r=t.contextTypes))?Ii(e,i):xi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ma(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fa.enqueueReplaceState(t,t.state,null)}function ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ca,na(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=Zi(a):(a=Ai(t)?Ni:Ti.current,i.context=Ii(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(ha(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&fa.enqueueReplaceState(i,i.state,null),sa(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}var ya=[],va=0,ba=null,Sa=0,wa=[],Ca=0,_a=null,ka=1,Ea="";function Pa(e,t){ya[va++]=Sa,ya[va++]=ba,ba=e,Sa=t}function xa(e,t,n){wa[Ca++]=ka,wa[Ca++]=Ea,wa[Ca++]=_a,_a=e;var r=ka;e=Ea;var i=32-lt(r)-1;r&=~(1<<i),n+=1;var a=32-lt(t)+i;if(30<a){var l=i-i%5;a=(r&(1<<l)-1).toString(32),r>>=l,i-=l,ka=1<<32-lt(t)+i|n<<i|r,Ea=a+e}else ka=1<<a|n<<i|r,Ea=e}function Ta(e){null!==e.return&&(Pa(e,1),xa(e,1,0))}function Oa(e){for(;e===ba;)ba=ya[--va],ya[va]=null,Sa=ya[--va],ya[va]=null;for(;e===_a;)_a=wa[--Ca],wa[Ca]=null,Ea=wa[--Ca],wa[Ca]=null,ka=wa[--Ca],wa[Ca]=null}var Na=null,Ia=null,Aa=!1,Fa=null;function Wa(e,t){var n=Nu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function La(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Na=e,Ia=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Na=e,Ia=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==_a?{id:ka,overflow:Ea}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Na=e,Ia=null,!0);default:return!1}}function Ra(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function Va(e){if(Aa){var t=Ia;if(t){var n=t;if(!La(e,t)){if(Ra(e))throw Error(a(418));t=ui(n.nextSibling);var r=Na;t&&La(e,t)?Wa(r,n):(e.flags=-4097&e.flags|2,Aa=!1,Na=e)}}else{if(Ra(e))throw Error(a(418));e.flags=-4097&e.flags|2,Aa=!1,Na=e}}}function Da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Na=e}function ja(e){if(e!==Na)return!1;if(!Aa)return Da(e),Aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=Ia)){if(Ra(e)){for(e=Ia;e;)e=ui(e.nextSibling);throw Error(a(418))}for(;t;)Wa(e,t),t=ui(t.nextSibling)}if(Da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ia=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ia=null}}else Ia=Na?ui(e.stateNode.nextSibling):null;return!0}function Ma(){Ia=Na=null,Aa=!1}function za(e){null===Fa?Fa=[e]:Fa.push(e)}function Ba(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,l=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=i.refs;t===ca&&(t=i.refs={}),null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ua(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ga(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Au(e,t)).index=0,e.sibling=null,e}function l(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ru(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===_?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===A&&Ga(a)===t.type)?((r=i(t,n.props)).ref=Ba(e,t,n),r.return=e,r):((r=Fu(n.type,n.key,n.props,null,e.mode,r)).ref=Ba(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Wu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Ru(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Fu(t.type,t.key,t.props,null,e.mode,n)).ref=Ba(e,null,t),n.return=e,n;case C:return(t=Vu(t,e.mode,n)).return=e,t;case A:return f(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Wu(t,e.mode,n,null)).return=e,t;Ua(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?u(e,t,n,r):null;case C:return n.key===i?c(e,t,n,r):null;case A:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Ua(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case C:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Ua(t,r)}return null}function m(i,a,o,s){for(var u=null,c=null,h=a,m=a=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=d(i,h,o[m],s);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),a=l(y,a,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===o.length)return n(i,h),Aa&&Pa(i,m),u;if(null===h){for(;m<o.length;m++)null!==(h=f(i,o[m],s))&&(a=l(h,a,m),null===c?u=h:c.sibling=h,c=h);return Aa&&Pa(i,m),u}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],s))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=l(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),Aa&&Pa(i,m),u}function g(i,o,s,u){var c=L(s);if("function"!=typeof c)throw Error(a(150));if(null==(s=c.call(s)))throw Error(a(151));for(var h=c=null,m=o,g=o=0,y=null,v=s.next();null!==m&&!v.done;g++,v=s.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=d(i,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),o=l(b,o,g),null===h?c=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),Aa&&Pa(i,g),c;if(null===m){for(;!v.done;g++,v=s.next())null!==(v=f(i,v.value,u))&&(o=l(v,o,g),null===h?c=v:h.sibling=v,h=v);return Aa&&Pa(i,g),c}for(m=r(i,m);!v.done;g++,v=s.next())null!==(v=p(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=l(v,o,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),Aa&&Pa(i,g),c}return function e(r,a,l,s){if("object"==typeof l&&null!==l&&l.type===_&&null===l.key&&(l=l.props.children),"object"==typeof l&&null!==l){switch(l.$$typeof){case w:e:{for(var u=l.key,c=a;null!==c;){if(c.key===u){if((u=l.type)===_){if(7===c.tag){n(r,c.sibling),(a=i(c,l.props.children)).return=r,r=a;break e}}else if(c.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===A&&Ga(u)===c.type){n(r,c.sibling),(a=i(c,l.props)).ref=Ba(r,c,l),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}l.type===_?((a=Wu(l.props.children,r.mode,s,l.key)).return=r,r=a):((s=Fu(l.type,l.key,l.props,null,r.mode,s)).ref=Ba(r,a,l),s.return=r,r=s)}return o(r);case C:e:{for(c=l.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===l.containerInfo&&a.stateNode.implementation===l.implementation){n(r,a.sibling),(a=i(a,l.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vu(l,r.mode,s)).return=r,r=a}return o(r);case A:return e(r,a,(c=l._init)(l._payload),s)}if(te(l))return m(r,a,l,s);if(L(l))return g(r,a,l,s);Ua(r,l)}return"string"==typeof l&&""!==l||"number"==typeof l?(l=""+l,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,l)).return=r,r=a):(n(r,a),(a=Ru(l,r.mode,s)).return=r,r=a),o(r)):n(r,a)}}var Ha=$a(!0),Ka=$a(!1),qa={},Qa=ki(qa),Ja=ki(qa),Xa=ki(qa);function Ya(e){if(e===qa)throw Error(a(174));return e}function Za(e,t){switch(Pi(Xa,t),Pi(Ja,e),Pi(Qa,qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Qa),Pi(Qa,t)}function el(){Ei(Qa),Ei(Ja),Ei(Xa)}function tl(e){Ya(Xa.current);var t=Ya(Qa.current),n=se(t,e.type);t!==n&&(Pi(Ja,e),Pi(Qa,n))}function nl(e){Ja.current===e&&(Ei(Qa),Ei(Ja))}var rl=ki(0);function il(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var al=[];function ll(){for(var e=0;e<al.length;e++)al[e]._workInProgressVersionPrimary=null;al.length=0}var ol=S.ReactCurrentDispatcher,sl=S.ReactCurrentBatchConfig,ul=0,cl=null,hl=null,fl=null,dl=!1,pl=!1,ml=0,gl=0;function yl(){throw Error(a(321))}function vl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function bl(e,t,n,r,i,l){if(ul=l,cl=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ol.current=null===e||null===e.memoizedState?no:ro,e=n(r,i),pl){l=0;do{if(pl=!1,ml=0,25<=l)throw Error(a(301));l+=1,fl=hl=null,t.updateQueue=null,ol.current=io,e=n(r,i)}while(pl)}if(ol.current=to,t=null!==hl&&null!==hl.next,ul=0,fl=hl=cl=null,dl=!1,t)throw Error(a(300));return e}function Sl(){var e=0!==ml;return ml=0,e}function wl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===fl?cl.memoizedState=fl=e:fl=fl.next=e,fl}function Cl(){if(null===hl){var e=cl.alternate;e=null!==e?e.memoizedState:null}else e=hl.next;var t=null===fl?cl.memoizedState:fl.next;if(null!==t)fl=t,hl=e;else{if(null===e)throw Error(a(310));e={memoizedState:(hl=e).memoizedState,baseState:hl.baseState,baseQueue:hl.baseQueue,queue:hl.queue,next:null},null===fl?cl.memoizedState=fl=e:fl=fl.next=e}return fl}function _l(e,t){return"function"==typeof t?t(e):t}function kl(e){var t=Cl(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=hl,i=r.baseQueue,l=n.pending;if(null!==l){if(null!==i){var o=i.next;i.next=l.next,l.next=o}r.baseQueue=i=l,n.pending=null}if(null!==i){l=i.next,r=r.baseState;var s=o=null,u=null,c=l;do{var h=c.lane;if((ul&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,cl.lanes|=h,Fs|=h}c=c.next}while(null!==c&&c!==l);null===u?o=r:u.next=s,or(r,t.memoizedState)||(wo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{l=i.lane,cl.lanes|=l,Fs|=l,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function El(e){var t=Cl(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,l=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{l=e(l,o.action),o=o.next}while(o!==i);or(l,t.memoizedState)||(wo=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Pl(){}function xl(e,t){var n=cl,r=Cl(),i=t(),l=!or(r.memoizedState,i);if(l&&(r.memoizedState=i,wo=!0),r=r.queue,Dl(Nl.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||null!==fl&&1&fl.memoizedState.tag){if(n.flags|=2048,Fl(9,Ol.bind(null,n,r,i,t),void 0,null),null===Ps)throw Error(a(349));0!=(30&ul)||Tl(n,t,i)}return i}function Tl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=cl.updateQueue)?(t={lastEffect:null,stores:null},cl.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ol(e,t,n,r){t.value=n,t.getSnapshot=r,Il(t)&&Zs(e,1,-1)}function Nl(e,t,n){return n((function(){Il(t)&&Zs(e,1,-1)}))}function Il(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(e){return!0}}function Al(e){var t=wl();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_l,lastRenderedState:e},t.queue=e,e=e.dispatch=Jl.bind(null,cl,e),[t.memoizedState,e]}function Fl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=cl.updateQueue)?(t={lastEffect:null,stores:null},cl.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Wl(){return Cl().memoizedState}function Ll(e,t,n,r){var i=wl();cl.flags|=e,i.memoizedState=Fl(1|t,n,void 0,void 0===r?null:r)}function Rl(e,t,n,r){var i=Cl();r=void 0===r?null:r;var a=void 0;if(null!==hl){var l=hl.memoizedState;if(a=l.destroy,null!==r&&vl(r,l.deps))return void(i.memoizedState=Fl(t,n,a,r))}cl.flags|=e,i.memoizedState=Fl(1|t,n,a,r)}function Vl(e,t){return Ll(8390656,8,e,t)}function Dl(e,t){return Rl(2048,8,e,t)}function jl(e,t){return Rl(4,2,e,t)}function Ml(e,t){return Rl(4,4,e,t)}function zl(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bl(e,t,n){return n=null!=n?n.concat([e]):null,Rl(4,4,zl.bind(null,t,e),n)}function Ul(){}function Gl(e,t){var n=Cl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&vl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $l(e,t){var n=Cl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&vl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hl(e,t,n){return 0==(21&ul)?(e.baseState&&(e.baseState=!1,wo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),cl.lanes|=n,Fs|=n,e.baseState=!0),t)}function Kl(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=sl.transition;sl.transition={};try{e(!1),t()}finally{bt=n,sl.transition=r}}function ql(){return Cl().memoizedState}function Ql(e,t,n){var r=Ys(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xl(e)?Yl(t,n):(Zl(e,t,n),null!==(e=Zs(e,r,n=Xs()))&&eo(e,t,r))}function Jl(e,t,n){var r=Ys(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xl(e))Yl(t,i);else{Zl(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var l=t.lastRenderedState,o=a(l,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,l))return}catch(e){}null!==(e=Zs(e,r,n=Xs()))&&eo(e,t,r)}}function Xl(e){var t=e.alternate;return e===cl||null!==t&&t===cl}function Yl(e,t){pl=dl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zl(e,t,n){tu(e)?(null===(e=t.interleaved)?(n.next=n,null===ea?ea=[t]:ea.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function eo(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var to={readContext:Zi,useCallback:yl,useContext:yl,useEffect:yl,useImperativeHandle:yl,useInsertionEffect:yl,useLayoutEffect:yl,useMemo:yl,useReducer:yl,useRef:yl,useState:yl,useDebugValue:yl,useDeferredValue:yl,useTransition:yl,useMutableSource:yl,useSyncExternalStore:yl,useId:yl,unstable_isNewReconciler:!1},no={readContext:Zi,useCallback:function(e,t){return wl().memoizedState=[e,void 0===t?null:t],e},useContext:Zi,useEffect:Vl,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ll(4194308,4,zl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ll(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ll(4,2,e,t)},useMemo:function(e,t){var n=wl();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wl();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ql.bind(null,cl,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},wl().memoizedState=e},useState:Al,useDebugValue:Ul,useDeferredValue:function(e){return wl().memoizedState=e},useTransition:function(){var e=Al(!1),t=e[0];return e=Kl.bind(null,e[1]),wl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=cl,i=wl();if(Aa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ps)throw Error(a(349));0!=(30&ul)||Tl(r,t,n)}i.memoizedState=n;var l={value:n,getSnapshot:t};return i.queue=l,Vl(Nl.bind(null,r,l,e),[e]),r.flags|=2048,Fl(9,Ol.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=wl(),t=Ps.identifierPrefix;if(Aa){var n=Ea;t=":"+t+"R"+(n=(ka&~(1<<32-lt(ka)-1)).toString(32)+n),0<(n=ml++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=gl++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ro={readContext:Zi,useCallback:Gl,useContext:Zi,useEffect:Dl,useImperativeHandle:Bl,useInsertionEffect:jl,useLayoutEffect:Ml,useMemo:$l,useReducer:kl,useRef:Wl,useState:function(){return kl(_l)},useDebugValue:Ul,useDeferredValue:function(e){return Hl(Cl(),hl.memoizedState,e)},useTransition:function(){return[kl(_l)[0],Cl().memoizedState]},useMutableSource:Pl,useSyncExternalStore:xl,useId:ql,unstable_isNewReconciler:!1},io={readContext:Zi,useCallback:Gl,useContext:Zi,useEffect:Dl,useImperativeHandle:Bl,useInsertionEffect:jl,useLayoutEffect:Ml,useMemo:$l,useReducer:El,useRef:Wl,useState:function(){return El(_l)},useDebugValue:Ul,useDeferredValue:function(e){var t=Cl();return null===hl?t.memoizedState=e:Hl(t,hl.memoizedState,e)},useTransition:function(){return[El(_l)[0],Cl().memoizedState]},useMutableSource:Pl,useSyncExternalStore:xl,useId:ql,unstable_isNewReconciler:!1};function ao(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function lo(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var oo,so,uo,co="function"==typeof WeakMap?WeakMap:Map;function ho(e,t,n){(n=ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zs||(zs=!0,Bs=r),lo(0,t)},n}function fo(e,t,n){(n=ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){lo(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){lo(0,t),"function"!=typeof r&&(null===Us?Us=new Set([this]):Us.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function po(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new co;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ku.bind(null,e,t,n),t.then(e,e))}function mo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function go(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ia(-1,1)).tag=2,aa(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function yo(e,t){if(!Aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function vo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bo(e,t,n){var r=t.pendingProps;switch(Oa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vo(t),null;case 1:case 17:return Ai(t.type)&&Fi(),vo(t),null;case 3:return r=t.stateNode,el(),Ei(Oi),Ei(Ti),ll(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ja(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==Fa&&(au(Fa),Fa=null))),vo(t),null;case 5:nl(t);var i=Ya(Xa.current);if(n=t.type,null!==e&&null!=t.stateNode)so(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return vo(t),null}if(e=Ya(Qa.current),ja(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[fi]=t,r[di]=l,e=0!=(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":J(r,l),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},jr("invalid",r);break;case"textarea":ie(r,l),jr("invalid",r)}for(var s in ve(n,l),i=null,l)if(l.hasOwnProperty(s)){var u=l[s];"children"===s?"string"==typeof u?r.textContent!==u&&(!0!==l.suppressHydrationWarning&&Yr(r.textContent,u,e),i=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(!0!==l.suppressHydrationWarning&&Yr(r.textContent,u,e),i=["children",""+u]):o.hasOwnProperty(s)&&null!=u&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":H(r),Z(r,l,!0);break;case"textarea":H(r),le(r);break;case"select":case"option":break;default:"function"==typeof l.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[fi]=t,e[di]=r,oo(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":J(e,r),i=Q(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=V({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(l in ve(n,i),u=i)if(u.hasOwnProperty(l)){var c=u[l];"style"===l?ge(e,c):"dangerouslySetInnerHTML"===l?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===l?"string"==typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"==typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(o.hasOwnProperty(l)?null!=c&&"onScroll"===l&&jr("scroll",e):null!=c&&b(e,l,c,s))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(l=r.value)?ne(e,!!r.multiple,l,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return vo(t),null;case 6:if(e&&null!=t.stateNode)uo(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ya(Xa.current),Ya(Qa.current),ja(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(l=r.nodeValue!==n)&&null!==(e=Na))switch(e.tag){case 3:Yr(r.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!=(1&e.mode))}l&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return vo(t),null;case 13:if(Ei(rl),r=t.memoizedState,Aa&&null!==Ia&&0!=(1&t.mode)&&0==(128&t.flags)){for(r=Ia;r;)r=ui(r.nextSibling);return Ma(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=ja(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[fi]=t}else Ma(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return vo(t),null}return null!==Fa&&(au(Fa),Fa=null),0!=(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?ja(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&rl.current)?0===Is&&(Is=3):pu())),null!==t.updateQueue&&(t.flags|=4),vo(t),null);case 4:return el(),null===e&&Br(t.stateNode.containerInfo),vo(t),null;case 10:return Ji(t.type._context),vo(t),null;case 19:if(Ei(rl),null===(l=t.memoizedState))return vo(t),null;if(r=0!=(128&t.flags),null===(s=l.rendering))if(r)yo(l,!1);else{if(0!==Is||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=il(e))){for(t.flags|=128,yo(l,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(l=n).flags&=14680066,null===(s=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,l.type=s.type,e=s.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pi(rl,1&rl.current|2),t.child}e=e.sibling}null!==l.tail&&Xe()>js&&(t.flags|=128,r=!0,yo(l,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=il(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),yo(l,!0),null===l.tail&&"hidden"===l.tailMode&&!s.alternate&&!Aa)return vo(t),null}else 2*Xe()-l.renderingStartTime>js&&1073741824!==n&&(t.flags|=128,r=!0,yo(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=l.last)?n.sibling=s:t.child=s,l.last=s)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Xe(),t.sibling=null,n=rl.current,Pi(rl,r?1&n|2:1&n),t):(vo(t),null);case 22:case 23:return cu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&Os)&&(vo(t),6&t.subtreeFlags&&(t.flags|=8192)):vo(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}oo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},so=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ya(Qa.current);var a,l=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),l=[];break;case"select":i=V({},i,{value:void 0}),r=V({},r,{value:void 0}),l=[];break;case"textarea":i=re(e,i),r=re(e,r),l=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Zr)}for(c in ve(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in r){var u=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==s&&(null!=u||null!=s))if("style"===c)if(s){for(a in s)!s.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&s[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(l||(l=[]),l.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,s=s?s.__html:void 0,null!=u&&s!==u&&(l=l||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(l=l||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&jr("scroll",e),l||s===u||(l=[])):(l=l||[]).push(c,u))}n&&(l=l||[]).push("style",n);var c=l;(t.updateQueue=c)&&(t.flags|=4)}},uo=function(e,t,n,r){n!==r&&(t.flags|=4)};var So=S.ReactCurrentOwner,wo=!1;function Co(e,t,n,r){t.child=null===e?Ka(t,null,n,r):Ha(t,e.child,n,r)}function _o(e,t,n,r,i){n=n.render;var a=t.ref;return Yi(t,i),r=bl(e,t,n,r,a,i),n=Sl(),null===e||wo?(Aa&&n&&Ta(t),t.flags|=1,Co(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Go(e,t,i))}function ko(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||Iu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Eo(e,t,a,r,i))}if(a=e.child,0==(e.lanes&i)){var l=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(l,r)&&e.ref===t.ref)return Go(e,t,i)}return t.flags|=1,(e=Au(a,r)).ref=t.ref,e.return=t,t.child=e}function Eo(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(wo=!1,t.pendingProps=r=a,0==(e.lanes&i))return t.lanes=e.lanes,Go(e,t,i);0!=(131072&e.flags)&&(wo=!0)}}return To(e,t,n,r,i)}function Po(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pi(Ns,Os),Os|=n;else{if(0==(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pi(Ns,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Pi(Ns,Os),Os|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Pi(Ns,Os),Os|=r;return Co(e,t,i,n),t.child}function xo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function To(e,t,n,r,i){var a=Ai(n)?Ni:Ti.current;return a=Ii(t,a),Yi(t,i),n=bl(e,t,n,r,a,i),r=Sl(),null===e||wo?(Aa&&r&&Ta(t),t.flags|=1,Co(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Go(e,t,i))}function Oo(e,t,n,r,i){if(Ai(n)){var a=!0;Ri(t)}else a=!1;if(Yi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),pa(t,n,r),ga(t,n,r,i),r=!0;else if(null===e){var l=t.stateNode,o=t.memoizedProps;l.props=o;var s=l.context,u=n.contextType;u="object"==typeof u&&null!==u?Zi(u):Ii(t,u=Ai(n)?Ni:Ti.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof l.getSnapshotBeforeUpdate;h||"function"!=typeof l.UNSAFE_componentWillReceiveProps&&"function"!=typeof l.componentWillReceiveProps||(o!==r||s!==u)&&ma(t,l,r,u),ta=!1;var f=t.memoizedState;l.state=f,sa(t,r,l,i),s=t.memoizedState,o!==r||f!==s||Oi.current||ta?("function"==typeof c&&(ha(t,n,c,r),s=t.memoizedState),(o=ta||da(t,n,o,r,f,s,u))?(h||"function"!=typeof l.UNSAFE_componentWillMount&&"function"!=typeof l.componentWillMount||("function"==typeof l.componentWillMount&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"==typeof l.componentDidMount&&(t.flags|=4194308)):("function"==typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),l.props=r,l.state=s,l.context=u,r=o):("function"==typeof l.componentDidMount&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,ra(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Gi(t.type,o),l.props=u,h=t.pendingProps,f=l.context,s="object"==typeof(s=n.contextType)&&null!==s?Zi(s):Ii(t,s=Ai(n)?Ni:Ti.current);var d=n.getDerivedStateFromProps;(c="function"==typeof d||"function"==typeof l.getSnapshotBeforeUpdate)||"function"!=typeof l.UNSAFE_componentWillReceiveProps&&"function"!=typeof l.componentWillReceiveProps||(o!==h||f!==s)&&ma(t,l,r,s),ta=!1,f=t.memoizedState,l.state=f,sa(t,r,l,i);var p=t.memoizedState;o!==h||f!==p||Oi.current||ta?("function"==typeof d&&(ha(t,n,d,r),p=t.memoizedState),(u=ta||da(t,n,u,r,f,p,s)||!1)?(c||"function"!=typeof l.UNSAFE_componentWillUpdate&&"function"!=typeof l.componentWillUpdate||("function"==typeof l.componentWillUpdate&&l.componentWillUpdate(r,p,s),"function"==typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(r,p,s)),"function"==typeof l.componentDidUpdate&&(t.flags|=4),"function"==typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof l.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof l.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),l.props=r,l.state=p,l.context=s,r=u):("function"!=typeof l.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof l.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return No(e,t,n,r,a,i)}function No(e,t,n,r,i,a){xo(e,t);var l=0!=(128&t.flags);if(!r&&!l)return i&&Vi(t,n,!1),Go(e,t,a);r=t.stateNode,So.current=t;var o=l&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&l?(t.child=Ha(t,e.child,null,a),t.child=Ha(t,null,o,a)):Co(e,t,o,a),t.memoizedState=r.state,i&&Vi(t,n,!0),t.child}function Io(e){var t=e.stateNode;t.pendingContext?Wi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Wi(0,t.context,!1),Za(e,t.containerInfo)}function Ao(e,t,n,r,i){return Ma(),za(i),t.flags|=256,Co(e,t,n,r),t.child}var Fo={dehydrated:null,treeContext:null,retryLane:0};function Wo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lo(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Ro(e,t,n){var r,i=t.pendingProps,l=rl.current,o=!1,s=0!=(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!=(2&l)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),Pi(rl,1&l),null===e)return Va(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0==(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lu(l,i,0,null),e=Wu(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Wo(n),t.memoizedState=Fo,e):Vo(t,l));if(null!==(l=e.memoizedState)){if(null!==(r=l.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Mo(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,l=t.mode,i=Lu({mode:"visible",children:i.children},l,0,null),(o=Wu(o,l,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,0!=(1&t.mode)&&Ha(t,e.child,null,n),t.child.memoizedState=Wo(n),t.memoizedState=Fo,o);if(0==(1&t.mode))t=Mo(e,t,n,null);else if("$!"===r.data)t=Mo(e,t,n,Error(a(419)));else if(i=0!=(n&e.childLanes),wo||i){if(null!==(i=Ps)){switch(n&-n){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(i=0!=(o&(i.suspendedLanes|n))?0:o)&&i!==l.retryLane&&(l.retryLane=i,Zs(e,i,-1))}pu(),t=Mo(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Pu.bind(null,e),r._reactRetry=t,t=null):(n=l.treeContext,Ia=ui(r.nextSibling),Na=t,Aa=!0,Fa=null,null!==n&&(wa[Ca++]=ka,wa[Ca++]=Ea,wa[Ca++]=_a,ka=n.id,Ea=n.overflow,_a=t),(t=Vo(t,t.pendingProps.children)).flags|=4096);return t}return o?(i=jo(e,t,i.children,i.fallback,n),o=t.child,l=e.child.memoizedState,o.memoizedState=null===l?Wo(n):Lo(l,n),o.childLanes=e.childLanes&~n,t.memoizedState=Fo,i):(n=Do(e,t,i.children,n),t.memoizedState=null,n)}return o?(i=jo(e,t,i.children,i.fallback,n),o=t.child,l=e.child.memoizedState,o.memoizedState=null===l?Wo(n):Lo(l,n),o.childLanes=e.childLanes&~n,t.memoizedState=Fo,i):(n=Do(e,t,i.children,n),t.memoizedState=null,n)}function Vo(e,t){return(t=Lu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Do(e,t,n,r){var i=e.child;return e=i.sibling,n=Au(i,{mode:"visible",children:n}),0==(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function jo(e,t,n,r,i){var a=t.mode,l=(e=e.child).sibling,o={mode:"hidden",children:n};return 0==(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=o,t.deletions=null):(n=Au(e,o)).subtreeFlags=14680064&e.subtreeFlags,null!==l?r=Au(l,r):(r=Wu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Mo(e,t,n,r){return null!==r&&za(r),Ha(t,e.child,null,n),(e=Vo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Xi(e.return,t,n)}function Bo(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Uo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Co(e,t,r.children,n),0!=(2&(r=rl.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zo(e,n,t);else if(19===e.tag)zo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Pi(rl,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===il(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bo(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===il(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bo(t,!0,n,null,a);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Go(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Au(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Au(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $o(e,t){switch(Oa(t),t.tag){case 1:return Ai(t.type)&&Fi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return el(),Ei(Oi),Ei(Ti),ll(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return nl(t),null;case 13:if(Ei(rl),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Ma()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(rl),null;case 4:return el(),null;case 10:return Ji(t.type._context),null;case 22:case 23:return cu(),null;default:return null}}var Ho=!1,Ko=!1,qo="function"==typeof WeakSet?WeakSet:Set,Qo=null;function Jo(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){_u(e,t,n)}else n.current=null}function Xo(e,t,n){try{n()}catch(n){_u(e,t,n)}}var Yo=!1;function Zo(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Xo(t,n,a)}i=i.next}while(i!==r)}}function es(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ts(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function ns(e){var t=e.alternate;null!==t&&(e.alternate=null,ns(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[mi],delete t[gi],delete t[yi]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rs(e){return 5===e.tag||3===e.tag||4===e.tag}function is(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function as(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(as(e,t,n),e=e.sibling;null!==e;)as(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var os=null,ss=!1;function us(e,t,n){for(n=n.child;null!==n;)cs(e,t,n),n=n.sibling}function cs(e,t,n){if(at&&"function"==typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(e){}switch(n.tag){case 5:Ko||Jo(n,t);case 6:var r=os,i=ss;os=null,us(e,t,n),ss=i,null!==(os=r)&&(ss?(e=os,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):os.removeChild(n.stateNode));break;case 18:null!==os&&(ss?(e=os,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(os,n.stateNode));break;case 4:r=os,i=ss,os=n.stateNode.containerInfo,ss=!0,us(e,t,n),os=r,ss=i;break;case 0:case 11:case 14:case 15:if(!Ko&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var a=i,l=a.destroy;a=a.tag,void 0!==l&&(0!=(2&a)||0!=(4&a))&&Xo(n,t,l),i=i.next}while(i!==r)}us(e,t,n);break;case 1:if(!Ko&&(Jo(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){_u(n,t,e)}us(e,t,n);break;case 21:us(e,t,n);break;case 22:1&n.mode?(Ko=(r=Ko)||null!==n.memoizedState,us(e,t,n),Ko=r):us(e,t,n);break;default:us(e,t,n)}}function hs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qo),t.forEach((function(t){var r=xu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function fs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var l=e,o=t,s=o;e:for(;null!==s;){switch(s.tag){case 5:os=s.stateNode,ss=!1;break e;case 3:case 4:os=s.stateNode.containerInfo,ss=!0;break e}s=s.return}if(null===os)throw Error(a(160));cs(l,o,i),os=null,ss=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(e){_u(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ds(t,e),t=t.sibling}function ds(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fs(t,e),ps(e),4&r){try{Zo(3,e,e.return),es(3,e)}catch(t){_u(e,e.return,t)}try{Zo(5,e,e.return)}catch(t){_u(e,e.return,t)}}break;case 1:fs(t,e),ps(e),512&r&&null!==n&&Jo(n,n.return);break;case 5:if(fs(t,e),ps(e),512&r&&null!==n&&Jo(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(t){_u(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var l=e.memoizedProps,o=null!==n?n.memoizedProps:l,s=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===s&&"radio"===l.type&&null!=l.name&&X(i,l),be(s,o);var c=be(s,l);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];"style"===h?ge(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):b(i,h,f,c)}switch(s){case"input":Y(i,l);break;case"textarea":ae(i,l);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!l.multiple;var p=l.value;null!=p?ne(i,!!l.multiple,p,!1):d!==!!l.multiple&&(null!=l.defaultValue?ne(i,!!l.multiple,l.defaultValue,!0):ne(i,!!l.multiple,l.multiple?[]:"",!1))}i[di]=l}catch(t){_u(e,e.return,t)}}break;case 6:if(fs(t,e),ps(e),4&r){if(null===e.stateNode)throw Error(a(162));c=e.stateNode,h=e.memoizedProps;try{c.nodeValue=h}catch(t){_u(e,e.return,t)}}break;case 3:if(fs(t,e),ps(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(t){_u(e,e.return,t)}break;case 4:default:fs(t,e),ps(e);break;case 13:fs(t,e),ps(e),8192&(c=e.child).flags&&null!==c.memoizedState&&(null===c.alternate||null===c.alternate.memoizedState)&&(Ds=Xe()),4&r&&hs(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(Ko=(h=Ko)||c,fs(t,e),Ko=h):fs(t,e),ps(e),8192&r){h=null!==e.memoizedState;e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,h?"function"==typeof(l=i.style).setProperty?l.setProperty("display","none","important"):l.display="none":(s=d.stateNode,o=null!=(u=d.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,s.style.display=me("display",o))}catch(t){_u(e,e.return,t)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=h?"":d.memoizedProps}catch(t){_u(e,e.return,t)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}if(h&&!c&&0!=(1&e.mode))for(Qo=e,e=e.child;null!==e;){for(c=Qo=e;null!==Qo;){switch(f=(h=Qo).child,h.tag){case 0:case 11:case 14:case 15:Zo(4,h,h.return);break;case 1:if(Jo(h,h.return),"function"==typeof(l=h.stateNode).componentWillUnmount){d=h,p=h.return;try{i=d,l.props=i.memoizedProps,l.state=i.memoizedState,l.componentWillUnmount()}catch(e){_u(d,p,e)}}break;case 5:Jo(h,h.return);break;case 22:if(null!==h.memoizedState){vs(c);continue}}null!==f?(f.return=h,Qo=f):vs(c)}e=e.sibling}}break;case 19:fs(t,e),ps(e),4&r&&hs(e);case 21:}}function ps(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(rs(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),ls(e,is(e),i);break;case 3:case 4:var l=r.stateNode.containerInfo;as(e,is(e),l);break;default:throw Error(a(161))}}catch(t){_u(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ms(e,t,n){Qo=e,gs(e,t,n)}function gs(e,t,n){for(var r=0!=(1&e.mode);null!==Qo;){var i=Qo,a=i.child;if(22===i.tag&&r){var l=null!==i.memoizedState||Ho;if(!l){var o=i.alternate,s=null!==o&&null!==o.memoizedState||Ko;o=Ho;var u=Ko;if(Ho=l,(Ko=s)&&!u)for(Qo=i;null!==Qo;)s=(l=Qo).child,22===l.tag&&null!==l.memoizedState?bs(i):null!==s?(s.return=l,Qo=s):bs(i);for(;null!==a;)Qo=a,gs(a,t,n),a=a.sibling;Qo=i,Ho=o,Ko=u}ys(e)}else 0!=(8772&i.subtreeFlags)&&null!==a?(a.return=i,Qo=a):ys(e)}}function ys(e){for(;null!==Qo;){var t=Qo;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ko||es(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ko)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Gi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&ua(t,l,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ua(t,o,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Bt(f)}}}break;default:throw Error(a(163))}Ko||512&t.flags&&ts(t)}catch(e){_u(t,t.return,e)}}if(t===e){Qo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qo=n;break}Qo=t.return}}function vs(e){for(;null!==Qo;){var t=Qo;if(t===e){Qo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qo=n;break}Qo=t.return}}function bs(e){for(;null!==Qo;){var t=Qo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{es(4,t)}catch(e){_u(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){_u(t,i,e)}}var a=t.return;try{ts(t)}catch(e){_u(t,a,e)}break;case 5:var l=t.return;try{ts(t)}catch(e){_u(t,l,e)}}}catch(e){_u(t,t.return,e)}if(t===e){Qo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Qo=o;break}Qo=t.return}}var Ss,ws=Math.ceil,Cs=S.ReactCurrentDispatcher,_s=S.ReactCurrentOwner,ks=S.ReactCurrentBatchConfig,Es=0,Ps=null,xs=null,Ts=0,Os=0,Ns=ki(0),Is=0,As=null,Fs=0,Ws=0,Ls=0,Rs=null,Vs=null,Ds=0,js=1/0,Ms=null,zs=!1,Bs=null,Us=null,Gs=!1,$s=null,Hs=0,Ks=0,qs=null,Qs=-1,Js=0;function Xs(){return 0!=(6&Es)?Xe():-1!==Qs?Qs:Qs=Xe()}function Ys(e){return 0==(1&e.mode)?1:0!=(2&Es)&&0!==Ts?Ts&-Ts:null!==Ui.transition?(0===Js&&(Js=mt()),Js):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function Zs(e,t,n){if(50<Ks)throw Ks=0,qs=null,Error(a(185));var r=eu(e,t);return null===r?null:(yt(r,t,n),0!=(2&Es)&&r===Ps||(r===Ps&&(0==(2&Es)&&(Ws|=t),4===Is&&lu(r,Ts)),nu(r,n),1===t&&0===Es&&0==(1&e.mode)&&(js=Xe()+500,ji&&Bi())),r)}function eu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tu(e){return(null!==Ps||null!==ea)&&0!=(1&e.mode)&&0==(2&Es)}function nu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-lt(a),o=1<<l,s=i[l];-1===s?0!=(o&n)&&0==(o&r)||(i[l]=dt(o,t)):s<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=ft(e,e===Ps?Ts:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(ou.bind(null,e)):zi(ou.bind(null,e)),li((function(){0===Es&&Bi()})),n=null;else{switch(St(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tu(n,ru.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ru(e,t){if(Qs=-1,Js=0,0!=(6&Es))throw Error(a(327));var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var r=ft(e,e===Ps?Ts:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=mu(e,r);else{t=r;var i=Es;Es|=2;var l=du();for(Ps===e&&Ts===t||(Ms=null,js=Xe()+500,hu(e,t));;)try{yu();break}catch(t){fu(e,t)}Qi(),Cs.current=l,Es=i,null!==xs?t=0:(Ps=null,Ts=0,t=Is)}if(0!==t){if(2===t&&0!==(i=pt(e))&&(r=i,t=iu(e,i)),1===t)throw n=As,hu(e,0),lu(e,r),nu(e,Xe()),n;if(6===t)lu(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!or(a(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mu(e,r))&&0!==(l=pt(e))&&(r=l,t=iu(e,l)),1===t))throw n=As,hu(e,0),lu(e,r),nu(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Su(e,Vs,Ms);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=Ds+500-Xe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Xs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Su.bind(null,e,Vs,Ms),t);break}Su(e,Vs,Ms);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-lt(r);l=1<<o,(o=t[o])>i&&(i=o),r&=~l}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ws(r/1960))-r)){e.timeoutHandle=ri(Su.bind(null,e,Vs,Ms),r);break}Su(e,Vs,Ms);break;default:throw Error(a(329))}}}return nu(e,Xe()),e.callbackNode===n?ru.bind(null,e):null}function iu(e,t){var n=Rs;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=mu(e,t))&&(t=Vs,Vs=n,null!==t&&au(t)),e}function au(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function lu(e,t){for(t&=~Ls,t&=~Ws,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lt(t),r=1<<n;e[n]=-1,t&=~r}}function ou(e){if(0!=(6&Es))throw Error(a(327));wu();var t=ft(e,0);if(0==(1&t))return nu(e,Xe()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=iu(e,r))}if(1===n)throw n=As,hu(e,0),lu(e,t),nu(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Su(e,Vs,Ms),nu(e,Xe()),null}function su(e,t){var n=Es;Es|=1;try{return e(t)}finally{0===(Es=n)&&(js=Xe()+500,ji&&Bi())}}function uu(e){null!==$s&&0===$s.tag&&0==(6&Es)&&wu();var t=Es;Es|=1;var n=ks.transition,r=bt;try{if(ks.transition=null,bt=1,e)return e()}finally{bt=r,ks.transition=n,0==(6&(Es=t))&&Bi()}}function cu(){Os=Ns.current,Ei(Ns)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==xs)for(n=xs.return;null!==n;){var r=n;switch(Oa(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Fi();break;case 3:el(),Ei(Oi),Ei(Ti),ll();break;case 5:nl(r);break;case 4:el();break;case 13:case 19:Ei(rl);break;case 10:Ji(r.type._context);break;case 22:case 23:cu()}n=n.return}if(Ps=e,xs=e=Au(e.current,null),Ts=Os=t,Is=0,As=null,Ls=Ws=Fs=0,Vs=Rs=null,null!==ea){for(t=0;t<ea.length;t++)if(null!==(r=(n=ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var l=a.next;a.next=i,r.next=l}n.pending=r}ea=null}return e}function fu(e,t){for(;;){var n=xs;try{if(Qi(),ol.current=to,dl){for(var r=cl.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}dl=!1}if(ul=0,fl=hl=cl=null,pl=!1,ml=0,_s.current=null,null===n||null===n.return){Is=1,As=t,xs=null;break}e:{var l=e,o=n.return,s=n,u=t;if(t=Ts,s.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,h=s,f=h.tag;if(0==(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=mo(o);if(null!==p){p.flags&=-257,go(p,o,s,0,t),1&p.mode&&po(l,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0==(1&t)){po(l,c,t),pu();break e}u=Error(a(426))}else if(Aa&&1&s.mode){var y=mo(o);if(null!==y){0==(65536&y.flags)&&(y.flags|=256),go(y,o,s,0,t),za(u);break e}}l=u,4!==Is&&(Is=2),null===Rs?Rs=[l]:Rs.push(l),u=ao(u,s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,oa(s,ho(0,u,t));break e;case 1:l=u;var v=s.type,b=s.stateNode;if(0==(128&s.flags)&&("function"==typeof v.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===Us||!Us.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,oa(s,fo(s,l,t));break e}}s=s.return}while(null!==s)}bu(n)}catch(e){t=e,xs===n&&null!==n&&(xs=n=n.return);continue}break}}function du(){var e=Cs.current;return Cs.current=to,null===e?to:e}function pu(){0!==Is&&3!==Is&&2!==Is||(Is=4),null===Ps||0==(268435455&Fs)&&0==(268435455&Ws)||lu(Ps,Ts)}function mu(e,t){var n=Es;Es|=2;var r=du();for(Ps===e&&Ts===t||(Ms=null,hu(e,t));;)try{gu();break}catch(t){fu(e,t)}if(Qi(),Es=n,Cs.current=r,null!==xs)throw Error(a(261));return Ps=null,Ts=0,Is}function gu(){for(;null!==xs;)vu(xs)}function yu(){for(;null!==xs&&!Qe();)vu(xs)}function vu(e){var t=Ss(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?bu(e):xs=t,_s.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=bo(n,t,Os)))return void(xs=n)}else{if(null!==(n=$o(n,t)))return n.flags&=32767,void(xs=n);if(null===e)return Is=6,void(xs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(xs=t);xs=t=e}while(null!==t);0===Is&&(Is=5)}function Su(e,t,n){var r=bt,i=ks.transition;try{ks.transition=null,bt=1,function(e,t,n,r){do{wu()}while(null!==$s);if(0!=(6&Es))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-lt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,l),e===Ps&&(xs=Ps=null,Ts=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||Gs||(Gs=!0,Tu(tt,(function(){return wu(),null}))),l=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||l){l=ks.transition,ks.transition=null;var o=bt;bt=1;var s=Es;Es|=4,_s.current=null,function(e,t){if(ei=Gt,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch(e){n=null;break e}var o=0,s=-1,u=-1,c=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(s=o+i),f!==l||0!==r&&3!==f.nodeType||(u=o+r),3===f.nodeType&&(o+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++c===i&&(s=o),d===l&&++h===r&&(u=o),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===s||-1===u?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Qo=t;null!==Qo;)if(e=(t=Qo).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,Qo=e;else for(;null!==Qo;){t=Qo;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:Gi(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=t.stateNode.containerInfo;if(1===S.nodeType)S.textContent="";else if(9===S.nodeType){var w=S.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(e){_u(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Qo=e;break}Qo=t.return}m=Yo,Yo=!1}(e,n),ds(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,ms(n,e,i),Je(),Es=s,bt=o,ks.transition=l}else e.current=n;if(Gs&&(Gs=!1,$s=e,Hs=i),0===(l=e.pendingLanes)&&(Us=null),function(e){if(at&&"function"==typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode),nu(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(zs)throw zs=!1,e=Bs,Bs=null,e;0!=(1&Hs)&&0!==e.tag&&wu(),0!=(1&(l=e.pendingLanes))?e===qs?Ks++:(Ks=0,qs=e):Ks=0,Bi()}(e,t,n,r)}finally{ks.transition=i,bt=r}return null}function wu(){if(null!==$s){var e=St(Hs),t=ks.transition,n=bt;try{if(ks.transition=null,bt=16>e?16:e,null===$s)var r=!1;else{if(e=$s,$s=null,Hs=0,0!=(6&Es))throw Error(a(331));var i=Es;for(Es|=4,Qo=e.current;null!==Qo;){var l=Qo,o=l.child;if(0!=(16&Qo.flags)){var s=l.deletions;if(null!==s){for(var u=0;u<s.length;u++){var c=s[u];for(Qo=c;null!==Qo;){var h=Qo;switch(h.tag){case 0:case 11:case 15:Zo(8,h,l)}var f=h.child;if(null!==f)f.return=h,Qo=f;else for(;null!==Qo;){var d=(h=Qo).sibling,p=h.return;if(ns(h),h===c){Qo=null;break}if(null!==d){d.return=p,Qo=d;break}Qo=p}}}var m=l.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Qo=l}}if(0!=(2064&l.subtreeFlags)&&null!==o)o.return=l,Qo=o;else e:for(;null!==Qo;){if(0!=(2048&(l=Qo).flags))switch(l.tag){case 0:case 11:case 15:Zo(9,l,l.return)}var v=l.sibling;if(null!==v){v.return=l.return,Qo=v;break e}Qo=l.return}}var b=e.current;for(Qo=b;null!==Qo;){var S=(o=Qo).child;if(0!=(2064&o.subtreeFlags)&&null!==S)S.return=o,Qo=S;else e:for(o=b;null!==Qo;){if(0!=(2048&(s=Qo).flags))try{switch(s.tag){case 0:case 11:case 15:es(9,s)}}catch(e){_u(s,s.return,e)}if(s===o){Qo=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Qo=w;break e}Qo=s.return}}if(Es=i,Bi(),at&&"function"==typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(e){}r=!0}return r}finally{bt=n,ks.transition=t}}return!1}function Cu(e,t,n){aa(e,t=ho(0,t=ao(n,t),1)),t=Xs(),null!==(e=eu(e,1))&&(yt(e,1,t),nu(e,t))}function _u(e,t,n){if(3===e.tag)Cu(e,e,n);else for(;null!==t;){if(3===t.tag){Cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Us||!Us.has(r))){aa(t,e=fo(t,e=ao(n,e),1)),e=Xs(),null!==(t=eu(t,1))&&(yt(t,1,e),nu(t,e));break}}t=t.return}}function ku(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Xs(),e.pingedLanes|=e.suspendedLanes&n,Ps===e&&(Ts&n)===n&&(4===Is||3===Is&&(130023424&Ts)===Ts&&500>Xe()-Ds?hu(e,0):Ls|=n),nu(e,t)}function Eu(e,t){0===t&&(0==(1&e.mode)?t=1:(t=ct,0==(130023424&(ct<<=1))&&(ct=4194304)));var n=Xs();null!==(e=eu(e,t))&&(yt(e,t,n),nu(e,n))}function Pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Eu(e,n)}function xu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Eu(e,n)}function Tu(e,t){return Ke(e,t)}function Ou(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nu(e,t,n,r){return new Ou(e,t,n,r)}function Iu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Au(e,t){var n=e.alternate;return null===n?((n=Nu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fu(e,t,n,r,i,l){var o=2;if(r=e,"function"==typeof e)Iu(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case _:return Wu(n.children,i,l,t);case k:o=8,i|=8;break;case E:return(e=Nu(12,n,t,2|i)).elementType=E,e.lanes=l,e;case O:return(e=Nu(13,n,t,i)).elementType=O,e.lanes=l,e;case N:return(e=Nu(19,n,t,i)).elementType=N,e.lanes=l,e;case F:return Lu(n,i,l,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case P:o=10;break e;case x:o=9;break e;case T:o=11;break e;case I:o=14;break e;case A:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nu(o,n,t,i)).elementType=e,t.type=r,t.lanes=l,t}function Wu(e,t,n,r){return(e=Nu(7,e,r,t)).lanes=n,e}function Lu(e,t,n,r){return(e=Nu(22,e,r,t)).elementType=F,e.lanes=n,e.stateNode={},e}function Ru(e,t,n){return(e=Nu(6,e,null,t)).lanes=n,e}function Vu(e,t,n){return(t=Nu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Du(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ju(e,t,n,r,i,a,l,o,s){return e=new Du(e,t,n,o,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nu(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},na(a),e}function Mu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zu(e){if(!e)return xi;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Li(e,n,t)}return t}function Bu(e,t,n,r,i,a,l,o,s){return(e=ju(n,r,!0,e,0,a,0,o,s)).context=zu(null),n=e.current,(a=ia(r=Xs(),i=Ys(n))).callback=null!=t?t:null,aa(n,a),e.current.lanes=i,yt(e,i,r),nu(e,r),e}function Uu(e,t,n,r){var i=t.current,a=Xs(),l=Ys(i);return n=zu(n),null===t.context?t.context=n:t.pendingContext=n,(t=ia(a,l)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),aa(i,t),null!==(e=Zs(i,l,a))&&la(e,i,l),l}function Gu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $u(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hu(e,t){$u(e,t),(e=e.alternate)&&$u(e,t)}Ss=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oi.current)wo=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return wo=!1,function(e,t,n){switch(t.tag){case 3:Io(t),Ma();break;case 5:tl(t);break;case 1:Ai(t.type)&&Ri(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Pi($i,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Pi(rl,1&rl.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Ro(e,t,n):(Pi(rl,1&rl.current),null!==(e=Go(e,t,n))?e.sibling:null);Pi(rl,1&rl.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return Uo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pi(rl,rl.current),r)break;return null;case 22:case 23:return t.lanes=0,Po(e,t,n)}return Go(e,t,n)}(e,t,n);wo=0!=(131072&e.flags)}else wo=!1,Aa&&0!=(1048576&t.flags)&&xa(t,Sa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ii(t,Ti.current);Yi(t,n),i=bl(null,t,r,e,i,n);var l=Sl();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(l=!0,Ri(t)):l=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,na(t),i.updater=fa,t.stateNode=i,i._reactInternals=t,ga(t,r,e,n),t=No(null,t,r,!0,l,n)):(t.tag=0,Aa&&l&&Ta(t),Co(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Iu(e)?1:0;if(null!=e){if((e=e.$$typeof)===T)return 11;if(e===I)return 14}return 2}(r),e=Gi(r,e),i){case 0:t=To(null,t,r,e,n);break e;case 1:t=Oo(null,t,r,e,n);break e;case 11:t=_o(null,t,r,e,n);break e;case 14:t=ko(null,t,r,Gi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,To(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Oo(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 3:e:{if(Io(t),null===e)throw Error(a(387));r=t.pendingProps,i=(l=t.memoizedState).element,ra(e,t),sa(t,r,null,n);var o=t.memoizedState;if(r=o.element,l.isDehydrated){if(l={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Ao(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Ao(e,t,r,n,i=Error(a(424)));break e}for(Ia=ui(t.stateNode.containerInfo.firstChild),Na=t,Aa=!0,Fa=null,n=Ka(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Ma(),r===i){t=Go(e,t,n);break e}Co(e,t,r,n)}t=t.child}return t;case 5:return tl(t),null===e&&Va(t),r=t.type,i=t.pendingProps,l=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==l&&ni(r,l)&&(t.flags|=32),xo(e,t),Co(e,t,o,n),t.child;case 6:return null===e&&Va(t),null;case 13:return Ro(e,t,n);case 4:return Za(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ha(t,null,r,n):Co(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_o(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 7:return Co(e,t,t.pendingProps,n),t.child;case 8:case 12:return Co(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,l=t.memoizedProps,o=i.value,Pi($i,r._currentValue),r._currentValue=o,null!==l)if(or(l.value,o)){if(l.children===i.children&&!Oi.current){t=Go(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var s=l.dependencies;if(null!==s){o=l.child;for(var u=s.firstContext;null!==u;){if(u.context===r){if(1===l.tag){(u=ia(-1,n&-n)).tag=2;var c=l.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),Xi(l.return,n,t),s.lanes|=n;break}u=u.next}}else if(10===l.tag)o=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(o=l.return))throw Error(a(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),Xi(o,n,t),o=l.sibling}else o=l.child;if(null!==o)o.return=l;else for(o=l;null!==o;){if(o===t){o=null;break}if(null!==(l=o.sibling)){l.return=o.return,o=l;break}o=o.return}l=o}Co(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Yi(t,n),r=r(i=Zi(i)),t.flags|=1,Co(e,t,r,n),t.child;case 14:return i=Gi(r=t.type,t.pendingProps),ko(e,t,r,i=Gi(r.type,i),n);case 15:return Eo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ai(r)?(e=!0,Ri(t)):e=!1,Yi(t,n),pa(t,r,i),ga(t,r,i,n),No(null,t,r,!0,e,n);case 19:return Uo(e,t,n);case 22:return Po(e,t,n)}throw Error(a(156,t.tag))};var Ku="function"==typeof reportError?reportError:function(e){console.error(e)};function qu(e){this._internalRoot=e}function Qu(e){this._internalRoot=e}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yu(){}function Zu(e,t,n,r,i){var a=n._reactRootContainer;if(a){var l=a;if("function"==typeof i){var o=i;i=function(){var e=Gu(l);o.call(e)}}Uu(t,l,e,i)}else l=function(e,t,n,r,i){if(i){if("function"==typeof r){var a=r;r=function(){var e=Gu(l);a.call(e)}}var l=Bu(t,r,e,0,null,!1,0,"",Yu);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),uu(),l}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var o=r;r=function(){var e=Gu(s);o.call(e)}}var s=ju(e,0,!1,null,0,!1,0,"",Yu);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),uu((function(){Uu(t,s,n,r)})),s}(n,t,e,i,r);return Gu(l)}Qu.prototype.render=qu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Uu(e,t,null,null)},Qu.prototype.unmount=qu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uu((function(){Uu(null,e,null,null)})),t[pi]=null}},Qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ft.length&&0!==t&&t<Ft[n].priority;n++);Ft.splice(n,0,e),0===n&&Vt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),nu(t,Xe()),0==(6&Es)&&(js=Xe()+500,Bi()))}break;case 13:var r=Xs();uu((function(){return Zs(e,1,r)})),Hu(e,1)}},Ct=function(e){13===e.tag&&(Zs(e,134217728,Xs()),Hu(e,134217728))},_t=function(e){if(13===e.tag){var t=Xs(),n=Ys(e);Zs(e,n,t),Hu(e,n)}},kt=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ce=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),Y(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=su,Oe=uu;var ec={usingClientEntryPoint:!1,Events:[bi,Si,wi,Pe,xe,su]},tc={findFiberByHostInstance:vi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),at=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ju(t))throw Error(a(200));return Mu(e,t,null,n)},t.createRoot=function(e,t){if(!Ju(e))throw Error(a(299));var n=!1,r="",i=Ku;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=ju(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new qu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e){return uu(e)},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(a(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ju(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,l="",o=Ku;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(l=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Bu(t,null,e,1,null!=n?n:null,i,0,l,o),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qu(t)},t.render=function(e,t,n){if(!Xu(t))throw Error(a(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(a(40));return!!e._reactRootContainer&&(uu((function(){Zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=su,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zu(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},745:(e,t,n)=>{"use strict";var r=n(935);t.s=r.createRoot,r.hydrateRoot},935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(448)},921:(e,t)=>{"use strict";Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen");Symbol.for("react.module.reference")},864:(e,t,n)=>{"use strict";n(921)},251:(e,t,n)=>{"use strict";var r=n(294),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)l.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:a,_owner:o.current}}t.Fragment=a,t.jsx=u,t.jsxs=u},408:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var S=b.prototype=new v;S.constructor=b,m(S,y.prototype),S.isPureReactComponent=!0;var w=Array.isArray,C=Object.prototype.hasOwnProperty,_={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},l=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(l=""+t.key),t)C.call(t,i)&&!k.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:l,ref:o,props:a,_owner:_.current}}function P(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,i,a,l){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var s=!1;if(null===e)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return l=l(s=e),e=""===a?"."+T(s,0):a,w(l)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),O(l,t,i,"",(function(e){return e}))):null!=l&&(P(l)&&(l=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,i+(!l.key||s&&s.key===l.key?"":(""+l.key).replace(x,"$&/")+"/")+e)),t.push(l)),1;if(s=0,a=""===a?".":a+":",w(e))for(var u=0;u<e.length;u++){var c=a+T(o=e[u],u);s+=O(o,t,i,c,l)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(o=e.next()).done;)s+=O(o=o.value,t,i,c=a+T(o,u++),l);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return O(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},F={transition:null},W={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:F,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!P(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=l,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,l=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,o=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)C.call(t,u)&&!k.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==s?s[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){s=Array(u);for(var c=0;c<u;c++)s[c]=arguments[c+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:l,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=F.transition;F.transition={};try{e()}finally{F.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.1.0"},294:(e,t,n)=>{"use strict";e.exports=n(408)},893:(e,t,n)=>{"use strict";e.exports=n(251)},53:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,l=i>>>1;r<l;){var o=2*(r+1)-1,s=e[o],u=o+1,c=e[u];if(0>a(s,n))u<i&&0>a(c,s)?(e[r]=c,e[u]=n,r=u):(e[r]=s,e[o]=n,r=o);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var u=[],c=[],h=1,f=null,d=3,p=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function S(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(g=!1,S(e),!m)if(null!==r(u))m=!0,F(C);else{var t=r(c);null!==t&&W(w,t.startTime-e)}}function C(e,n){m=!1,g&&(g=!1,v(P),P=-1),p=!0;var a=d;try{for(S(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!O());){var l=f.callback;if("function"==typeof l){f.callback=null,d=f.priorityLevel;var o=l(f.expirationTime<=n);n=t.unstable_now(),"function"==typeof o?f.callback=o:f===r(u)&&i(u),S(n)}else i(u);f=r(u)}if(null!==f)var s=!0;else{var h=r(c);null!==h&&W(w,h.startTime-n),s=!1}return s}finally{f=null,d=a,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,k=!1,E=null,P=-1,x=5,T=-1;function O(){return!(t.unstable_now()-T<x)}function N(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?_():(k=!1,E=null)}}else k=!1}if("function"==typeof b)_=function(){b(N)};else if("undefined"!=typeof MessageChannel){var I=new MessageChannel,A=I.port2;I.port1.onmessage=N,_=function(){A.postMessage(null)}}else _=function(){y(N,0)};function F(e){E=e,k||(k=!0,_())}function W(e,n){P=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,F(C))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var l=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?l+a:l,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>l?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(g?(v(P),P=-1):g=!0,W(w,a-l))):(e.sortIndex=o,n(u,e),m||p||(m=!0,F(C))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},840:(e,t,n)=>{"use strict";e.exports=n(53)},250:(e,t,n)=>{"use strict";var r=n(294),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useState,l=r.useEffect,o=r.useLayoutEffect,s=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return o((function(){i.value=n,i.getSnapshot=t,u(i)&&c({inst:i})}),[e,n,t]),l((function(){return u(i)&&c({inst:i}),e((function(){u(i)&&c({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},139:(e,t,n)=>{"use strict";var r=n(294),i=n(688),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=i.useSyncExternalStore,o=r.useRef,s=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var h=o(null);if(null===h.current){var f={hasValue:!1,value:null};h.current=f}else f=h.current;h=u((function(){function e(e){if(!s){if(s=!0,l=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return o=t}return o=e}if(t=o,a(l,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(l=e,o=n)}var l,o,s=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,i]);var d=l(e,h[0],h[1]);return s((function(){f.hasValue=!0,f.value=d}),[d]),c(d),d}},688:(e,t,n)=>{"use strict";e.exports=n(250)},798:(e,t,n)=>{"use strict";e.exports=n(139)}},e=>{e(e.s=117)}]);
//# sourceMappingURL=app.js.map